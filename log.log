id : https://itunes.apple.com/us/audiobook/the-shack-unabridged/id669281653?uo=2
title : The Shack (Unabridged) - Wm. Paul Young
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/unshakeable-your-financial-freedom-playbook-unabridged/id1207016801?uo=2
title : Unshakeable: Your Financial Freedom Playbook (Unabridged) - Tony Robbins
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/subtle-art-not-giving-f-ck-counterintuitive-approach/id1145994258?uo=2
title : The Subtle Art of Not Giving a F*ck: A Counterintuitive Approach to Living a Good Life (Unabridged) - Mark Manson
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/big-little-lies-unabridged/id897962910?uo=2
title : Big Little Lies (Unabridged) - Liane Moriarty
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/the-four-agreements-unabridged/id314985433?uo=2
title : The Four Agreements (Unabridged) - Don Miguel Ruiz
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/how-to-win-friends-influence-people-unabridged/id315598298?uo=2
title : How to Win Friends & Influence People (Unabridged) - Dale Carnegie
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/silence-fallen-a-mercy-thompson-novel-book-10-unabridged/id1200920878?uo=2
title : Silence Fallen: A Mercy Thompson Novel, Book 10 (Unabridged) - Patricia Briggs
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/the-girl-before-a-novel-unabridged/id1186074302?uo=2
title : The Girl Before: A Novel (Unabridged) - J.P. Delaney
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/awaken-the-giant-within/id215646478?uo=2
title : Awaken the Giant Within - Anthony Robbins
updated : 2017-03-07T14:34:26-07:00
id : https://itunes.apple.com/us/audiobook/the-art-of-war-unabridged/id311281078?uo=2
title : The Art of War (Unabridged) - Sun Tzu
updated : 2017-03-07T14:34:26-07:00
title : スタートアップ広報が新規上場するときに気をつけておきたいこと
link : http://tech.uzabase.com/entry/2016/12/08/172316
description : <div>こんにちは、ユーザベースで広報とIRを担当している山田です。2016年10月21日、株式会社ユーザベースは東京証券取引所マザーズに上場しました。</div>
<div> </div>
<div><iframe style="border: none; overflow: hidden;" src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fuzabase%2Fposts%2F1264328823599210&amp;width=500" width="500" height="539" frameborder="0" scrolling="no"></iframe></div>
<div> </div>
<div>上場できたのもこれまで支えていただいた皆さまのおかげです……といった形式ばったことは最小限に留めておいて、上場にあたって広報ノウハウがあまり公開されていなくて本気で困ったので、Tech Blogの場を借りて、今後増えてくると思われる上場準備中の企業の広報担当者さんたち向けに<strong>「スタートアップが新規上場（IPO）する際に広報として気をつけておきたいこと」</strong>をまとめたいと思います。</div>
<div> </div>
<div>なおユーザベースのバックオフィスチームには公認会計士の資格を持つメンバーが、ファームを作れるぐらいの人数いるという幸運もあったため、本記事では財務や会計的な側面には触れません。</div>
<div> </div>
<h3>上場前</h3>
<div> </div>
<div>上場前にできることはそれほどありません。上場承認後に必要になる作業を想像して、それへの情報収集と対策を粛々と進めていきます。</div>
<div> </div>
<div>ユーザベースの場合は以下の作業に主にリソースを割きました。</div>
<div> </div>
<div>
<ul>
<li>目論見書カラーページの制作</li>
<li>IRページの制作</li>
<li>上場当日セレモニーの演出</li>
<li>上場後最初となる決算説明会の準備</li>
</ul>
</div>
<div> </div>
<div>特に目論見書とIRページについては、上場承認後に投資家との接点になる最重要ポイントです。「私たちが何者であるか」を知っていただいて、会社の何を評価して、株式を保有してほしいかというメッセージが伝わるものにしなければなりません。</div>
<div> </div>
<div>会社によって何を知ってほしいかという軸は異なりますが、私たちが伝えたいメッセージは<strong>「経済情報で、世界をかえる」</strong>というミッションです。このミッションとコーポレートカラーである赤、そして大事にしている<strong>「7つのルール」</strong>を前面に推し出すことにしました。​</div>
<div> </div>
<div>
<p><img class="hatena-fotolife" title="f:id:kiyohero:20161207132340p:plain" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiyohero/20161207/20161207132340.png" alt="f:id:kiyohero:20161207132340p:plain" /></p>
<p><img class="hatena-fotolife" title="f:id:kiyohero:20161207132352p:plain" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiyohero/20161207/20161207132352.png" alt="f:id:kiyohero:20161207132352p:plain" /></p>
</div>
<p> </p>
<p>「何を知ってほしいか」は会社によってそれぞれだと思うので、経営陣も交えてしっかり議論した上で、方針を決めるのが良いと思います。</p>
<p> </p>
<h3>上場承認〜上場当日</h3>
<div> </div>
<div>上場承認が下りたら、いよいよ上場に向けたスパートのはじまりです。顧客、社員、投資家など様々なステークホルダーに適切に情報を届ける必要があります。</div>
<div> </div>
<div>まず承認を受けたら、公式情報としてすぐにプレスリリースを出します。ネット上での最速情報としてTDnetのPDFがありますが、テキストベースのフォーマットで自社の情報を発信した方がシェアされやすいと思います。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="東京証券取引所マザーズ市場への新規上場承認に関するお知らせ - 株式会社ユーザベース" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Flisting-aproval%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/listing-aproval/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>上場当日ももちろんプレスリリースを出した方が良いです。上場当日はセレモニー等の準備でばたばたしていますが、場が開く9時より前には公開できていると良いと思います。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="東京証券取引所マザーズ市場上場のお知らせ" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Flisting-information%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/listing-information/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>また同日に、コーポレートサイトのIRページも公開します。（上場日前には公開してはいけません。）</div>
<div> </div>
<div>だいたいのコンテンツは有報などから自動で取得されますが、「株主の皆さまへ」といったコンテンツは自社で用意する必要があります。投資家・株主の方々は事業内容や業績のほかに、社長や従業員のキャラクターも重要視されるので、肩肘張ったものではなくて「らしさ」が出るものが良いと思います。ユーザベースの場合は創業メンバー3人からの『3つの約束』として公開しています。</div>
<div> </div>
<div>
<blockquote>
<div><strong>株主・投資家の皆様へ 3つの約束</strong></div>
<div>
<ol>
<li><strong>「経済情報で、世界をかえる」このビジョンの達成に向けて忠実に行動します。</strong></li>
<li><strong>良い時も悪い時も、正直に話します。</strong></li>
<li><strong>有言実行を積み重ねる事で、信頼を獲得していきます。</strong></li>
</ol>
</div>
</blockquote>
</div>
<div>
<p> </p>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="株主・投資家の皆様へ" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fir%2Ftopmessage%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/ir/topmessage/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>「社員の顔が見えることが重要」というのは、プロピッカーでもあるレオス・キャピタルワークス 藤野英人さんの記事を参考にしました。この分析については自分の感覚とも合致していてすごく納得感がありました。現在進めているコーポレートサイトリニューアルでも、もっと社員の人となりが見えるものにしていく予定です。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="藤野英人さん「投資家は社員の『顔』が見える企業の株を買いたい」 | 広報会議 2014年11月号" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmag.sendenkaigi.com%2Fkouhou%2F201411%2Foffice-pr%2F003567.php" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://mag.sendenkaigi.com/kouhou/201411/office-pr/003567.php">mag.sendenkaigi.com</a></cite></p>
</div>
<div> </div>
<div>ちなみに承認発表日は想定以上のトラフィックが来たため、一時的にサイトにアクセスいただけない状態が発生してしまいました。大変嬉しい悲鳴ではありますが、同時にとても恥ずかしいことでもあるので、サイトがダウンする可能性は最大限排除しておきましょう。</div>
<div> </div>
<h3>上場後</h3>
<div> </div>
<div>上場後はより広報的な技量が求められます。上場に伴って増えるメディアや投資家からの面談依頼、兜倶楽部とのお付き合い、適時開示を含めた投資家とのコミュニケーション等々……。</div>
<div> </div>
<div>変わらずにあるのは「どうコミュニケーションすれば自社のファンになってくれるのか」という視点です。ユーザベースは少し変わったかたちのIRとして、を使った個人投資家向けIR活動を開始しています。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【ユーザベース】最新決算と僕たちのすべて" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1853866%3Fref%3Duser_9317" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1853866?ref=user_9317">newspicks.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="ユーザベース、個人投資家の皆さまに向けたスマホ時代のIRを開始" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Fuzabse-ir-privateinvestors%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/uzabse-ir-privateinvestors/">www.uzabase.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【採録】「BtoBとBtoCを持っているのが強み」 ユーザベース個人投資家説明会リポート 前編" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1932305%3Fref%3Duser_291503" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1932305?ref=user_291503">newspicks.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【採録】「メディアは上場すべきか」「株主優待に有料オプションを」などに回答 ユーザベース個人投資家説明会 後編" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1932352%3Fref%3Duser_291503" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1932352?ref=user_291503">newspicks.com</a></cite></p>
</div>
<div> </div>
<div>上場というのは会社が変化する極めて大事なタイミングですが、これを活かして「より強い会社をつくる」きっかけにできると良いなと、上場を経て感じました。この記事がこれから上場される皆さまの参考になれば幸いです。</div>
<div> </div>
<p>（この記事は『<a href="http://www.adventar.org/calendars/1929">広報マーケティング Advent Calendar 2016 - Adventar</a>』の8日目の記事です。広報・マーケティング界隈の方のご参加をお待ちしています！） </p>
guid : hatenablog://entry/10328749687197977231
enclosure : 
title : CI環境 に関する Tips を共有する勉強会「Web Tech Tokyo #2」を開催しました
link : http://tech.uzabase.com/entry/2016/12/05/101546
description : <p>こんにちは。ニューズピックスの大川です。2016年11月14日に、Web系エンジニア同士でTipsを共有しあう交流会 「Web Tech Tokyo」の第2回目をユーザベースで開催しました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fweb-tech-tokyo.connpass.com%2Fevent%2F43773%2F" title="Web Tech Tokyo #2（CI環境 Tips 共有会） (2016/11/14 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://web-tech-tokyo.connpass.com/event/43773/">web-tech-tokyo.connpass.com</a></cite></p>

<p>このイベントでは、参加者全員がWeb系の開発Tipsを発表し、楽しく議論します。</p>

<p>第2回目は <b>CI環境 をテーマ</b>に、日頃困っていることや成果を出したことについて発表し、交流する場にしました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161128/20161128162435.jpg" alt="f:id:horobetsu613:20161128162435j:plain" title="f:id:horobetsu613:20161128162435j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">フリードリンクと軽食を楽しみつつ、和気あいあいと進行します</span></p>

<p><a href="http://tech.uzabase.com/entry/2016/10/28/133638">Web Tech Tkyo #1</a>では12名の方に発表していただき、内容がとてもボリュームのある回でした。</p>

<p>今回はもう少し人数を減らして募集枠を6名とし、「<b>Jenkinsで自動的に画面キャプチャする方法</b>」「<b>テスト文化のない組織にテストを導入した話</b>」など実践的なお話しを発表していただきました。</p>

<p>どの方も熱心に CI環境 に取り組まれているので、かなり収穫が多く密度の高い勉強会になったと思います。シェアいただいたスライドも下記に投稿しておりますので是非ご覧ください。ざっくばらんに話す中で、様々なおもしろい情報を交換するため、その場にいた方が間違いなくおもしろいです！</p>

<p>第3回目は2017年の年明けに開催を予定しております。テーマはまだ決めていませんが、「<b>ユーザー行動ログ解析の実際</b>」や「<b>どの Javascript Framework を選ぶか</b>」のようなテーマで行おうかと考えております。</p>

<p>4〜6名程度の発表者枠に、数名の聴講枠を追加するつもりです。次回もconnpassのページで告知しますので、ご興味のある方は是非ご参加くださいませ！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fweb-tech-tokyo.connpass.com%2F" title="Web Tech Tokyo" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://web-tech-tokyo.connpass.com/">web-tech-tokyo.connpass.com</a></cite></p>

<h5>公開スライド</h5>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_370405" mozallowfullscreen="true" src="//speakerdeck.com/player/fb1579ae2f814609a3183ce52d26fe80" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/feb0223/jenkinsdewebhua-mian-kiyaputiya">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_369510" mozallowfullscreen="true" src="//speakerdeck.com/player/e2f66649a9094d7ea7506d2c8fd98cd8" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/leko/rekasinakai-fa-xian-chang-niutworu-reteciwodao-ru-sitahua">speakerdeck.com</a></cite></p>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/iDvLLUMnVrhafF" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/toshihumianan/gcpci" title="GCPでCI環境を構築する" target="_blank">GCPでCI環境を構築する</a> </strong> from <strong><a target="_blank" href="http://www.slideshare.net/toshihumianan">Toshihumi Anan</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/toshihumianan/gcpci">www.slideshare.net</a></cite></p>

guid : hatenablog://entry/10328749687196383456
enclosure : 
title : Docker に関する Tips を共有する勉強会「Web Tech Tokyo #1」を開催しました
link : http://tech.uzabase.com/entry/2016/10/28/133638
description : <p>こんにちは。ニューズピックスの大川です。先日、<b>WebTechTokyo</b>というイベントの第1回目をユーザベースオフィスで開催しました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweb-tech-tokyo.connpass.com%2Fevent%2F40548%2F" title="Web Tech Tokyo #1（Docker Tips 共有会） (2016/10/12 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://web-tech-tokyo.connpass.com/event/40548/">web-tech-tokyo.connpass.com</a></cite></p>

<p>このイベントでは、参加者全員がWeb系の開発Tipsを発表し、楽しく議論します。</p>

<p>第1回目は Docker をテーマに、日頃困っていることや成果を出したことについて発表し、議論し合う場にしました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161027/20161027102203.jpg" alt="f:id:horobetsu613:20161027102203j:plain" title="f:id:horobetsu613:20161027102203j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">会場の様子</span></p>

<p>全員に発表してもらうのは初の試みだったので、ハードルが高すぎて人が集まらないのではないかと不安でしたが、とてもありがたいことに12名の方に参加していただきました！</p>

<p>イベントの開催については何回も経験がありますが、全員が無遅刻無欠席という素晴らしい状況は初めてでした。時間を無駄にすることもなく、熱量をもって発表・議論できたことがとても嬉しかったです。</p>

<p>みなさんにたくさんの資料を共有いただきましたので、この記事の最後で是非ご覧ください。</p>

<p>他にも、残念ながら非公開ですが、「host machine も registry も jenkins も相次いで disk full になった話」「フロントエンドのエンジニアがひとりで環境構築するまでの話」などなど、たくさんの楽しい発表をしていただきました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161027/20161027104632.jpg" alt="f:id:horobetsu613:20161027104632j:plain" title="f:id:horobetsu613:20161027104632j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">ビールと軽食をつまみつつ、穏やかな雰囲気で進行しました</span></p>

<p>今回の反省点としては、</p>

<ul>
<li>みなさん、あまりお酒を飲まないのでソフトドリンクを充実させた方が良かった</li>
<li>ピザ・軽食が少し足りなかった</li>
<li>議論（交流）する時間をもっと取りたかった</li>
</ul>


<p>などがあったなと思っておりますので、これは次回必ず改善します！</p>

<p><b>第2回は 11/14（月）</b> を予定しております。<b>テーマは、「CI環境」</b>です。</p>

<p>すこし範囲が大きいテーマですが、「ビルド」「デプロイ」「テスト」などの自動化に関して、みなさんがどうしているか、何に困っているか、どういうツールを導入しているか、などなどを発表・議論していけたらと思っています。</p>

<p>connpassのページで告知しますので、ご興味のある方は是非ご参加ください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweb-tech-tokyo.connpass.com%2F" title="Web Tech Tokyo" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://web-tech-tokyo.connpass.com/">web-tech-tokyo.connpass.com</a></cite></p>

<h5>公開された資料</h5>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363274" mozallowfullscreen="true" src="//speakerdeck.com/player/15b4797783ce4e1b8823400cf0cd776c" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kotatsu360/docker-with-packer">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_363199" mozallowfullscreen="true" src="//speakerdeck.com/player/5492fd03398548edb3ed0466c9665bb3" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/y13i/alpine-linux-falsesusume">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_363267" mozallowfullscreen="true" src="//speakerdeck.com/player/f381e1707b224583b39239cf152736c2" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/himaoka/sysdigshi-ouze-kontenaziyanakutemo">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363211" mozallowfullscreen="true" src="//speakerdeck.com/player/99f5a025bdb546449c14cf4ae0c4f6ad" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/dtan4/web-tech-tokyo-number-1">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363130" mozallowfullscreen="true" src="//speakerdeck.com/player/e86eec55af364e4181be00f9881e802d" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/hoshinotsuyoshi/hatutichu-li-tehakowoshi-uhua">speakerdeck.com</a></cite></p>

guid : hatenablog://entry/10328749687191490863
enclosure : 
title : エンジニア向けMeetupイベントレポート　第4回：『大規模サービスを支えるインフラ』
link : http://tech.uzabase.com/entry/2016/07/21/102954
description : <p>こんにちは！SPEEDA Techチームの清水です。<br>
<br>
毎月開催してきたユーザベース Meetupも、ついに第4回を数えました。<br>
回を重ねていくうちにノウハウも溜まってきております。<br></p>

<h3>開催内容：『大規模サービスを支えるインフラ』</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>今回は CTOの杉浦が司会を務めました。
ぜ、ぜんぜん滑ってなんてないんだからね！
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094340.jpg" alt="f:id:kaonash:20160719094340j:plain" title="f:id:kaonash:20160719094340j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>さて、第3回に引き続き、今回も外部からスペシャルゲストをお招きいたしました。<br>
ファッションアプリiQONを開発するVASILYさんのインフラエンジニアを担当している光野さんにご登壇いただきました。<br>
実はVASILYさんは、ユーザベースが入っているビルの下の階にオフィスを構えているというご近所さん。そのご縁もあって時折エンジニア同士の交流をしており、今回も登壇をお願いいたしました。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094402.jpg" alt="f:id:kaonash:20160719094402j:plain" title="f:id:kaonash:20160719094402j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>内容はPackerやChefを活用して開発環境と本番環境を同じVMイメージから一括作成するというもの。自動化素晴らしい。<br>
<iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_350631" mozallowfullscreen="true" src="//speakerdeck.com/player/3f0048e00cb2495ab5920b139bd6547a" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kotatsu360/create-prod-and-dev-vm-image-atst-by-packer">speakerdeck.com</a></cite>
以前、Vasilyさんの他の社員の方のプレゼンを見た時にも感じましたが、みなさんプレゼンがうまい！
<br>
ユーザベースも魅力的なプレゼンが出来るように頑張らねばと刺激をいただきました。<br>
<br>
ユーザベースからも、それぞれSPEEDAとでインフラを担当しているエンジニアが登壇いたしました。<br>
SPEEDAはオンプレ、はAWSを使用しているため、お互い異なるノウハウや悩みがあり、どのように課題を解消しているのかについて発表をしてもらいました。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/fPX8utv3Y1LNWc" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/kw1X4Ypmukv3xe" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p>そしてお決まりのビールとピザで懇親会がスタート！<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094416.jpg" alt="f:id:kaonash:20160719094416j:plain" title="f:id:kaonash:20160719094416j:plain" class="hatena-fotolife" itemprop="image"></span>
懇親会では、いつも様々なバックグラウンドをもつ方と交流を深めることができ、大変有意義な時間となっており、今回も非常に実りある時間となりました。</p>

<h3>今後の予定</h3>

<p>ユーザベースでは定期的にMeetupイベントを開催しています。<br>
次回は調整中ですが、8月下旬に開催をする予定です。<br>
詳細が決まり次第connpassで募集を開始いたしますので、まだ参加をしたことがない方やリピーターの方も、ぜひ遊びに来てください！</p>

guid : hatenablog://entry/6653812171406238951
enclosure : 
title : 子育てと仕事を両立できる、ユーザベースでの働き方とは
link : http://tech.uzabase.com/entry/2016/07/19/121312
description : <p>こんにちは、インフラチームの小林です。</p>

<p>僕は、仕事と子育てを両立させながら働くエンジニアです。本当に両立できるのか、今回はユーザベースでの働き方についてご紹介します。</p>

<p>我が家は夫婦共働きで、5歳と2歳の娘がいます。</p>

<p>妻は今年の4月に復職が決まり、次女にも保育園に通ってもらうことになりました。保育園探しは大変で、やっと決まって安心したのもつかの間、1日目から長時間あずかってもらえるわけではないということに気付きました。</p>

<p>保育園に通うことを慣れてもらうための、「慣らし保育」というものがあったのです。</p>

<p>この期間中、次女のお迎え時間はお昼過ぎ。近くに親族もいないし、妻は復職します。さあどうしよう。悩んだ末、「僕が在宅勤務をする」という選択肢を選びました。育児・家事も分担制にして、朝は僕が家事や洗濯、登園準備を担当し、夜は妻にバトンタッチすることにしたのです。</p>

<h4><b>自由と無責任は違う</b></h4>

<p>僕が在宅勤務という選択をするにあたり、強く印象に残っている代表の梅田の言葉があります。</p>

<p>「仕事だけの人生ってつまらないよね。プライベートも大事にして、仕事とプライベートを高次元でバランスさせて、互いが原動力となり両輪がしっかりとまわっていく。そんな状態が理想だし、それを実現させるために起業したんだ。だから、生産性の向上をひたすら追及し、みんなが高いパフォーマンスを発揮することによって世界一休みが多い会社にしたい。」</p>

<p><iframe src="http://tech.uzabase.com/embed/2015/01/15/102658" title="世界一ハッピーでワクワクする会社を目指して ～SPEEDA, を生んだ企業文化～ - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/01/15/102658">tech.uzabase.com</a></cite></p>

<p>もちろん、在宅勤務は休みではありません。会社という場所にとらわれずに働くという選択肢です。だけど、子育てというプライベートを大切にしながら働きたい、そう思ったときに梅田の言葉が背中を押してくれました。</p>

<p>とはいえ、自分が達成すべき仕事にコミットしなければ、在宅勤務で子育てをするという僕の願いはかないません。きちんと責任を果たしたうえで、望みがかなう。個人的には、この順番を間違えてはいけないと肝に銘じ、在宅勤務でも結果を出すことで、周りも前向きに協力してくれると考えました。</p>

<h4><b>チームメンバーに感謝</b></h4>

<p>エンジニアという職業に就いている方は、「いやいや、そうは言っても顔を合わせて仕事をしないと厳しいときもあるでしょ」と思うでしょう。実際、在宅勤務を始めたときは、まさに佳境でした。スケジュールもタイトで、家にいると作業効率も落ちてしまう。</p>

<p>しかも、僕が在宅勤務になることで、他のメンバーにも仕事の引き継ぎが発生。「これは本当にフェアなのだろうか」という疑問があり、正直、在宅勤務を決めたことへの後ろめたさがありました。</p>

<p>その複雑な胸の内を、勇気をもってチームメンバーに話したんです。すると、反対どころか「ぜひ在宅勤務をしてください」と応援してくれて。本当に感謝の気持ちでいっぱいでした。</p>

<p>今後、子育てをするメンバーが増えてきたとき、僕は「大丈夫！僕もそうやってやってきた！」と伝えたい。みんなが胸を張って子育てに向かえるよう、後押しするのが最低限の恩返しだと思っています。</p>

<h4><b>育児と仕事の葛藤</b></h4>

<p>そうして、僕の在宅勤務が始まり、育児と仕事の両立という貴重な経験を積むなかで、改めて「子育て」と「時間通りに働くこと」のバランスをとることの難しさを実感しました。</p>

<p>娘を送り出した後、仕事に集中できたと思えば、あっという間にお迎えの時間。お迎えに行くと、娘は僕の顔を見るなり号泣するので、つきっきりであやさないといけない。やっと寝かしつけたとしても、一緒に寝落ちしてしまうこともしばしば。仕事に集中できる時間が本当に限られてしまったのです。</p>

<p>育児に「時間」という概念が入ると、急に難易度が上がります。朝のバスの時間、お迎えの時間など、いつも会社で仕事をしていること以外に決められた時間があるのは、想像以上に大変です。</p>

<p>それに、子ども相手に無駄を省いて効率的に動こうとすれば痛い目をみます。特に次女は、自我が芽生えてきた時期なので、着替えなどを手伝おうとすると「自分でやりたい」と大泣きし、予想以上に時間がかかってしまう。だから、決まった時間にすべてをこなすためには、相当な余裕を持った行動が必要でした。</p>

<p>こうした経験から、育児をしながら仕事をするには、かなり時間が限られるということが分かりました。子どもたちがいない時間が唯一仕事に集中できる。でもその前後は、まったく時間が取れない。当然、仕事に集中できる時間以外に対応しないといけない仕事もあるので、なかなか大変です。</p>

<p>もちろん、「もっと仕事をしたい」という気持ちはあります。だけど、僕にとって子育ては同じかそれ以上にやりたいこと。最近では、仕事と家族との時間の切り替えをうまくやることで、メリハリをつけながら働けるようになりました。</p>

<p>何より、ワークライフバランスとは、仕事とプライベートの陣取り合戦ではなく、お互いに補完し合うものなのだということが分かったのは収穫です。</p>

<p>ユーザベースという会社は、自分がコミットした仕事を全うし結果を出せば、働く時間も場所も自由です。出社義務もありません。そのような環境だからこそ、仕事とプライベートを高次元でバランスさせて、互いが原動力となり、仕事と育児という両輪をしっかりとまわすことができたのです。</p>

<p>あのとき、僕が在宅勤務をするという選択をして本当によかった。</p>

<p>人生は一度きりです。仕事もプライベートも両立させてこそ、豊かな人生になるのではないかと思います。最初は大変でしたが、学びも多く、毎日出社しているだけではわからない世界も知りました。だから、少しでも興味を持ってくれたなら、ユーザベースに遊びに来て欲しい。ぜひ一緒に働いてみませんか？</p>

<p>応募に関する詳細はこちら：www.wantedly.com
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F59258" title="世界に通じるビジネス基盤のインフラを支えたい方、募集中！ by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/59258">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/6653812171404145835
enclosure : 
title : エンジニア向けMeetupイベントレポート　第3回：『チームの生産性を向上させる』
link : http://tech.uzabase.com/entry/2016/07/01/131328
description : <p>SPEEDA Techチームの清水です。<br>
<br>
連日のユーザベースMeetupレポート、第3弾です。(連日更新しているのは今まで更新をさぼっていたからですごめんなさい)<br>
第1回、第2回レポートはこちら↓
<iframe src="http://tech.uzabase.com/embed/2016/06/29/024236" title="エンジニア向けMeetupイベントレポート　第1回：『/SPEEDA「高速」成長の秘密』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/29/024236">tech.uzabase.com</a></cite>
<iframe src="http://tech.uzabase.com/embed/2016/06/30/100159" title="エンジニア向けMeetupイベントレポート　第2回：『Java開発最前線』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/30/100159">tech.uzabase.com</a></cite></p>

<h3>開催内容：『チームの生産性を向上させる』</h3>

<p>今回のテーマは「チームの生産性を向上させる」です。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F31833%2F" title="UZABASE Meetup#3 〜チームの生産性を向上させる〜 (2016/06/02 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/31833/">uzabase-meetup.connpass.com</a></cite></p>

<p>第3回では、初の試みとして社外から登壇者をお招きしました。<br>
ライブ共有型スポーツニュースアプリ「Player!」を開発するスタートアップ、ookamiさんよりCTOの中村さんをお招きして、Githubを中心とした「Player!」の開発手法についてお話いただきました。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160624/20160624170647.jpg" alt="f:id:kaonash:20160624170647j:plain" title="f:id:kaonash:20160624170647j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<script async class="speakerdeck-embed" data-id="e40ac595793c416d912c5d2cebae119f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>その他にも弊社エンジニアからユーザベースでのチーム開発の進め方やSlackを用いたChatopsの発表も行い、生産性向上への取り組みについて熱く語ってもらいました。<br>
参加者の方々もいつも以上にたくさんの質問を登壇者に向けて投げかけていたのが印象的でした。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/gVvievLR4IFaSx" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/d76D0f1WLzgtW" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<h3>発表後のお楽しみ</h3>

<p>そして懇親会。
お決まりのピザ&amp;エビスビールです。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160701/20160701130952.jpg" alt="f:id:kaonash:20160701130952j:plain" title="f:id:kaonash:20160701130952j:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
終了後には運営に協力してくれたメンバーで記念撮影。ユーザベースTシャツで統一してみました。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160701/20160701131001.jpg" alt="f:id:kaonash:20160701131001j:plain" title="f:id:kaonash:20160701131001j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>次回告知</h3>

<p>第4回は7月7日の七夕に行います。テーマは「大規模サービスを支えるインフラ」です。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>恵比寿で皆さんとお会いできるのを楽しみにしています！</p>

guid : hatenablog://entry/10328537792370971084
enclosure : 
title : エンジニア向けMeetupイベントレポート　第2回：『Java開発最前線』
link : http://tech.uzabase.com/entry/2016/06/30/100159
description : <p>SPEEDA Techチームの清水です。<br>
<br>
先日レポートいたしましたユーザベースMeetup、第2回目のレポートをお届けします。<br>
第1回レポートはこちら↓
<iframe src="http://tech.uzabase.com/embed/2016/06/29/024236" title="エンジニア向けMeetupイベントレポート　第1回：『/SPEEDA「高速」成長の秘密』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/29/024236">tech.uzabase.com</a></cite></p>

<h3>開催内容：『Java開発最前線』</h3>

<p>第1回目Meetup開催の1ヶ月後、ユーザベースのメイン開発言語であるJavaをテーマとして第2回を開催しました。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F29952%2F" title="Java開発最前線 - UZABASE Meetup#2 (2016/04/28 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/29952/">uzabase-meetup.connpass.com</a></cite></p>

<p>第2回目も大盛況で、前回から応募枠を大幅に増やしたにも関わらず、すぐに満員となりました。ありがとうございます！<br>
ユーザベースでは開発に使用するJavaのバージョンはすべて最新のJava8に更新済みで、その中で最新の機能をどのように活用しているかという点にスポットをあてた発表となりました。<br>
また、もともとRubyをこよなく愛していた弊社エンジニアが、いかにJavaを(も？)愛するようになったかという発表もあり、これもなかなか興味深い内容でした。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/5Nh2q6rfFcl6o7" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<script async class="speakerdeck-embed" data-id="61841c27732f4659b88cc3f8837a26c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/BOpFRufiWrU2XS" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p>第1回の「ちょっと発表が多すぎて疲れるかも」という反省をいかし、今回から発表枠は基本3つまでというスタイルにしました。<br>
終わった後はピザとビールで乾杯！(そして写真を撮り忘れる・・・)<br>
ご参加頂いた方、ありがとうございました！</p>

<h3>今後の予定</h3>

<p>前回のレポートでもお伝えしましたが、ユーザベースでは定期的にMeetupイベントを開催しています。<br>
次回は7月7日の七夕、「大規模サービスを支えるインフラ」というテーマで開催します！<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite>
6月30日現在、すでに枠は埋まっていますが、まだいけるかも・・・ぜひお気軽に参加ボタンを押してください！</p>

guid : hatenablog://entry/6653812171403193024
enclosure : 
title : エンジニア向けMeetupイベントレポート　第1回：『/SPEEDA「高速」成長の秘密』
link : http://tech.uzabase.com/entry/2016/06/29/024236
description : <p>こんにちは、SPEEDA Techチームで新規機能開発を担当しています清水です。<br>
<br>
ユーザベースでは今、定期的にエンジニア向けにMeetupイベントを開催しています！<br>
3月に開催をした第1回目から、ほぼ月1回のペースで開催しており、すでに開催数は3回を数えています。<br>
<br>
今回はMeetupイベントの目的と、第1回の開催内容をレポートします。<br>
(追って第2回・第3回のレポートもアップしますのでお楽しみに！)
<br></p>

<h3>目的</h3>

<p>弊社では、様々な先進的な取り組みをしているにも関わらず、なかなか「技術の会社」として認識をしてもらえていなかったりします。<br>
なかには「サービスは外注していると思っていました」とおっしゃる方も・・・。<br>
さすがにこれはまずいということで、もっとユーザベースという会社やカルチャー、雰囲気、そして社員のことを知ってもらうため(さらに言えば優秀なエンジニアの採用に繋げるため)、Meetupイベントを企画することになりました。<br></p>

<h3>開催内容：『/SPEEDA「高速」成長の秘密』</h3>

<p>記念すべき第1回目は「高速化」をテーマに開催しました。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F28036%2F" title="/SPEEDA「高速」成長の秘密 - UZABASE Meetup#1 (2016/03/25 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/28036/">uzabase-meetup.connpass.com</a></cite></p>

<p>正直、「本当にみんな来てくれるんだろうか・・・」と不安でいっぱいでしたが、最終的には参加枠を大幅に上回るお申し込みをいただきました！<br>
第1回ということでユーザベースのチーフテクノロジスト竹内やのCTO(ちょうどこの日就任した)杉浦らが登壇。<br>
「高速化」という幅広いテーマも手伝って、ユーザベースで採用している全文検索エンジンElasticsearchの話から自動テスト、高速開発の話まで、バラエティに富む内容で発表させていただきました。<br>
なかには当時開発中だったの新機能に関する発表もあり、盛りだくさんの内容となりました。</p>

<script async class="speakerdeck-embed" data-id="cdb7490b22af4ff7a369f04bde4900e1" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="f0d9c82bab0d4536808883c13cbcfe37" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="95117b3ac70c457e88ed2f5171655789" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="c7c15e74a2cc4f4d8e84cc224a88a377" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="cbc523f3f74344c39793782272299ed9" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>また、ユーザベースの外部パートナーでありClojureのContributorでもある株式会社シェルフ代表の矢野さんより、『オープンソース開発のすすめ』という内容でLTも行っていただきました！<br>
<span style="font-size: 200%"><a href="https://slideck.io/github.com/tyano/lightning_talks/join_to_open_source.md#/">オープンソース開発のすすめ</a></span></p>

<h3>発表後のお楽しみ</h3>

<p>ユーザベースMeetupでは、発表の後に参加者の皆さんと親睦を深める目的で懇親会を開催しています。<br>
懇親会では、ピザとエビスビール(もちろんお茶もあります)をご用意しています！<br>
こちらは懇親会の様子。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160627/20160627165330.jpg" alt="f:id:kaonash:20160627165330j:plain" title="f:id:kaonash:20160627165330j:plain" class="hatena-fotolife" itemprop="image"></span>
けっこう多めにピザをご用意しているはずなんですが、無くなるのが早い早い・・・現在ピザの増量を検討中です。<br></p>

<h3>今後について</h3>

<p>今後も定期的にMeetupイベントを開催していく予定です。<br>
取り急ぎ、次回は7月7日の七夕、「大規模サービスを支えるインフラ」というテーマで開催します！<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>今回も(大変ありがたいことに)すでに席が埋まってしまっていますが、直前で一定数キャンセルが出ることを考えると、まだギリギリ入れるはず・・・ぜひふるってご参加ください！</p>

guid : hatenablog://entry/6653812171403112073
enclosure : 
title :  Hinemos5.0.1移行記（その2：保守サービスとエンタープライズオプションを契約） 
link : http://tech.uzabase.com/entry/2016/04/28/121633
description : <p>ユーザベース インフラチームの小林です。</p>

<p>だいぶ時間が空いてしまいましたが、「<a href="http://tech.uzabase.com/entry/2016/03/11/155758">Hinemos5.0.1移行記（その1：理想と現実の葛藤）</a>」の記事から引き続き、Hinemos5.0.1への移行のお話です。</p>

<p><br><br></p>

<h2>前回のおさらい</h2>

<p>Hinemos環境をバージョンアップするために、以下の流れで行うことを考えていました。</p>

<ol>
<li><p>   Hinemos5Managerを新規構築 、動作検証</p></li>
<li><p>   Hinemos3のデータをHinemos5に移行</p></li>
<li><p>   Hinemos3からHinemos5への順次切り替え</p></li>
</ol>


<p>しかし、実際には思っていた通りにいかないことが判りました。</p>

<p>具体的には、3番目の「Hinemos3からHinemos5への順次切り替え」の部分で、以下の問題がでてきたというお話でした。</p>

<ul>
<li><p>Agent用にサポート対象バージョンのOpenJDKを入れるか、OracleJDK1.8を使い続けるか。</p></li>
<li><p>Hinemos3とHinemos5のAgentが同居できるといっても、どちらかのインストールディレクトリを変えないといけない。</p></li>
</ul>


<p><br><br></p>

<h2>救世主が現る</h2>

<p><a href="http://tech.uzabase.com/entry/2016/03/11/155758">前回の記事</a>にも書いてありますが、<A Href="http://atomitech.jp/">アトミテック</A>さんが上記の問題を解決してくれました。<br>
もともと、Hinemos5が出る前から、データ移行の相談を何回かしておりました。
その際に、すごく頼りになりそうだったので<br>
「データ移行＋移行時のトラブルサポート」という形で、今回依頼をいたしました。<br>
結果的にそれが大正解で、本当にいろいろなことをサポートしていただきました。<br>
<br>
特に、OpenJDKを入れるかOracleJDK1.8を使い続けるかという問題を解決するうえで、非常に助かりました。
既存の環境で使用しているOracleJDK1.8を使い続けたかったのですが、これを短時間で動作検証するのは私達には不可能でした。<br>
しかし、快く<A Href="http://atomitech.jp/">アトミテック</A>さんにご対応いただけたおかげで、OracleJDK1.8でもHinemos5.0の動作が一通り問題ないことが判りました。<br>
当然ながら自己責任の上で、弊社環境ではOracleJDK1.8でHinemos5.0のAgentを動かしてます（今のところ不具合はありません）。<br>
<br>
OracleJDK1.8でHinemos5.0のAgentを動かすにあたって、何個か落とし穴がありましたが、そこら辺もご対応をいただいてます（起動shellにJavaのバージョンチェックがあったりなど）。
<br></p>

<h2>移行できたよ！</h2>

<p>問題を踏まえた上で、HinemosのAgentは以下の手順で切り替えることになりました。</p>

<ol>
<li><p>   Hinemos3.1のAgentのインストールディレクトリ変更</p></li>
<li><p>   Hinemos5.0のAgentをOracleJDK1.8で起動</p></li>
<li><p>   Hinemos3.1からHinemos5.0への順次切り替え</p></li>
</ol>


<p><br>
Hinemos3.1のAgentの変更に当たっては、Agentの再起動が入るのでできるだけ既存のジョブに影響が出ないように調整しながら行いました。
Hinemos5.0のAgentは既存のジョブがないので、一括で作業をしました。<br>
ジョブの順次切り替えは、前回書いたように各ジョブネットは簡単な仕組みで連携していたため、一つのジョブネットがうまくいったら、Hinemos3側のスケジュールを無効化、Hinemos5側のスケジュールを有効化しながら、代替1ヶ月くらいかけて切り替えることができました。
<br>
<br>その途中でもいろいろとあったのですが（Nagiosの監視用スクリプトのVerUpや、エラー時のジョブの挙動が変わってた事など）、一つ一つ真摯にご対応いただけたおかげで、非常にスムーズに作業が進みました。
<br></p>

<h2>結果、保守サービスとエンタープライズオプションの契約を結ぶ事に</h2>

<p>おかげで、無事にHinemos5への移行ができたのですが、あまりにも真摯に対応していただいたので、<A Href="http://atomitech.jp/">アトミテック</A>さん経由でHinemosの保守サービスとエンタープライズオプションの契約を結ばせていただきました。<br>
<br>
保守サービスとエンタープライズオプションを契約すると、以下のメリットがあります。</p>

<ul>
<li>修正パッチを提供してもらえる<br>
<span style="color: #1464b3">→今回で言うと、Hinemos5.0.2のリリース前に、Hinemos5.0.1のメモリリークの修正パッチが提供されて、事前にその不具合を解消する事ができました。
</span></li>
<li><p>エンタープライズオプションが使えるようになる</p></li>
<li><p>Hinemosでわからない事を相談できる</p></li>
</ul>


<p>分からない事を相談できるという点が有難く、Hinemosの情報を検索しても出てこないことが多いのですが、何が起きても聞ける環境があると思えるだけで大きな安心感があります。<br>
<br>
個人的に嬉しいのは、エンタープライズオプションを使って、更にHinemosの使える幅が広がりそうなので、いろいろ試していきたいと思ってます。<br>
Hinemosの情報が意外と少ないので、弊社ブログでもHinemosユーザーの皆さんに有益な情報を発信できればと思っています。<br></p>

<p><br></p>

<h2>今回の移行で思った事</h2>

<p>今回移行をしてみてすごく実感したのが、「やはり、あまり一つの製品で凝った仕組みを作らない方が良いな」ということでした。<br>
Hinemosの機能を試したいと言っておきながら矛盾する話ではありますが、うちはHinemosを使いこなしていなかったおかげで、移行に大きな工数がかからずに済んだと思っています。<br>
Hinemosは確かに便利でまだまだ使いこなせる余地があると思っていますし、他の有償版のジョブ監視ツールももっと細かいところができるかもしれません。<br>
この「細かいところ」が肝で、このせいで移行が大規模や製品選定のネックになる事が多い気がしています。<br>
<br>
弊社のジョブの組み方は、最低限のジョブネットを作って、各ジョブネット間はファイル連携という単純な仕組みを用いています。<br>
このファイル連携も、shellでファイル作成とファイル監視をしているので、Hinemosからみたらジョブの実行をしているだけになります。<br>
おかげで、ジョブの切り替えタイミングに余裕を持たせることができたので、私を含めて2～3人程度でも余裕を持って切り替えることができたと思っています。<br>
もし、この組み方がジョブ監視ツールの機能で、全部ジョブの前後関係を組んでいた場合、異なるHinemos間での先行条件はできないので、一括で変更をしないといけない状態でした。<br>
<br>
極端な話をすれば、Hinemosから別製品に載せ替えることもできたと思います（ジョブデータの変換できればですが）。<br>
<br>
そこら辺の自由度は最大限残しておくためにも、あまり凝った機能を使わずに、できるだけ単純な部分を組み合わせるのが良いのではないか、と実感した次第です。<br>
<br>
そうはいっても、便利な機能は使うべきだと思うので、そこら辺を意識しながら、あまり依存しすぎることのないように使っていくことが大事かなと考えています。<br></p>

<h2>今後の要望</h2>

<p>上でいろいろ書きましたが、私自身はHinemosと末永く付き合うつもりでいます。<br>
今後も長くおつきあいする上で、今回の移行で引っかかった以下の点を実現してもらえると、次回（何年後か判りませんが）のHinemosバージョンアップ作業のハードルがだいぶ下がるはずなので是非お願いしたいところです。</p>

<ul>
<li>インストールディレクトリを/opt/hinemos_XXXみたいなバージョンごとに分けてほしい</li>
<li>Agentをインストールするときに、OpenJDKを/opt/hinemos_XXX以下に一緒に入れてほしい</li>
</ul>


<p><br>
<br></p>

<h2>エンタープライズオプションのExp/Imp機能の画面紹介</h2>

<p>簡単に、エンタープライズオプションで使いたかったExp/Impについて紹介します。<br>
このおかげで、ジョブの修正の工数が大幅に縮小されました。<br>
<br>
オプションをインストールすると、こんな感じでメニューが増えます。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202629.png" alt="f:id:manabu-kobayashi:20160420202629p:plain" title="f:id:manabu-kobayashi:20160420202629p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
エクスポート・インポートの設定は、クライアント設定の画面から確認や変更ができます。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202656.png" alt="f:id:manabu-kobayashi:20160420202656p:plain" title="f:id:manabu-kobayashi:20160420202656p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>実際の画面はこんな感じ。ここらへんで、エクスポート・インポート・差分比較ができます。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202707.png" alt="f:id:manabu-kobayashi:20160420202707p:plain" title="f:id:manabu-kobayashi:20160420202707p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>変更用のExcelの画面はこんな感じで、<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202717.png" alt="f:id:manabu-kobayashi:20160420202717p:plain" title="f:id:manabu-kobayashi:20160420202717p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>出力した内容との差分比較は、このようなCSVファイルで出力されて、変更されたところが一目でわかります
（自分の作業が想定通りか一目でわかって便利です）。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202911.png" alt="f:id:manabu-kobayashi:20160420202911p:plain" title="f:id:manabu-kobayashi:20160420202911p:plain" class="hatena-fotolife" itemprop="image"></span></p>

guid : hatenablog://entry/10328537792370893698
enclosure : 
title : ：記事をオススメするLINE BOTをつくってみた
link : http://tech.uzabase.com/entry/2016/04/15/140513
description : <p>はじめまして。技術チームの井原です。</p>

<p>チャットボット（Bot）という言葉を聞いたことがあるでしょうか。スマホやWebのメッセンジャー上で動く自動会話ロボットで、4/7にLINEが<a href="https://business.line.me/ja/products/4/introduction">BOT API Trial</a>を公開したことでエンジニア界隈で一躍ホットなトピックとなりました。今週にはFacebookが対応を発表し、でも話題になりました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1496965" title="FacebookがMessengerのチャットボットのプラットフォームを発表" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1496965">newspicks.com</a></cite></p>

<p>私もBOT API Trialの公開で大喜びしたクチで、さっそく週末と帰宅後の時間でLINE BOTを作ってみました。</p>

<h1>うま</h1>

<p>こちらが作成したBotです。「うま」（非公式Bot）といいます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414174014.png" alt="f:id:ryoju:20160414174014p:plain" title="f:id:ryoju:20160414174014p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ユーザーが知りたいことをうまに伝えると、良さそうなの記事を探してお教えします。記事の内容が気になったら、画像をタップするとページが開きます。</p>

<p>さて、うまがどういうふうにできているのかご説明いたしましょう。</p>

<h1>インフラ環境</h1>

<p>うまはAWSで動いています。EC2（w/ Elastic IP） + ELB + CloudFront + Certificate Manager + Route 53という構成です。Certificate Managerを使うためにバージニア北部のリージョンで動かしています。</p>

<p>LINE BOTを動かすために以下の対応が必要でした。</p>

<ul>
<li><p>LINE BOTのコールバックを受けるためにはSSLが必須で、かつ<a href="http://qiita.com/git6_com/items/008404506836011af33b">証明書を選り好みする</a>ため、Certificate Managerの証明書を使っています。私が所有しているドメインに対して作成した証明書をCloudFrontに紐付けて、さらにCloudFrontのエンドポイントをRoute 53のAレコードで設定しています。ここの設定に苦労したので、キャプチャを貼付しておきます。よかったら参考にしてください。</p>

<ul>
<li>Certificate Manager<br>コールバックURLに使いたいドメインで証明書を作成します。ワイルドカードである必要はありません。<Br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202224.png" alt="f:id:ryoju:20160414202224p:plain:w400" title="f:id:ryoju:20160414202224p:plain:w400" class="hatena-fotolife" style="width:400px" itemprop="image"></span></li>
<li>CloudFront<br>ディストリビューションを作成し、証明書を設定します。CNAMEにもコールバックURLのドメインを設定します。<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202227.png" alt="f:id:ryoju:20160414202227p:plain:w400" title="f:id:ryoju:20160414202227p:plain:w400" class="hatena-fotolife" style="width:400px" itemprop="image"></span></li>
<li>Route 53<br>ドメインのAタグにディストリビューションを設定します。<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202230.png" alt="f:id:ryoju:20160414202230p:plain:w200" title="f:id:ryoju:20160414202230p:plain:w200" class="hatena-fotolife" style="width:200px" itemprop="image"></span></li>
</ul>
</li>
<li><p>LINE BOTはAPIの呼び出し元のIPアドレスを事前に登録しておく必要があり、固定グローバルIPが必要となります（可変だと突然呼び出しが通らなくなるおそれがある）。そのためにElastic IPをEC2インスタンスに付けています。</p></li>
</ul>


<p>ちなみに、私はさくらのVPSを1台契約しており、最初はそれを使おうとしたのですが、証明書の問題でうまくいきませんでした。仕方なくAWSに環境を作って、開発中のプログラム一式も移したという経緯がありました。おそらくLINE BOT APIのサーバ側でチェックしているのでしょうが、無償で取れるSSL証明書ではこちらの用意したコールバックURLを呼んでくれない（？）ようで、GMO GlobalSignの試用証明書、EcoCertの試用証明書と試したのですが、いずれもうまくいきませんでした。SSL証明書はLINE BOTを作ろうとする趣味プログラマのハードルとなっていて、BOT API Trialの公開から数日は「この証明書なら大丈夫」「これはダメ」みたいな話題が多かったです。</p>

<h1>メッセージの処理と記事推薦</h1>

<p>ユーザーが知りたいことを送信してから、うまが記事を提示するまでの流れは以下のようになっています。</p>

<ol>
<li>形態素解析</li>
<li>特徴語抽出</li>
<li>記事の検索</li>
<li>記事の選択</li>
<li>記事の提示</li>
</ol>


<p>また、大まかなデータのやりとりはこのような形になります。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414213825.png" alt="f:id:ryoju:20160414213825p:plain" title="f:id:ryoju:20160414213825p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>1. 形態素解析</h3>

<p>ユーザーがLINEでうまとのトークを開始し、知りたいことを入力すると、LINEのサーバを経由してコールバックURLへ<a href="https://developers.line.me/bot-api/api-reference#receiving_messages">テキストメッセージ</a>がPOSTされます。テキストメッセージからユーザーの入力した知りたいことを取り出して形態素解析を行い、単語に切り分けます。
形態素解析エンジンにはMeCabとIPA辞書（オフィシャルサイトで配布されているもの）を使っています。</p>

<h3>2. 特徴語抽出</h3>

<p>ユーザーは自然な（口語的な）表現で知りたいことを入力するため、検索の前処理として不要な単語を落としています。ここはバリエーションの考えられる処理ですが、現状では単純に名詞だけを残し、それ以外の品詞はすべて落としています。</p>

<p>ただ、ログを見るとやはり適切ではない分割をされているケースが多いです。が経済ニュースアプリであるためか、企業名等の固有名詞をメッセージに含む場合が多いのですが、分割しすぎているケースが頻繁に見られます。提示するニュースの適切さをあげるには、ここの改善が大事だなという印象があります。企業・業界情報プラットフォームである<a href="https://www.uzabase.com/speeda/">SPEEDA</a>の辞書を使えばもっと良くなるかもしれません。</p>

<h3>3. 記事の検索</h3>

<p>抽出された特徴語を用いての記事を検索します。ここではの検索機能は使わず、Google検索を使っています。の検索機能は有料会員にだけ開放されている機能なので、誰にでもオープンなGoogle検索にしました。GoogleのWeb検索で上位10件を取得しています。</p>

<h3>4. 記事の選択</h3>

<p>うまは、1つの知りたいことに対して1件だけ記事を提示するため、検索結果の中から提示する記事を選択する必要があります。画像を合わせて提示したいので、検索結果の上位から画像があるかをチェックしていき、画像があるものが見つかればそれを選択しています。</p>

<p>ここも将来的な改善の余地が大きい箇所です。たとえば、検索結果の記事ごとにPick数を取得して重み付けをする、みたいなことはすぐに思いつきます。ただ、やりだすと終わりがありませんし、記事の内容を判定に使うためにはクローリングやページの処理が必要で、レスポンスタイムがそのぶん伸びてしまうこともあり、このような処理としています。</p>

<h3>5. 記事の提示</h3>

<p><a href="https://developers.line.me/bot-api/api-reference#sending_rich_content_message">リッチメッセージ</a>を作ってLINEサーバにPOSTすると、ユーザーに記事が提示されます。</p>

<p>以上の処理がワンセットで、テキストメッセージを受け付けるたびにこれを実行します。</p>

<h1>社内公開</h1>

<p>だいたい動くようになったところで、社内(ニューズピックス/ユーザベース)のSlackでうまを公開しました。けっこう好評で皆に使ってもらえたのですが、やっぱりユーザーの実際の使い方というのは、開発者に様々な気づきやアイディアを与えてくれるものです。以下はのメンバーがSlackにポストしてくれたキャプチャです。</p>

<h3>時間の指定</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204703.jpg" alt="f:id:ryoju:20160414204703j:plain:w250" title="f:id:ryoju:20160414204703j:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204706.png" alt="f:id:ryoju:20160414204706p:plain:w250" title="f:id:ryoju:20160414204706p:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p>いまの処理方法では、時間（記事の公開時刻）をまったく考慮していません。「今日の」「昨日の」のような時間指定のあるメッセージだと、ユーザーの意図を踏まえないイマイチな答えになってしまいます。改善ポイントですね。</p>

<h3>形容詞の使用</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204734.png" alt="f:id:ryoju:20160414204734p:plain:w250" title="f:id:ryoju:20160414204734p:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p>現在の処理方式では特徴語抽出で名詞だけを残しており、「盛り上がった」は形容詞なので、検索結果に何ら反映されません。この場合は「ニュース」だけで検索した結果を返すことになっています。</p>

<p>まあ、うまは生まれたばかりだからね……。開発者としてはがんばって賢くしてやりたいものです。</p>

<h1>ソースコード</h1>

<p><a href="https://github.com/ryoju/newspicks_bot">現状のソースコードをGithubに上げた</a>ので、よろしければご覧ください。まだα版くらいの感じなので、ごちゃごちゃ弄っている最中でコメントも皆無と、綺麗とは言いがたいのですが。そのうち整理されてくるはず……たぶん。</p>

<p>実装にはPythonを使っています。フレームワークはDjango(w/ Django REST Framework)です。 どこかで動かしてみる時には、newspicks/settings_line.pyにあなたのLINE BOTのChannel ID, Channel Secret, MIDを記載してください。</p>

guid : hatenablog://entry/10328537792371135866
enclosure : 
title : Slackを全社導入したので、社内向け利用マニュアルを公開してみた
link : http://tech.uzabase.com/entry/2016/03/17/145415
description : <p>はじめまして。ユーザベース Cultureチームの木村です。先月、インターンとして入社し、就職活動と二足の草鞋でやっています。
<br>
<br>
今回、ユーザベース全体として「Slack」の全面導入が決まりました！
これまで、社内でのチャットコミュニケーションはチームごとにLINE・チャットワーク・Skypeを使用し混在していましたが、今後はSlackに統一をしていきます。
<br>
<br>
全社導入時に使用した<span style="color: #F5A2A2">Slackのご紹介</span>と<span style="color: #F5A2A2">簡易マニュアル</span>を公開します。Slackが気になっていた方や初めて知る方に、他のコミュニケーションツールと違う点についてお伝えしたいと思います。
<br>
<br></p>

<h3>What’s Slack？</h3>

<p><br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316161207.png" alt="f:id:uzabase:20160316161207p:plain" title="f:id:uzabase:20160316161207p:plain" class="hatena-fotolife" itemprop="image"></span>>
<br></p>

<blockquote><p>Slack（スラック）は、スチュワート・バターフィールドによって開発された、チームコミュニケーションツール。2013年8月に公開され、公開から24時間以内に8000の顧客にサインアップされた。現在Slackは世界中で急速に普及しており、1日に利用するアクティブユーザー数は125万人で、有料会員が37万人(2015年9月時点)。利用者数は90日ごとに倍増するペースで伸び続けている。</p></blockquote>

<p><u><b>ざっくり言えば、「ビジネス用途のLINE」です。</b></u>
<br>メールで堅苦しくやり取りをするよりも、チャットツールで簡単にコミュニケーションをとる方が、精神的にも楽ですし、効率的ですよね。LINEはプライベートと混同されてしまうし・・というわけで、Slackになりました。
<br>
ですが、チャットワークを始め、数ある企業向けコミュニケーションツールの中から、どうしてSlackが選ばれたのか？
<br>
ということで、以下にSlackを利用する5つのメリットをあげてみました！
<br>
<br></p>

<h4>Slackのイケてる点</h4>

<ol>
<li><b>情報の抽出が簡単＆網羅的</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163128.png" alt="f:id:uzabase:20160316163128p:plain" title="f:id:uzabase:20160316163128p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
検索機能で、チャンネル(LINEのグループチャットの概念)をまたいで、過去ログ全ての検索ができます。
<br>また、ファイルやまとまった文章を投稿するPost機能は、それ自体にコメントをつけることができるので、返答や意見が一か所にまとまりやすいです。Postは複数人での共同編集にも対応しています。
<br>
<br></li>
<li><b>連携できる外部サービスが豊富</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163143.png" alt="f:id:uzabase:20160316163143p:plain" title="f:id:uzabase:20160316163143p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
Slackと言えば拡張性。例えばGmailからメールが来たらSlackに通知され、そのままSlack上で内容の確認ができるなど、あらゆる通知や情報がSlackを見るだけで確認ができるようになります。TwitterやRSS、Google Calendarといった一般的なサービスから、GitHubなどエンジニア向けのサービスまで、幅広く連携することができます。
<br>
<br></li>
<li><b>UIがシンプルでスタイリッシュ</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316170627.png" alt="f:id:uzabase:20160316170627p:plain" title="f:id:uzabase:20160316170627p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
個人的な好みにはなりますが、とにかくお洒落でシンプル。洗練されたUIは、SPEEDAと共通する部分があるように思えます。コミュニケーションツールは毎日使うものですので、やはりごちゃごちゃしたUIよりも、シンプルで分かり易いものの方が捗ります。
<br>
<br></li>
<li><b>各端末用のアプリがある</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316162310.jpg" alt="f:id:uzabase:20160316162310j:plain" title="f:id:uzabase:20160316162310j:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
ブラウザ版の他、Mac、Windowsのデスクトップ版、iOS、Androidのアプリ版もあり、いつでもどこでも使うことができます。
<br>
<br></li>
<li><b>各種コードをアップロードできるsnippet機能がある。</b>
<br>
この点が、とりわけエンジニアライクな設計になっています。Tech Blogということで、少し詳しくご説明します。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163202.png" alt="f:id:uzabase:20160316163202p:plain" title="f:id:uzabase:20160316163202p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
左上の入力画面にコードの名前を打ち込み、右上のプルダウンでコードの言語種類を選ぶと、中央のプログラムコードが色付けされたり、自動でインデントがつけられます。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163221.png" alt="f:id:uzabase:20160316163221p:plain" title="f:id:uzabase:20160316163221p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
実際に投稿すると、このように見えます。これまで、他のチャットサービスでコードをベタ貼りしていた時と比べて、かなり見違えると思います。色付け、インデントに加えて行番号も書いてあるため、他のエンジニアとのコミュニケーションもとりやすくなっています。
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163243.png" alt="f:id:uzabase:20160316163243p:plain" title="f:id:uzabase:20160316163243p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
投稿されたSnippetには、Post機能と同じようにコメントを付けられるだけではなく、検索でコードやコメントの中身まで引っかかります！
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163304.png" alt="f:id:uzabase:20160316163304p:plain" title="f:id:uzabase:20160316163304p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
ちなみに、これは「in:helloslack during:2016 helloWorld」と検索しており、『「helloslack」チャンネルの2016年に投稿された中で、helloWorldの文字列が存在する』メッセージもしくはファイルを抽出しています。
<br></li>
</ol>


<h3>How to Slack</h3>

<h4>1.コミュニケーション</h4>

<p>Slackでのコミュニケーション方法は、以下の3通りです。
<br>
・メンバー全体に特定の情報を送信する「チャンネル」
<br>
・個々のメンバーに向けた「ダイレクトメッセージ」
<br>
・特定のメンバーのみが閲覧できる「プライベートグループ」
<br></p>

<h5>1-1.チャンネル</h5>

<p>チャンネルとは、関連する話題を部屋別に分ける機能で、LINEのグループチャットと同じようなものです。ただし、このチャンネルに表示している内容は、Slack全体に共有されるので、チャンネルに参加していない人でも自由に閲覧することが可能です。(チャンネルに参加していないメンバーは、発言することはできません。)
<br>
<br>
【新規チャンネル作成】
<br>
新規チャンネルは「CHANNELS」の「＋ボタン」をクリックして作成をします。お好みのチャンネル名と招待したいメンバー(後からでも追加可能)、チャンネルの説明をいれたら、「Create channel」をクリックしてください。
<br>
 <span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163337.png" alt="f:id:uzabase:20160316163337p:plain" title="f:id:uzabase:20160316163337p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
＋ボタンの左にある「CHANNELS」からは既存のCHANNELを検索することができます。
<br>
<br>
【チャット】
<br>
通常の会話は、チャットツールと同様でテキストを入力し、Enterで送ることができます。編集したい場合には、テキスト入力欄の右に「･･･」がでますので、そこから「Edit message」で編集してください。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163821.png" alt="f:id:uzabase:20160316163821p:plain" title="f:id:uzabase:20160316163821p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
コメントにPinやStarを付けて、後から見やすくすることもできます。
<br>
<br>
【メンション】
<br>
投稿時に、以下のコマンドを入力すると、特定のユーザー名を記載したメッセージが送れるようになります。初期設定では、メンションのみがポップアップ通知されるようになっているため、これを使うことで相手にメッセージが伝わりやすくなります。
<br>
@username → 特定の個人へのメンションは、@を入れて一覧の予測変換より選択出来ます。
<br>
@everyone or @group → チャンネル関係なく、全てのメンバーへのメンション
<br>
@here → オンラインのメンバーへのメンション
<br>
@channel → チャンネルのメンバー全員へのメンション
<br>
<br>
【ファイル共有】
<br>
テキスト入力欄左部の＋ボタンから、「Upload a file」、もしくはドラッグアンドドロップで、テキスト入力エリアに画像やファイルを持ってくると、アップロードが可能です。gif・jpg・png・pdf・textなど、どんなファイルでも送ることができます。
<br>
<br></p>

<h5>1-2.ダイレクトメッセージ</h5>

<p>ダイレクトメッセージは、名前の通り直接連絡のやり取りができます。
一対一の会話なので、他の参加者が内容を確認することはできません。
<br>
 <span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163348.png" alt="f:id:uzabase:20160316163348p:plain" title="f:id:uzabase:20160316163348p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
画面左部「DIRECT MESSAGES」からユーザーの検索ができます。
<br>
<br></p>

<h5>1-3.プライベートグループ</h5>

<p>プライベートグループは、チャンネルとほぼ同じ機能ですが、このチャンネルに書かれた内容は参加メンバーのみに共有され、同じチーム内でも閲覧はできません。クローズドな環境なのでサプライズ等の計画に使えそうです！
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163925.png" alt="f:id:uzabase:20160316163925p:plain" title="f:id:uzabase:20160316163925p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
通常のチャンネル作成と同様、「CHANNNELS」の「＋ボタン」から作成画面へ
→上部の「Public」タブをクリックすると「Private」となります。
<br>
<br></p>

<h4>2.別アプリとの連携</h4>

<p>【Google Driveとの連携】
Google DriveとSlackを連携しておくと、Google DriveのファイルURLをSlackに貼り付けた際に、Slack上にファイルとして認識される（検索対象になる） ようになります。スプレッドシートなどを頻繁に触る方は設定しておくと、Slack内から検索できたり、直にファイルが開けたりしてとても便利になります。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316164158.png" alt="f:id:uzabase:20160316164158p:plain" title="f:id:uzabase:20160316164158p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
画面左部の自分のユーザーネームをクリック
<br>
→右部「Account」をクリック
<br>
→左部「Configure Apps」をクリック
<br>
→一覧から「Google Drive」をクリック
<br>
→「Authenticate」から連携許可
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316173141.png" alt="f:id:uzabase:20160316173141p:plain" title="f:id:uzabase:20160316173141p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
URLではなく、ファイル形式で表示されるようになった上、Slack上でコメントを付けられるようになりました！
<br></p>

<h3>感想</h3>

<p>長々と書いてしまいましたが、何か一つでもご参考になるものがあれば幸いです。スラッシュコマンドやPin機能など、Slackにはまだまだ可能性が秘められております。皆さまもぜひお試しください。<br>
私個人としても、全社へのSlack導入のお仕事をいただいてから、半信半疑で使い始めたのですが、今はすっかりSlackの虜です。連携サービスやチャンネルの運用を駆使して<span style="color: #F5A2A2">「社内のコミュニケーション全てをSlackで完結させる」</span>と考えはじめたら、もうワクワクの極みです。<br>
そして就活生である身としては、Slackを全社的に有効活用させて<b>「はい！私は、インターン先の企業において、社内コミュニケーションの活性化に尽力しました！」</b>的なことを言えるようになりたいものです。</p>

guid : hatenablog://entry/10328537792367290487
enclosure : 
title : Hinemos5.0.1移行記（その１：理想と現実の葛藤）
link : http://tech.uzabase.com/entry/2016/03/11/155758
description : <p>ユーザベース インフラチームの小林です。</p>

<p><a href="http://tech.uzabase.com/entry/2016/02/18/165541">前回の記事</a>から引き続き、今回からHinemos5.0.1への移行のお話です。</p>

<h2>が、その前に1箇所訂正があります</h2>

<p><a href="http://tech.uzabase.com/entry/2016/02/18/165541">前回のブログで書いた</a>ジョブスケジュール日跨ぎの件ですが、<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160226/20160226221222.jpg" alt="f:id:manabu-kobayashi:20160226221222j:plain" title="f:id:manabu-kobayashi:20160226221222j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>0:00～48:00に設定する事で、日跨ぎができました！<br>
先日Hinemosセミナーに出た際に、NTTデータさんに教えてもらいました。ありがとうございます。<br>
（けれど、日付の指定が年・月・日をいちいち選ばないといけないので、やっぱり不便です。
日付選択を、カレンダーから選択できる機能もつけてしてほしい・・・と思ってます。）
<br>
<br></p>

<h2>移行の流れ</h2>

<p>さて、話を本題に。
<br>
弊社のHinemos環境をバージョンアップするにあたり、おおざっぱに以下の流れで行いました。</p>

<ol>
<li>Hinemos5Managerを新規構築 、動作検証</li>
<li>Hinemos3のデータをHinemos5に移行</li>
<li>Hinemos3からHinemos5への順次切り替え</li>
</ol>


<p>（正確にはHinemos3.1.2とHinemos5.0.1ですが、省略します。）</p>

<h2>では、動作検証の話</h2>

<p>新規構築は、マニュアル通りに行えば特に問題はありません。
動作検証においては、Hinemos3ではあまり高度な機能を使っていなかったこともあり、<br>
ジョブスケジューラとして、以下のような基本的な部分だけの検証で十分でした。(新機能は移行後に順次追加。)</p>

<ul>
<li>指定した通りにコマンド実行ができるか</li>
<li>きちんと先行条件が効くか</li>
<li>スケジューラが機能するか</li>
</ul>


<p>上の部分について全然問題はなかったのですが、Hinemos3と違うところがあったので、思いついた部分を列挙します。<br>
<br>
<b>先行条件が自動で変わって便利！</b><br>
Himemos3の時、ジョブIDを変更したいと思っても、後続のジョブの先行条件も変更しなければならず、すごく億劫でした。<br>
ところが、今回のバージョンアップで試してみたところ、下記のようにジョブIDを変更すると、それに紐付く後続ジョブの先行条件が自動で変わってくれます！<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160229/20160229170138.jpg" alt="f:id:manabu-kobayashi:20160229170138j:plain" title="f:id:manabu-kobayashi:20160229170138j:plain" class="hatena-fotolife" itemprop="image"></span><br>
<b>デフォルトのチェックが余計？</b><br>
新規ジョブ作成時、デフォルトで【条件を満たさなければ終了する】にチェックが入っているのですが、これにチェックが入っていると、前のジョブが異常終了した際などに終了してしまうので、弊社の環境では不便でした。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160229/20160229170136.jpg" alt="f:id:manabu-kobayashi:20160229170136j:plain" title="f:id:manabu-kobayashi:20160229170136j:plain" class="hatena-fotolife" itemprop="image"></span><br></p>

<p>また、<b>ジョブをコピーして追加したい時に、うまくコピーができる場合と、できない場合（実行コマンド等が空になる）があるので、その謎を解きたいと思ってます。</b><br><br></p>

<h2>データ移行は、<A Href="http://atomitech.jp/">アトミテック</A>さんに依頼</h2>

<p>次に、2点目の「Hinemos3のデータをHinemos5に移行」では、弊社の環境でノード数は約70、ジョブの登録数は約3000とありました。
これを人力で、ミスなく再設定する自信がない・・・<br>
という事で、Hinemosのデータ変換は、Hinemosソリューションパートナーの<A Href="http://atomitech.jp/">アトミテック</A>さんに依頼をさせていただきました。
今回はデータの変換だけではなく、Hinemos5移行後のサポートも含めて契約をさせていただき、
後々それが大きな助けとなりました。</p>

<p>ちなみに、アトミテックさんは、<a href="http://atomitech.jp/hinemos/blog/:title">ブログ</a>でHinemosの情報発信をしており、いろいろな機能の検証をされてます。<br></p>

<p>Hinemos3->5へのデータ変換は、アトミテックさんにお願いしたことで、
弊社側での残作業は3つ目の「Hinemos3からHinemos5への順次切り替え」になります。</p>

<h2>目指す移行方法</h2>

<p>「順次切り替え」と書かせていただきましたが、
以下の要因から、一括切り替えではなく、順次確認をしながらの切り替えが可能でした。</p>

<ul>
<li>Hinemos3とHinemos5のエージェントは同居可能(Windows環境は除く)</li>
<li>ジョブの組み方を単純にしているため、機能検証をする項目が少ない</li>
</ul>


<p>後者について、もう少し詳しく説明します。<br>
一般的なジョブの組み方としては、以下のようにジョブネット間を先行条件で繋ぐことが多いと思います。（Hinemosに限らず）<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013446.jpg" alt="f:id:manabu-kobayashi:20160227013446j:plain" title="f:id:manabu-kobayashi:20160227013446j:plain" class="hatena-fotolife" itemprop="image"></span>
ところが、弊社環境では、ジョブネット間の連携において、先行条件で繋いでいませんでした。
どういうことかというと、各ジョブネットの最後にファイルを作成させて、
次のジョブは、そのファイルがあると動くようにしており、ファイルの作成・監視もshellで動かしています。
こんな感じです。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013915.jpg" alt="f:id:manabu-kobayashi:20160227013915j:plain" title="f:id:manabu-kobayashi:20160227013915j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>このおかげで、こんなことが可能になります。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013500.jpg" alt="f:id:manabu-kobayashi:20160227013500j:plain" title="f:id:manabu-kobayashi:20160227013500j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>こうする事で、<span style="color: #ff5252"><b>一度に全部を切り替えるのではなく、ジョブネット一つずつの動作確認をしながら切り替えができるので、
スケジュールに余裕を持たせた移行が可能な状況でした。
</b></span><br></p>

<h2>と思ったら単純にはAgentが同居できなかったよ！</h2>

<p>Agentで使うJavaをマニュアルから抜粋すると、</p>

<pre class="code lang-sh" data-lang="sh" data-unlink> Hinemosエージェントを利用する場合
 以下のいずれかのopenjdkをインストールしてください。
   java-1.7.0-openjdk
   java-1.6.0-openjdk
</pre>


<p>という事になっているのですが、弊社ではOracleJDK1.8を使ってました。<br>
Agentにいれるために、既存のサービスに影響が出そうなことをしたくない。<br></p>

<p>そしてもう一つ。
インストールディレクトリ
/opt/hinemos
って、バージョンが違ってもインストール先が一緒だということ。<br>
（rpmコマンドでのインストールなので、オプションを付ければ変更もできるかもしれませんが、デフォルトはこのまま）<br>
<br>
つまり、異なるバージョンが同居できるといっても、インストール先をデフォルトから変更をしないといけないのです。</p>

<h2>状況の整理</h2>

<p>状況を整理すると、</p>

<ul>
<li>Agent用にサポート対象バージョンのOpenJDKを入れるか、OracleJDK1.8を使い続けるか。</li>
<li>Hinemos3とHinemos5のAgentが同居できるといっても、どちらかのインストールディレクトリを変えないといけない。</li>
</ul>


<p>という問題にぶつかりました。</p>

<p>前者ですが、当初は簡単に考えていて、
OpenJDKのバイナリファイルをダウンロードして、Agentのインストールディレクトリに展開をすればいいのでは、と思っていましたが、
<a href="http://openjdk.java.net/">http://openjdk.java.net/</a>をみると、yumからしかインストールができないようです。
yumでインストールした場合、万が一環境変数に変更があったりすると、既存のジョブに影響が出てしまう。
うーん、困った。</p>

<p>そこで、後者。<br>
新規でインストールをするHinemos5のAgentのインストールディレクトリを変える<br>
or<br>
既存サービスで利用をしているHinemos3のAgentのインストールディレクトリを変える<br>
<br>
という２択ですが、これから使う方を大事にしたいと思い、Hinemos3の方を変えることにしました。</p>

<p>ここで登場をするのが、やはり<A Href="http://atomitech.jp/">アトミテック</A>さんなのでした。
意外と長くなったので次回へ続く。</p>

<p><br>
<br></p>

<h2>新機能のジョブのリトライ間隔の検証</h2>

<p>ちょっと話題を変えまして、小ネタを一つ。<br>
<br>
ジョブのリトライ機能が追加されましたが、<br></p>

<ul>
<li>リトライ間隔ってどれくらいなんだろう？</li>
<li>それは変更ができるか？</li>
</ul>


<p>というのが気になり、検証をしてみました。
管理者マニュアルには、他のリトライに関する説明はあったのですが、上の点については書いてないんだもの。。。。<br></p>

<p>では、検証開始。<br></p>

<p>1．エラーになるジョブを作る
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304212735.png" alt="f:id:manabu-kobayashi:20160304212735p:plain" title="f:id:manabu-kobayashi:20160304212735p:plain" class="hatena-fotolife" itemprop="image"></span><br>
2．あたりまえだけどすぐ終わる。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210055.png" alt="f:id:manabu-kobayashi:20160304210055p:plain" title="f:id:manabu-kobayashi:20160304210055p:plain" class="hatena-fotolife" itemprop="image"></span>
3．リトライ回数を2で設定してみたら、落ちるまで20秒かかった。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210103.png" alt="f:id:manabu-kobayashi:20160304210103p:plain" title="f:id:manabu-kobayashi:20160304210103p:plain" class="hatena-fotolife" itemprop="image"></span>
4．ソースを見てみた。<br>
というか、retryって言葉でgrepをかけてみて探してみた。そして、下の情報にたどり着く。<br>
どうやら、「job.retry.interval」という値で管理ができる。デフォルトは10*1000で、実際は10秒なので、msで設定しているっぽい。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210111.png" alt="f:id:manabu-kobayashi:20160304210111p:plain" title="f:id:manabu-kobayashi:20160304210111p:plain" class="hatena-fotolife" itemprop="image"></span>
5．プロパティ画面で、job.retry.intervalを60000で設定してみた。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210115.png" alt="f:id:manabu-kobayashi:20160304210115p:plain" title="f:id:manabu-kobayashi:20160304210115p:plain" class="hatena-fotolife" itemprop="image"></span>
6．ちゃんと2分伸びた！
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210125.png" alt="f:id:manabu-kobayashi:20160304210125p:plain" title="f:id:manabu-kobayashi:20160304210125p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
<br>
というわけで、<br></p>

<ul>
<li>リトライ間隔のデフォルトは10秒</li>
<li>job.retry.intervalで変更可能</li>
</ul>


<p>というお話でした。
<br></p>

guid : hatenablog://entry/10328537792364897598
enclosure : 
title : RxJava + Vert.x + jOOλ で Microservice 的な何かを作ってみた
link : http://tech.uzabase.com/entry/2016/03/08/140142
description : <p>技術チームの竹内(@chimerast)です。</p>

<p>先日、<a href="http://connpass.com/event/25532/">Rx Ja Night 2016 #1</a>という勉強会で、「RxJava + Vert.x + jOOλ で Microservice 的な何かを作ってみた」という題でLTしてきたので内容を少し書いてみようと思います。</p>

<p>当日は自分以外基本Android勢の発表で、サーバサイドの自分にとっては、とてもアウェイな雰囲気でしたがめげずに発表してきました。RxJavaっていうとサーバサイドでは普通は使う機会がないですからね。</p>

<script async class="speakerdeck-embed" data-id="2745f52212ba4e678b9d37f172c9ebdb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<h2>今回作ったものとその問題点</h2>

<p>ブラウザでチャートを描画するための元データとなるJSONを返すREST APIを作りました。</p>

<p>現在UZABASEではマイクロサービスアーキテクチャ的な何かのように、複数のREST APIを提供するサービスをぽこぽこ立ち上げており、その中の一つという位置づけです。</p>

<p>今回作ったChart APIの裏では、企業情報を扱う「Companies API」、統計情報を扱う「Stats API」、チャートそれぞれの線のデータ指定情報を管理する「Media API」という3つのAPIが動いています。これらにリクエストを投げて得たデータを元に最終的なチャートのJSONを構築します。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160227/20160227154832.jpg" alt="f:id:chimerast:20160227154832j:plain" title="f:id:chimerast:20160227154832j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>今回作る前から問題点として上がっていたのは、</p>

<ul>
<li>Chart APIだけがAWS上に配置され、それ以外がオンプレのデータセンター上にありデータセンター間通信となってしまうこと</li>
<li>最終的なレスポンスを返すまでに複数回（多いときには20回以上）バックエンドのAPIにリクエストを投げる必要があるということ</li>
</ul>


<p>という二点です。</p>

<p>この状態で最速でレスポンスを返すためには、並列でバックエンドのAPIにリクエストを投げる必要がありますが、それを普通にブロッキングI/Oでやろうとすると、Chart APIへの1リクエストが10スレッド以上立ち上げてバックエンドAPIの返りを待つ必要があるという残念な状態になってしまします。</p>

<h2>使ったもの</h2>

<h3>Vert.x <a href="http://vertx.io/">http://vertx.io/</a></h3>

<p>Nettyの上に作られ、ノンブロッキングI/Oで通信を行う事のできる高レベルAPI群です。サブプロジェクトがたくさんありDBとの通信を行うことの出来るモジュールなんかもあります。</p>

<p>これのサブプロジェクトの一つである、Vert.x-WebをつかってRESTなAPIをつくりつつ、バックエンドAPIに対して１スレッドからノンブロッキングで複数リクエストを投げるみたいな使い方をしました。</p>

<p>Vert.xの問題点として、全てがコールバックで返る非同期APIなため、例えば単純なDBのSELECT&amp;UPDATEをするだけでも何段ものインデントが必要な書き方になります。メソッドを分けるという単純な解決法もありますが宣言的に書けるところは宣言的に書きたいです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160227/20160227160730.jpg" alt="f:id:chimerast:20160227160730j:plain" title="f:id:chimerast:20160227160730j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>これを解決するためにRxJavaを使います。</p>

<h3>RxJava <a href="https://github.com/ReactiveX/RxJava">https://github.com/ReactiveX/RxJava</a></h3>

<p>RxJavaは、Streamとしての側面とPromiseとしての側面を併せ持ったライブラリです。いろいろな使い方ができ自分も全てのメソッドの使い道をうまく把握出来ていません。Android勢はJava8がまだ使えないためStreamの代わりとして使っていたり、非同期処理も多いのでPromiseとしての使い方をしたり色々しているようです。</p>

<p>今回のサーバサイドの開発では、Promiseとしての側面しか使っていません。コールバック地獄から抜け出すため(flatMap)、そして、複数の非同期処理をひとまとめにするため(zip)に主に使っています。</p>

<p>最終的には組み合わせて以下みたいなコードになっています。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160229/20160229075644.jpg" alt="f:id:chimerast:20160229075644j:plain" title="f:id:chimerast:20160229075644j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h2>感想</h2>

<p>あまり長い文を書いても読みづらくなるだけなので、あとの細かい所はスライドを見てみてください。</p>

<p>Vert.xは巨大なモノリシックなサービスを作るのにはあまり向いていない気がしていますが、今回のように小さいサービスを作るには軽くて向いていると思えました。特に並列でバックエンドのAPIに丸投げして待つみたいなものを作る時にはスレッドの数を考える必要が無いという大きな利点があると思います。</p>

<p>RxJavaは非同期処理を気持ちよく書けるライブラリです。Vert.x、RxJavaともにJava8に対応しているためラムダ式でがしがし書くことができます。</p>

<h2>エンジニア募集</h2>

<p>株式会社ユーザベース、および、株式会社ニューズピックスではエンジニアを募集しています。ご興味があればお気軽にご連絡ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc%2Fprojects" title="株式会社ユーザベースの採用/求人一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">www.wantedly.com</a></cite></p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fnewspicks%2Fprojects" title="株式会社ニューズピックスの採用/求人一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/newspicks/projects">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/10328537792364977387
enclosure : 
title : Hinemos3.1.2→Hinemos5.0.1に移行しました
link : http://tech.uzabase.com/entry/2016/02/18/165541
description : <p><a href="http://tech.uzabase.com/entry/2015/01/29/102935">前回の投稿</a>から約1年と、だいぶ時間が空いてしまいました。<br>
ご無沙汰しておりますユーザベース インフラチームの小林です。</p>

<p>当時海外留学していたメンバーも無事帰国し、新メンバーも増え、インフラチームはだいぶにぎやかになっております。</p>

<h2>Hinemos3.1.2→Hinemos5.0.1に移行！</h2>

<p>さて、本題なのですが、昨年5月にHinemos5が発表されました。<br>
すぐに導入したかったのですが、昨年9月の5.0.1の公開を待って、満を持してHinemos3.1.2→Hinemos5.0.1への移行を行いました。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215231044.png" alt="f:id:manabu-kobayashi:20160215231044p:plain" title="f:id:manabu-kobayashi:20160215231044p:plain" class="hatena-fotolife" itemprop="image"></span>
<br><br><br>
この移行時の顛末については、次回にさせていただくとして、今回はHinemos5にしてみて、実際どうだったかというところを紹介させていただきます。</p>

<h2>Hinemos5.0.1で大幅な運用改善を実現！</h2>

<p>おさらいですが、Hinemos3の運用での困っていた点は以下の通りです。</p>

<ul>
<li>Hinemosエージェントが、Windows8だと動かない<br>

<ul>
<li>⇒そもそもWindows対応のみで、Mac作業者が作業できない。</li>
</ul>
</li>
<li>画面を開くの重い、ジョブの登録はもっと重い<br>

<ul>
<li>⇒あまりに重くて、常時PC開きっぱなし。</li>
</ul>
</li>
</ul>


<p>ジョブ管理ツールとしては問題なく動いてくれていたのですが、パフォーマンス面でどうしても運用メンバーの負荷が上がっている状態でした。</p>

<p>では、これらが、Hinemos5になって解決されたかというと、、<br>
<span style="color: #000000"><b>はい、ばっちりです！</b></span></p>

<p><br>
Webクライアントについては、下のブログで詳しく紹介されているのでそちらをご確認いただきたいですが、リッチクライアントと遜色ない仕上がりで、<br>
<b>ようやくジョブ監視のWindows縛りから解放されたのであります！</b><br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Ftech-sketch.jp%2F2015%2F09%2Fhinemos5-0_part1.html" title="Hinemos5.0新機能紹介Part1「Webクライアント」 | Tech-Sketch" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech-sketch.jp/2015/09/hinemos5-0_part1.html">tech-sketch.jp</a></cite></p>

<p><br>
次に、画面が開くまで時間ですが、僕の実測ベースで、<br></p>

<ul>
<li>Hinemos3の時

<ul>
<li>ログインするまで：2分7秒（そのあとに、ジョブ履歴の画面を開くのにまた待ち時間）</li>
<li>ジョブの登録時の待ち時間：2分30秒</li>
</ul>
</li>
<li>Hinemos5の時

<ul>
<li>ログインするまで：30秒（更にジョブ履歴の画面まで開いてる！！）</li>
<li>ジョブの登録時の待ち時間：10秒位</li>
</ul>
</li>
</ul>


<p>と大幅改善されていて、<b>常時画面を開いている状態からも解放されました。</b><br>
毎日Hinemos開いていたので、待ち時間だけで1年で約10時間の削減効果です(笑</p>

<p><br>
それ以外にも、<br></p>

<ul>
<li><b>ジョブのスケジュール予定がわかるようになった</b>り、<br>（新規でスケジュールしたときに想定通り動くか確認できて超便利！）
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160217/20160217225235.png" alt="f:id:manabu-kobayashi:20160217225235p:plain" title="f:id:manabu-kobayashi:20160217225235p:plain" class="hatena-fotolife" itemprop="image"></span></li>
<li><b>祝日のパターンなどを複数のカレンダで共有できた</b>り（デフォルトで祝日入ってるし！）<br></li>
<li><b>ジョブのエラー時にSlackに通知出るようにした</b>り
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215215536.png" alt="f:id:manabu-kobayashi:20160215215536p:plain" title="f:id:manabu-kobayashi:20160215215536p:plain" class="hatena-fotolife" itemprop="image"></span></li>
</ul>


<p>と、いろいろと運用負荷が下がっています。（通知の機能は、Hinemos3からあった機能を使ってます。）</p>

<h2>Hinemos5.0.1のちょっといけていない点</h2>

<p>で、いいことばかりでもなく、ちょっといけてない点もあったりしてます。<br></p>

<ul>
<li>Hinemos5.0.1でも若干不安定。

<ul>
<li>→なんかメモリリークしてそうな感じ。月に何回かサービス再起動してます。</li>
</ul>
</li>
<li>ジョブスケジュールを臨時で停止したい時、日跨ぎしたいとき不便。（例えば、今日の12時から、明日の12時まで止めたい時とかは2度登録必要。）<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215225823.png" alt="f:id:manabu-kobayashi:20160215225823p:plain" title="f:id:manabu-kobayashi:20160215225823p:plain" class="hatena-fotolife" itemprop="image"></span></li>
<li>ジョブ履歴画面から落ちたジョブのコマンド確認したい時に、グレーアウトされてて見れない。<br>（下の例だと短いコマンドですが、長いコマンドだと途中で切れる。）<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215225116.png" alt="f:id:manabu-kobayashi:20160215225116p:plain" title="f:id:manabu-kobayashi:20160215225116p:plain" class="hatena-fotolife" itemprop="image"></span><br></li>
</ul>


<p>下の２つは、Hinemos3とHinemos5で操作が違って慣れてないだけの気もしますが・・・</p>

<p><br><br></p>

<h2>HInemos5.0.0→5.0.1へのアップグレード手順</h2>

<p>最後に、開発環境にあった、5.0.0環境を5.0.1にアップグレードしてみましたので、簡単に手順を載せておきます。
（そんな難しいことはしてませんが。。）<br></p>

<h3>1. DBのバックアップを取得</h3>

<p>念のため、jvmを停止後バックアップを取得します。</p>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># /opt/hinemos/bin/jvm_stop.sh</span>
<span class="synComment"># /opt/hinemos/sbin/mng/hinemos_backup.sh</span>
<span class="synComment"># /opt/hinemos/bin/jvm_start.sh</span>
</pre>


<h3>2. それぞれサービス停止</h3>

<p>弊社環境では、ManagerとWebクライアントが同居しています。</p>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># service hinemos_web stop</span>
<span class="synComment"># service hinemos_manager stop</span>
</pre>


<h3>3. さらに念をおしてHinemosマネージャver.5.0.0のバックアップを取得</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># cp -rp /opt/hinemos /tmp/hinemos_500_backup</span>
<span class="synComment"># cp -rp /opt/hinemos_web /tmp/hinemos_web_500_backup</span>
</pre>


<h3>4. rpmコマンドでUpdate</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># rpm -Uvh hinemos-manager-5.0.1-1.el7.x86_64.rpm</span>
<span class="synComment"># rpm -Uvh hinemos-web-5.0.1-1.el7.x86_64.rpm</span>
</pre>


<h3>5. serviceファイルをリロードする</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># systemctl daemon-reload</span>
</pre>


<h3>6. それぞれサービス起動</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># service hinemos_manager start</span>
<span class="synComment"># service hinemos_web start</span>
</pre>


<p>って、この記事準備してたら、2016/2/15にHinemos5.0.2が公開されたので、さっそくもう一度試す羽目に。。</p>

<p>Hinemos5への移行記は今後も続きますので楽しみにお待ちください！</p>

guid : hatenablog://entry/6653586347156633673
enclosure : 
title : えびスタ！#3 特別編「ウェブ版リニューアルの裏側」を開催します
link : http://tech.uzabase.com/entry/2015/08/07/123741
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150807/20150807105606.png" alt="f:id:uzabase:20150807105606p:plain" title="f:id:uzabase:20150807105606p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>皆さまこんにちは。</p>

<p>恵比寿のイケてるスタートアップが集まるエンジニア向けの技術勉強会「えびスタ！」の第3回を開催します。
第3回は特別編として1社での単独開催です。先日リニューアルしたばかりのウェブ版の開発の裏側についてお届けします。</p>

<p>もちろん今回もLT枠を用意しています。自社の技術についてアピールしたいという方はぜひLT枠でご参加ください！懇親会ではエビスビールとピザも用意してお待ちしています！</p>

<p>エビスビールを飲みながら、テクノロジーとデザインの未来について語り合いましょう！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F18581%2F" title="えびスタ！#3 特別編「ウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/18581/">えびスタ！#3 特別編「ウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/18581/">ebista.connpass.com</a></cite>
<iframe src="http://blog.newspicks.com/embed/2015web_renewal" title=" ウェブ版リニューアルのお知らせ -  Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://blog.newspicks.com/entry/2015web_renewal"> ウェブ版リニューアルのお知らせ -  Blog</a></iframe><cite class="hatena-citation"><a href="http://blog.newspicks.com/entry/2015web_renewal">blog.newspicks.com</a></cite></p>

<h2>イベント情報</h2>

<ul>
<li>日時：8/24（月）19:00（18:30 開場）</li>
<li>場所：株式会社ニューズピックス（東京都渋谷区恵比寿 1-18-14 恵比寿ファーストスクエア 10 階）</li>
</ul>


<table>
<thead>
<tr>
<th style="text-align:left;">時間</th>
<th style="text-align:left;">発表者</th>
<th style="text-align:left;">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">18:30 ~ 19:00</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">開場</td>
</tr>
<tr>
<td style="text-align:left;">19:00</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">乾杯（エビスビールで）</td>
</tr>
<tr>
<td style="text-align:left;">19:00 ~ 19:30</td>
<td style="text-align:left;">甲斐 琢巳（ エクスペリエンスエディター）</td>
<td style="text-align:left;">が目指す新しいニュース体験について</td>
</tr>
<tr>
<td style="text-align:left;">19:30 ~ 20:00</td>
<td style="text-align:left;">戸辺 淳一郎（ ウェブリニューアルプロジェクトリーダー）</td>
<td style="text-align:left;">ウェブリニューアルを成功させたチーム体制「Holacracy（ホラクラシー）」、およびエンジニアとデザイナーの協業について</td>
</tr>
<tr>
<td style="text-align:left;">20:00 ~ 20:20</td>
<td style="text-align:left;">発表者募集中！</td>
<td style="text-align:left;">LTタイム（5分×4人）</td>
</tr>
<tr>
<td style="text-align:left;">20:20 - 21:30</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">懇親会（エビスビールとピザを用意しています！）</td>
</tr>
</tbody>
</table>


<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F18581%2F" title="えびスタ！#3 特別編「ウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/18581/">えびスタ！#3 特別編「ウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/18581/">ebista.connpass.com</a></cite></p>

guid : hatenablog://entry/8454420450104773144
enclosure : 
title : 「日本の夏は高温化しているか？」について可視化して確かめてみた。
link : http://tech.uzabase.com/entry/2015/08/05/185131
description : <p>技術チーム竹内(@<a class="twitter-user-screen-name" href="http://twitter.com/chimerast">chimerast</a>)です。</p>

<p>最近暑いですね。東京では猛暑日の連続が新記録だそうです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.tenki.jp%2Fforecaster%2Fdiary%2Fdeskpart%2F2015%2F08%2F05%2F29061-summary.html" title="猛暑日　東京新記録　仙台25年ぶり(日直予報士) - tenki.jp" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.tenki.jp/forecaster/diary/deskpart/2015/08/05/29061-summary.html">猛暑日　東京新記録　仙台25年ぶり(日直予報士) - tenki.jp</a></iframe><cite class="hatena-citation"><a href="http://www.tenki.jp/forecaster/diary/deskpart/2015/08/05/29061-summary.html">www.tenki.jp</a></cite></p>

<p>Twitter上でも最近暑くなったことについて、データを見つつ色々話題になっていたようです。</p>

<ul>
<li><a href="http://togetter.com/li/856042">&#x65E5;&#x672C;&#x306E;&#x590F;&#x306F;&#x9AD8;&#x6E29;&#x5316;&#x3057;&#x3066;&#x308B;&#x304B;&#xFF1F; - Togetter&#x307E;&#x3068;&#x3081;</a></li>
<li><a href="http://togetter.com/li/855995">&#xFF13;&#xFF10;&#x5E74;&#x524D;&#x3068;&#x6BD4;&#x3079;&#x6691;&#x304F;&#x306A;&#x3063;&#x305F;&#x3068;&#x805E;&#x304D;&#x590F;&#x306E;&#x6C17;&#x6E29;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x30B0;&#x30E9;&#x30D5;&#x306B;&#x3057;&#x3066;&#x307F;&#x305F;&rarr;&#x69D8;&#x3005;&#x306A;&#x610F;&#x898B;&#x96C6;&#x307E;&#x308B; - Togetter&#x307E;&#x3068;&#x3081;</a></li>
</ul>


<p>で、せっかくなんで自分でも最近どうなっているのか確かめてみました。</p>

<h3>使ったデータ</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.data.jma.go.jp%2Fgmd%2Frisk%2Fobsdl%2F" title="気象庁|過去の気象データ・ダウンロード" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.data.jma.go.jp/gmd/risk/obsdl/">気象庁|過去の気象データ・ダウンロード</a></iframe><cite class="hatena-citation"><a href="http://www.data.jma.go.jp/gmd/risk/obsdl/">www.data.jma.go.jp</a></cite></p>

<p>気象庁から東京都の1986年1月から2015年8月4日時点までの月次データを取得してきてみました。</p>

<p>項目は、</p>

<ul>
<li>平均気温(℃)</li>
<li>降水量の合計(mm)</li>
<li>平均湿度(％)</li>
<li>日照時間(時間)</li>
<li>日最高気温の平均(℃)</li>
<li>日最低気温の平均(℃)</li>
</ul>


<p>をとりあえずとってきてみました。</p>

<h3>使ったもの</h3>

<ul>
<li><a href="http://e2d3.org/ja/">E2D3</a></li>
<li><a href="http://dc-js.github.io/dc.js/">dc.js - Dimensional Charting Javascript Library</a></li>
</ul>


<p>Excelでセルにデータを入力するとモダンな感じにビジュアライズ出来るE2D3で、データを多角的に見られるdc.jsを使える「dcjs-example」というテンプレートを使って(作って)可視化してみました。</p>

<p><a href="http://e2d3.org/ja/">E2D3</a>は、Excelから気軽にデータビジュアライズできるようにしようと、現在絶賛開発中のオープンソースソフトウェアです。Excel2013以降もしくは、Excel OnlineのOfficeストアから探せるので使ってみてください。</p>

<h3>できたもの</h3>

<p>こんな感じです(残念ですが、スマホでは表示されません)。マウスで下のグラフを選択すると、選択した範囲でデータがフィルタリングされます。</p>

<p>下の方の青いグラフの縦軸はデータの個数です。</p>

<p><a href="https://s.e2d3.org/e5f3bff/be9fe63b4e1b14e8c644d62e67e9ba2e" target="_blank">別画面で大きく表示する</a></p>

<p><strong>画像ではなくマウスクリックで動かせますよ！</strong></p>

<script type="text/javascript">
if (document.getElementsByTagName("html")[0].getAttribute("data-globalheader-type") === 'pc') {
  document.open();
  document.write('<iframe src="https://s.e2d3.org/e5f3bff/be9fe63b4e1b14e8c644d62e67e9ba2e" width="100%" height="1250" frameborder="0" scrolling="no"></iframe>');
  documnet.close();
}
</script>


<h3>考察</h3>

<p>実際に自分でいろいろ触って見てもらうのが一番ですが、例えば、8月の最低気温の平均を25度以上でフィルタリングしてみると明らかに近年(緑色)の年だけが出てきてしまいますね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150805/20150805174130.png" alt="f:id:chimerast:20150805174130p:plain" title="f:id:chimerast:20150805174130p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>まとめ</h3>

<p>データを触って見ると色々気づきがあります。</p>

<p><a href="http://e2d3.org/ja/">E2D3</a>を使うとExcelでデータを簡単に入れ替えてデータ可視化を行うことが出来ます(たぶん)。</p>

<p>東京だけでなくいろんな地点のデータを入れてみると面白いと思います。</p>

<h3>いろいろ</h3>

<p><a href="http://www.uzabase.com/">株式会社ユーザベース</a>では、企業・業界・統計データやニュース記事・コメント等データを大量に抱えています。そんなデータをなんとかしてみたいエンジニアを募集しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc%2Fprojects" title="株式会社ユーザベースの募集一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">株式会社ユーザベースの募集一覧 - Wantedly</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">www.wantedly.com</a></cite></p>

<p>あと、OSSで開発している<a href="http://e2d3.org/ja/">E2D3</a>プロジェクトでは、可視化テンプレートを作成してくれるエンジニアや、基盤システムを開発してくれるエンジニアを探しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fe2d3%2Fe2d3" title="e2d3/e2d3" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://github.com/e2d3/e2d3">e2d3/e2d3</a></iframe><cite class="hatena-citation"><a href="https://github.com/e2d3/e2d3">github.com</a></cite></p>

guid : hatenablog://entry/8454420450104591467
enclosure : 
title : ウェブサービスの品質保証をお弁当作りに例えたら
link : http://tech.uzabase.com/entry/2015/07/02/200356
description : <p>初めまして。QA（Quality Assurance）を担当しております、えがさ（仮名）と申します。<br />
QAエンジニアとして、主にBtoC向けWebサービスサイトや、プリンタ、<br />
携帯電話などのテスティングや、雑誌の原稿作成のお手伝いなどをしておりました。<br />
ユーザベースに参加してからだいたい半年になります。<br />
<br />
<br />
<span style="font-size: 150%"><b>SPEEDAの簡単な概要</b><br /></span>
<br />
私は、SPEEDAのWebサイト部分がメインの担当ですが、SPEEDAとは。<br />
一言で表すと、「企業情報などを多角的に取り出せるデータベース」です。<br />
お客様がSPEEDAを活用して新たな価値を生み出すための<br />
ベースを支えるのがミッションです。<br />
<br />
<br />
<span style="font-size: 150%"><b>SPEEDAって・・・。</b><br /></span>
<br />
このお仕事をして製品を触るうちに、私はあることを思いつきました。<br />
SPEEDAって・・・まるでお弁当みたいだな、と。<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150630/20150630113418.png" alt="f:id:uzabase:20150630113418p:plain" title="f:id:uzabase:20150630113418p:plain" class="hatena-fotolife" itemprop="image"></span><br />
<span style="color: #00cc00">
お客様にお出しするためのお弁当箱：インフラ　があり<br />
お客様にコアバリューを提供するデータ：主食　があり<br />
データをおいしく加工するためのおかず：Webサイト　があり。<br />
</span>
全部がそろって活用できる。<br />
<br />
しかしお弁当は温かいほうがよりおいしくいただけます。<br />
ホットな情報には賞味期限もあります。<br />
そのためにアジャイルでの開発が行われています。<br />
<br />
<br />
<span style="font-size: 150%"><b>と　こ　ろ　が</b><br /></span>
<br />
アジャイルのQAはウォーターフォールの開発とは<br />
発想が真逆になることもあり。<br />
最初は目が点になることも多々ありました。<br />
<br />
見る間にリリースされるスケジュール感。<br />
クライテリアの基準。<br />
<br />
IEEE829?　ISO9001?<br />
既存のモデルはアジャイルにそのまま適用できません。<br />
<br />
できればテストケースも使いまわしたい。<br />
漏れなく効率よくまわしたい。<br />
<br />
しかし納期と品質という相反する要素をどうやって折り合いを付けるのか？<br />
のんびりしていると冷めたおいしくないお弁当になってしまいます。<br />
<br />
<br />
<span style="font-size: 150%"><b>残念なお弁当の一例</b><br /></span><br /></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124057.png" alt="f:id:uzabase:20150623124057p:plain" title="f:id:uzabase:20150623124057p:plain" class="hatena-fotolife" itemprop="image"></span>ケンカでもしましたか？<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124258.png" alt="f:id:uzabase:20150623124258p:plain" title="f:id:uzabase:20150623124258p:plain" class="hatena-fotolife" itemprop="image"></span>お弁当にする意味が・・・。<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124520.png" alt="f:id:uzabase:20150623124520p:plain" title="f:id:uzabase:20150623124520p:plain" class="hatena-fotolife" itemprop="image"></span>ゼリーを弁当と言い張る弱さ。<br />
<br />
・・・こんなお弁当を出荷するわけにはいきません。<br />
<br />
そこで、まだ和書では少ないアジャイルQAの本や各種勉強会などで勉強を進めつつ<br />
（KindlePCが日本でも使えるようになったので洋書の<br />
　QA本が買いやすくなりました！これは嬉しい。）<br />
既存のモデルをSPEEDA向けにアレンジして以下のセットを<br />
作りおきすることにしました。<br />
<br />
<br />
<span style="font-size: 150%"><b>お弁当作り置き</b><br /></span></p>

<p><b><span style="color: #286f2c">基礎（下ごしらえ）</span></b></p>

<ul>
<li>要求分析→既存製品でしたので簡素化しました。</li>
<li>ユースケース</li>
<li>機能分析</li>
<li>問題分析（魚の骨）
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623144912.png" alt="f:id:uzabase:20150623144912p:plain" title="f:id:uzabase:20150623144912p:plain" class="hatena-fotolife" itemprop="image"></span><br />
SPEEDAの冷蔵庫です<br />
<br />
機能の影響範囲をチェックリストにしたがって見ていけば<br />
基本的なテストケースまでができあがります。<br /></li>
</ul>


<p><br />
<b><span style="color: #286f2c">案件毎のテストセット作成（おかずづくり）</span><br /></b></p>

<p>基礎をベースに、プロジェクト毎のテスト要件定義は、<br /></p>

<ul>
<li>マインドマップ:テスト観点の洗い出し
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623141643.png" alt="f:id:uzabase:20150623141643p:plain" title="f:id:uzabase:20150623141643p:plain" class="hatena-fotolife" itemprop="image"></span>ブラウザのマインドマップ<br /></li>
<li>ユースケース：テスト範囲・開発範囲、影響の見積もり</li>
<li>シーケンス図：実務の考慮漏れ対策</li>
<li>状態遷移図：シナリオテストのヒントにする</li>
<li>デシジョンテーブル：パターン洗い出し</li>
</ul>


<p>などを用意してテストセットに落としています。<br />
どれも目新しいものではありませんが、<br />
再利用もしやすく時間もかからず重宝しています。<br />
<br /></p>

<p><b><span style="color: #286f2c">盛り付け（テストラン）</span><br /></b></p>

<ul>
<li>テスト（お弁当を詰める）<br />
　　UT：単体テスト<br />
　　SIT：結合テスト　直交表やシナリオなど<br /></li>
<li>体制（料理人の皆様）<br /></li>
</ul>


<p>こうして、温かいうちに召し上がっていただけるように<br />
こつこつ資産化しています。<br /></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623143617.png" alt="f:id:uzabase:20150623143617p:plain" title="f:id:uzabase:20150623143617p:plain" class="hatena-fotolife" itemprop="image"></span>召し上がれ！<br />
<br />
お弁当QAを体験してみたいエンジニアの皆さん、おいでませ＾－＾<br />
<br /></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4817192283/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41VcxPXKoYL._SL160_.jpg" class="hatena-asin-detail-image" alt="ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方" title="ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4817192283/hatena-blog-22/">ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 吉澤正孝/秋山浩一/仙石太郎</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 日科技連出版社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2007/07/26</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><span class="hatena-asin-detail-label">購入</span>: 3人 <span class="hatena-asin-detail-label">クリック</span>: 86回</li><li><a href="http://d.hatena.ne.jp/asin/4817192283/hatena-blog-22" target="_blank">この商品を含むブログ (20件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div> サイン本もってます:-D</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4048672347/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51Vxllc4BBL._SL160_.jpg" class="hatena-asin-detail-image" alt="ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)" title="ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4048672347/hatena-blog-22/">ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 遠竹智寿子,月刊アスキー編集部,ブザン・ワールドワイド・ジャパン、ブザン教育協会</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> アスキー・メディアワークス</li><li><span class="hatena-asin-detail-label">発売日:</span> 2008/06/30</li><li><span class="hatena-asin-detail-label">メディア:</span> ムック</li><li><span class="hatena-asin-detail-label">購入</span>: 40人 <span class="hatena-asin-detail-label">クリック</span>: 957回</li><li><a href="http://d.hatena.ne.jp/asin/4048672347/hatena-blog-22" target="_blank">この商品を含むブログ (66件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>　さらっと読んですぐ使いこなしたい方に</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4798118443/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51hcs7og2fL._SL160_.jpg" class="hatena-asin-detail-image" alt="ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)" title="ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4798118443/hatena-blog-22/">ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 井上樹</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 翔泳社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2011/02/25</li><li><span class="hatena-asin-detail-label">メディア:</span> 大型本</li><li><span class="hatena-asin-detail-label">購入</span>: 1人 <span class="hatena-asin-detail-label">クリック</span>: 5回</li><li><a href="http://d.hatena.ne.jp/asin/4798118443/hatena-blog-22" target="_blank">この商品を含むブログ (2件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>　Kindle版もあります</p>

guid : hatenablog://entry/8454420450098619942
enclosure : 
title : たのしいフォントえらび 〜 GoogleやDEAN & DELUCA、SPEEDAの事例から 〜
link : http://tech.uzabase.com/entry/2015/06/11/164718
description : <p>こんにちは。ユーザベースのデザイナー、広田です。企業・業界情報サービス「SPEEDA」を担当しています。</p>

<p>とうとう、ブログの順番が回ってきました。
UZABASE Tech Blogの記事ネタは、ユーザベースのエンジニアが一堂に集まる週一のミーティング、そこで話す持ち回りのライトニングトークが元になっています。もちろん、それがすべてではありませんが、記事を書く順番としてはそんな感じです。
そして、2月に入社した私にも、ライトニングトークの順番、すなわちブログを書く順番が回ってきたというわけです。</p>

<p>テックミーティングの参加者は、当然ですが、エンジニアばかり。
なので、私にとってはチンプンカンプンのエンジニア用語が並ぶわけですが、そんな中で私が話せることってなんだろう？と（一応、真剣に）考えた結果、エンジニアにとっても身近であろうフォントについて話すことにしました。</p>

<p>というのも、入社以来、ずっと気になっていたSPEEDAのロゴのルーツ。その答えを見つけた良いタイミングでもあったので。</p>

<p>・・・と、ちょっと前置きが長くなってしまいましたが、テーマは「たのしいフォントえらび 〜 GoogleやDEAN &amp; DELUCA、SPEEDAの事例から 〜」に決定しました。</p>

<h3>目次</h3>

<p>・<a href="#section1">SPEEDAのロゴのルーツ</a><br>
・<a href="#section2">SPEEDAのお仲間さがし</a><br>
・<a href="#section3">有名ブランドのロゴは何のフォントを使ってる？</a><br>
・<a href="#section4">もしもユーザベースが第3の事業を始めたら...</a></p>

<h3><a name="section1"></a>SPEEDAのロゴのルーツ</h3>

<p>さて、本題のSPEEDAのロゴですが、残念ながらこのロゴの成り立ちを語れる人を見つけることはできませんでした。それで、ずっとモヤモヤした毎日を過ごしていたわけです。これに似たフォントはなんだろう、、、と。そうやってSPEEDAのロゴのフォントのことをずっと想っていたら、とうとう出会ってしまったんです。</p>

<p>それは、ある日、突然。まるで天から降ってきたかのように。久しぶりに見たフォント本の中にいました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531104840.jpg" alt="f:id:uzabase:20150531104840j:plain" title="f:id:uzabase:20150531104840j:plain" class="hatena-fotolife" itemprop="image"></span>
2013年発行の「<a href="http://www.graphicsha.co.jp/shosai.php?snumber3=1305">TYPOGRAPHY03</a>」（グラフィック社）</p>

<p>このムックのここに。ほら。SPEEDAのロゴにそっくりでしょ？
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531105845.jpg" alt="f:id:uzabase:20150531105845j:plain" title="f:id:uzabase:20150531105845j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>そう「BANK GOTHIC」というフォントです。
（ムックには「 BANNK GOTHIC」とありますが、これは誤植ですね。）</p>

<p>このフォントに出会った瞬間、もうね、なんとも言えない晴れ晴れした気持ちになったんですよ。出会うべくして出会った赤い糸＝運命の人？みたいな。それはおおげさですが。。。しかも、フォント名にBANK（銀行）とあるなんて。さまざまな企業の財務情報や業界の動向を提供するSPEEDAにぴったりのフォントですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531111126.png" alt="f:id:uzabase:20150531111126p:plain" title="f:id:uzabase:20150531111126p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>BANK GOTHICはサンセリフ、ウロコのない書体です。その中でも幾何学的図形のような骨格を持つジオメトリック・サンセリフです。
ほら、見てください。ほぼ正方形の形をしていますよね？（青枠に注目）</p>

<p>BANK GOTHICの特徴を他にも挙げると、GやO、Cに見られる正方形部分、この内側部分が直角になっているのに対して、外側が丸みを帯びている点ですね（赤の丸に注目）</p>

<p>参考までに、<a href="http://www.fonts.com/ja/browse/designers/morris-fuller-benton">fonts.com</a> から引用したBANK GOTHICの生みの親、Morris Fuller Bentonについて記しておきます。</p>

<blockquote><p>Morris Fuller Benton – born 1872 in Milwaukee, USA, died 1948 in Morristown, USA – engineer, type designer. After training as a mechanic and engineer, Benton jointed the ATF, where he became type designer and in-house designer with ATF.</p></blockquote>

<p>フォント名が明らかになったところで、SPEEDAのロゴの検証をしていきましょう。</p>

<p>まずは現在のロゴ。これが最終形です。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531112457.png" alt="f:id:uzabase:20150531112457p:plain" title="f:id:uzabase:20150531112457p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>そしてこれが一世代前のロゴ。いつまで使われていたのか、正確なところはわかりません。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531112712.png" alt="f:id:uzabase:20150531112712p:plain" title="f:id:uzabase:20150531112712p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>今のロゴと比較すると一世代前のロゴは少しスリムでしたね。今のロゴのほうが骨太です。その他にも、PとDに変化が見られますね。現在のロゴのほうが尖った印象になっているとと同時に、より堂々とした感じが伝わってきます。そして男性的。</p>

<p>ここからは想像ですが、こんな流れでSPEEDAのロゴができあがったのではないかと。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603195800.png" alt="f:id:uzabase:20150603195800p:plain" title="f:id:uzabase:20150603195800p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<ol>
<li>BANK GOTHICでSPEEDAを組む …（ A）</li>
<li>（A）をベースに文字の横幅を少しスリムにする（正方形から長方形に）...（B）</li>
<li>微調整（特にSやE）を繰り返して、一世代前のロゴが完成…（C）</li>
<li>さらに微調整を繰り返して、今のロゴが完成…（D）</li>
</ol>


<h3><a name="section2"></a>SPEEDAのお仲間さがし</h3>

<p>SPEEDAのロゴのルーツを知り、俄然、BANK GOTHICが身近になった私。そこで、BANK GOTHICを使ったロゴのお仲間を探してみました。</p>

<p>Googleで検索してみると、いろいろ見つかります。
いずれもロゴの形を見ての想像でしかありませんが、<a href="http://www.nintendo.co.jp/ds/">NINTENDO DS</a>のNINTENDOやER緊急救命室のER、浅草にあるホテル<a href="http://www.agoraplace-asakusa.com/">AGOLA PLACE</a>などはBANK GOTHICではないかと思います。</p>

<p>そして、私たちのオフィス近くにもBANK GOTHICを見つけました。
恵比寿駅からオフィスに向かう途中にある恵比寿ビジネスタワー。下の写真をご覧ください。この欧文ロゴがBANK GOTHICっぽいんです。
昨年12月、ユーザベースは外苑前からここ恵比寿に移転しましたが、もしかしたら引っ越し先はこのビルにすべきだったかもしれませんね、、、なんて思ったり。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531115149.jpg" alt="f:id:uzabase:20150531115149j:plain" title="f:id:uzabase:20150531115149j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3><a name="section3"></a>Google、VOGUE、Dean &amp; Delucaなどのブランドロゴはどのフォントを使ってる？</h3>

<p>ロゴとフォントのことをいろいろ調べていたら、有名ブランドのロゴのフォントも気になってきました。そこで、書籍やインターネットなどで調べてみました。</p>

<h4>LOUIS VUITTON</h4>

<p>多くの人の憧れのファッションブランド <a href="http://jp.louisvuitton.com/">LOUIS VUITTON</a>。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602000621.png" alt="f:id:uzabase:20150602000621p:plain" title="f:id:uzabase:20150602000621p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>これはMacにも標準で搭載されているFutura（フツラ、フーツラ）で組まれたフォントです。字と字の間を調整している以外は、ほぼ原型のまま使っているっぽいです。実は、ユーザベースのロゴもFuturaなんですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224304.png" alt="f:id:uzabase:20150602224304p:plain" title="f:id:uzabase:20150602224304p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>VOGUE</h4>

<p>続いて老舗の女性ファッション誌 <a href="http://www.vogue.co.jp/">VOGUE</a>。このロゴで使われているのは、Didot（ディド）です。こちらもMacをお使いの方は持っているんじゃないでしょうか？</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602002309.jpg" alt="f:id:uzabase:20150602002309j:plain" title="f:id:uzabase:20150602002309j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://(http://www.vogue.co.jp/">http://www.vogue.co.jp/</a></p>

<p>あらためて書店で平積みされている女性ファッション誌を見てみると、Didotのように、細いところと太いところの差がはっきりしているロゴが多いですね。特に大人の女性向けファッション誌に。まるで女性の理想的なプロポーション、華奢に見えるのに出ているところは出ている、、、みたいな。そんな印象を受けるフォントです。Didotはそれに加えて丸みもあるので、女性らしいしなやかさも感じます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224332.png" alt="f:id:uzabase:20150602224332p:plain" title="f:id:uzabase:20150602224332p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>DEAN &amp; DELUCA</h4>

<p>NY生まれのフード＆カフェのお店。見たことのないオシャレなパッケージの食材が並んでいて、本当に楽しいお店です。このロゴはCopperplate Gothicですね。いろんなところで目にする人気のフォントです。こちらも私のMacにはインストールされています。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602003156.jpg" alt="f:id:uzabase:20150602003156j:plain" title="f:id:uzabase:20150602003156j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://www.deandeluca.com/">http://www.deandeluca.com/</a></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224348.png" alt="f:id:uzabase:20150602224348p:plain" title="f:id:uzabase:20150602224348p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>Google</h4>

<p>そして、いつもお世話になっているGoogle。このロゴで使われているのはCatull BQです。ほぼ手を加えず原型のまま使っているっぽいです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602003639.jpg" alt="f:id:uzabase:20150602003639j:plain" title="f:id:uzabase:20150602003639j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://www.google.co.jp/">http://www.google.co.jp/</a></p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.myfonts.com%2Ffonts%2Fberthold%2Fcatull-bq%2F" title="Catull® BQ - Desktop font « MyFonts" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.myfonts.com/fonts/berthold/catull-bq/">Catull® BQ - Desktop font « MyFonts</a></iframe><cite class="hatena-citation"><a href="https://www.myfonts.com/fonts/berthold/catull-bq/">www.myfonts.com</a></cite></p>

<h3><a name="section4"></a>もしもユーザベースが第3の事業を始めたら...</h3>

<p>さて、ここからは私の妄想です。「もしもユーザベースが第3の事業を始めたら…」を妄想して、こんなときにはこんなフォントが合うんじゃ？という視点で、フォントを探してみました。</p>

<blockquote><p>ユーザベースは、法人向け業界分析情報データベース「SPEEDA」と、経済情報に特化したニュース共有サービス「」という2つのプロダクトの開発・運営を行っています。</p></blockquote>

<h4>もしもユーザベースが「ホラー映画」を作ったら...</h4>

<p>そこで、こわーいフォントを探してみました。</p>

<p>さて、どうでしょう？　これはAdobe Creative CloudのTypekitにもあるAdobeのIronwoodというフォントです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603232308.jpg" alt="f:id:uzabase:20150603232308j:plain" title="f:id:uzabase:20150603232308j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p><a href="https://www.fontshop.com/families/ironwood">https://www.fontshop.com/families/ironwood</a></p>

<p>こうやってみるとそんなに怖そうに見えませんが、少し色を工夫すると、イギリスあたりの誰も住んでいない古い館っぽっく見えてきませんか？　まるでドラキュラの棲家のような。また、不安定な 3本のラインがなかなか良い効果が出ているようで、「裏切り」や「壊れる」といったサスペンス映画の要素も見えてきます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604002217.jpg" alt="f:id:uzabase:20150604002217j:plain" title="f:id:uzabase:20150604002217j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>dafont.comを探せば、それはそれは怖いフォントも他にもたくさん見つかるんですが、お勧めしてもいいものとそうでないものの選別が難しいので、ここで紹介するのはやめました。</p>

<h4>もしもユーザベースが「自然派化粧品」を売り出したら...</h4>

<p>続いて、同じくAdobe Creative CloudのTypekitにもあるBlakely というフォントを使って、自然派化粧品のロゴを作ってみました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604225039.jpg" alt="f:id:uzabase:20150604225039j:plain" title="f:id:uzabase:20150604225039j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p><a href="https://www.fontshop.com/families/blakely">https://www.fontshop.com/families/blakely</a></p>

<p>上の図はBoldですが、一番細いLightを使うと印象がぐっと変わります。このLightを使って、今度はNewsPIcksでロゴを作ってみました。</p>

<p>ターゲットは20代女性くらい？　「いつまでもみずみずしいお肌をキープしたい女性へ」「敏感肌のあなたへ」といったところかな。とても涼しげな感じに仕上がったので、今のこの暑い季節に売り出したいところですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604225617.png" alt="f:id:uzabase:20150604225617p:plain" title="f:id:uzabase:20150604225617p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>もしもユーザベースが「子ども服ブランド」を立ち上げたら…</h4>

<p>最後に、もしもユーザベースが「子ども服ブランド」を立ち上げたら…と題して、楽しくてやさしいフォントを探してみました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603221133.jpg" alt="f:id:uzabase:20150603221133j:plain" title="f:id:uzabase:20150603221133j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="https://www.fontshop.com/families/scruff">https://www.fontshop.com/families/scruff</a></p>

<p>どうでしょうか？ これは scruff というフォントです。
おもちゃ箱をひっくり返したように、とっても楽しそうですよね。</p>

<p>「S」なんて、おもちゃの電車を走らせる線路に見えてくるし、「f」が2つ並んでいるところは双子の兄弟がひげダンスしているように見えてくる。ほら、他の文字も全部楽しそうですよね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603224352.jpg" alt="f:id:uzabase:20150603224352j:plain" title="f:id:uzabase:20150603224352j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>このフォントは、元気な子ども服ブランドや知育の玩具メーカーのロゴにきっと似合うはず。例えば、こんな感じでね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604220204.png" alt="f:id:uzabase:20150604220204p:plain" title="f:id:uzabase:20150604220204p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ちなみに、キャッチコピーで使用したフォントは「<a href="https://www.fontshop.com/families/blakely">やさしさゴシック</a>」というフリーのフォントです。日本語のフリーフォントでこれだけ文字の種類が揃っているのは珍しいのでとても貴重です。</p>

<p>長々とフォントについて書きましたが、最後に、敬愛する日本人フォントデザイナー、小林章さんの言葉を載せて、締めくくりたいと思います。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531130901.png" alt="f:id:uzabase:20150531130901p:plain" title="f:id:uzabase:20150531130901p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ユーザベースではエンジニアを募集しています！</p>

<ul>
<li>大規模で多種多様なデータを扱うことに興味がある方</li>
<li>とにかく技術が好きな方</li>
<li>様々なバックグラウンドを持つ人材と働いてみたい方</li>
</ul>


<p>以上に一つでも当てはまる方は、一度オフィスに遊びに来てください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11497" title="巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11497">巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11497">www.wantedly.com</a></cite></p>

<p><b>【参考サイト・書籍】</b></p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmatome.naver.jp%2Fodai%2F2133151854135573901" title="有名企業やサイトのロゴに使用されているフォントまとめ - NAVER まとめ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://matome.naver.jp/odai/2133151854135573901">有名企業やサイトのロゴに使用されているフォントまとめ - NAVER まとめ</a></iframe><cite class="hatena-citation"><a href="http://matome.naver.jp/odai/2133151854135573901">matome.naver.jp</a></cite></p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmatome.naver.jp%2Fodai%2F2135168573243723001" title="名作フォントと有名ロゴのおいしい関係 - NAVER まとめ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://matome.naver.jp/odai/2135168573243723001">名作フォントと有名ロゴのおいしい関係 - NAVER まとめ</a></iframe><cite class="hatena-citation"><a href="http://matome.naver.jp/odai/2135168573243723001">matome.naver.jp</a></cite></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4766124758/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51fM19fMW2L._SL160_.jpg" class="hatena-asin-detail-image" alt="TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350" title="TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4766124758/hatena-blog-22/">TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> グラフィック社編集部</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> グラフィック社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/05/07</li><li><span class="hatena-asin-detail-label">メディア:</span> 大型本</li><li><a href="http://d.hatena.ne.jp/asin/4766124758/hatena-blog-22" target="_blank">この商品を含むブログ (4件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4568504287/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51Dtxr9LBSL._SL160_.jpg" class="hatena-asin-detail-image" alt="フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？" title="フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4568504287/hatena-blog-22/">フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 小林章</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 美術出版社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2011/01/17</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本（ソフトカバー）</li><li><span class="hatena-asin-detail-label">購入</span>: 11人 <span class="hatena-asin-detail-label">クリック</span>: 235回</li><li><a href="http://d.hatena.ne.jp/asin/4568504287/hatena-blog-22" target="_blank">この商品を含むブログ (33件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4756245676/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51CbPBYN4VL._SL160_.jpg" class="hatena-asin-detail-image" alt="新しい価値を生み出すためのブランディングプロセス" title="新しい価値を生み出すためのブランディングプロセス"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4756245676/hatena-blog-22/">新しい価値を生み出すためのブランディングプロセス</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> パイインターナショナル</li><li><span class="hatena-asin-detail-label">発売日:</span> 2015/01/20</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><a href="http://d.hatena.ne.jp/asin/4756245676/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

guid : hatenablog://entry/8454420450095961553
enclosure : 
title : ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編）
link : http://tech.uzabase.com/entry/2015/06/02/183335
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150526/20150526122646.jpg" alt="f:id:uzabase:20150526122646j:plain" title="f:id:uzabase:20150526122646j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>企業・業界情報データベース<a href="http://www.uzabase.com/speeda/">「SPEEDA」</a>の開発チームに所属している川口と申します。</p>

<p>ユーザベースで大事にしている価値観として、「<strong>自由主義で行こう</strong>」があります。きちんと仕事の結果を出せば、出社時間や服装は自由で、出社の義務もないというものです。</p>

<p>一方、自由に対する責任の一つとして、毎週一回の全社会議だけは全員出席する必要があります。この全社会議が「<strong>みんなの会（Town Hall Meeting）</strong>」です。ここでは各チームの進捗報告やリリースされた機能の発表、事務連絡や新メンバーの紹介などを行っています。（以前は「全体進捗会議」という名前でしたが、社内投票の結果、この名前になりました。）</p>

<p>私が入社した2011年当時、オフィスは東京だけで、全体会議の出席メンバーも20人ぐらいでしたので、会議室に全員入り切るぐらいでした。それからオフィスも2回移転して、上海、シンガポール、香港と海外にも拠点も広がり、全体で160人前後のメンバーになりました。今でも全員が出席するスタイルでの会議は続いているのですが、各海外拠点への生中継を毎回行うようになり、海外メンバーからの発表や質問なども可能にしています。</p>

<p>このシステムの構築やオペレーションには私もかかわっており、試行錯誤を続けながらバージョンアップしてきました。この記事では、そんな「みんなの会」を支えている現在のシステムについて少しご紹介したいと思います。</p>

<p>なお、「みんなの会」については、先日公開されたSELECKの記事や、本ブログの竹内（当社チーフテクノロジスト）の記事でもご紹介しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fseleck.cc%2Farticle%2F11" title="ベンチャーからグローバル企業へ　ユーザベースCTOが作った「ニコ動」式の全社会議 | SELECK" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://seleck.cc/article/11">ベンチャーからグローバル企業へ　ユーザベースCTOが作った「ニコ動」式の全社会議 | SELECK</a></iframe><cite class="hatena-citation"><a href="https://seleck.cc/article/11">seleck.cc</a></cite>
<iframe src="http://tech.uzabase.com/embed/2015/06/01/143202" title="ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">tech.uzabase.com</a></cite></p>

<h3>目次</h3>

<ul>
<li><a href="#1">Zoomを使って全世界と中継</a></li>
<li><a href="#2">スライドの配信もZoomの画面共有で</a></li>
<li><a href="#3">「参加者の顔が見えること」が何より重要</a></li>
<li><a href="#4">Wii Uのマイクも使って音声環境を改善</a></li>
<li><a href="#5">有志メンバーによる同時通訳</a></li>
<li><a href="#6">ニコニコメソッドプレゼンで一体感のあるコミュニケーション</a></li>
<li><a href="#7">まとめ</a></li>
</ul>


<h2><a name="1"></a>Zoomを使って全世界と中継</h2>

<p>「みんなの会」の中心となるWeb会議システムですが、<a href="http://zoom.us/">「Zoom」</a>という製品を使用しています。いろいろな製品がある中で、「Zoom」では最大100ユーザまで同時接続可能というところが大きな特長です。</p>

<p>ユーザベースで現在使用しているのは25ユーザまでのプランで、海外拠点の各メンバーが接続するだけでなく、在宅や出張先からのリモートでの参加も出来ています。</p>

<p>なお、Zoomの無料アカウントでは最大40分で会議が切れてしまうという制限があるため、長時間会議を行う場合はProアカウント（$9.99/Month）が必要になります。</p>

<p>会議への参加は、主催者からの招待メール中のリンクをクリックすることで行いますが、初めて参加する場合はアプリのインストールも自動的に行われます。</p>

<p>Windows、Macはもちろん、iPad・iPhoneやAndroid用のアプリも公開されていて、スマートフォンでも後述の画面共有やチャットを含めた一通りの機能が可能です。</p>

<p>「Zoom」はなかなか高機能でよく出来ていると思うのですが、「Skype」などに比べると若干取っつきにくいためか、日本ではあまり知られていなさそうです。これからの普及に期待しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fzoom.us%2F" title="Video Conferencing, Web Conferencing, Online Meetings, Screen Sharing" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://zoom.us/">Video Conferencing, Web Conferencing, Online Meetings, Screen Sharing</a></iframe><cite class="hatena-citation"><a href="http://zoom.us/">zoom.us</a></cite></p>

<h2><a name="2"></a>スライドの配信もZoomの画面共有で</h2>

<p>「みんなの会」では、東京オフィスのプロジェクター画面に、発表内容をまとめたプレゼンテーションファイルを映します。同時に、「Zoom」の画面共有機能によって、海外やリモートでの参加者にも同じ画面が表示できます。</p>

<p>リモート表示ではレスポンスが気になるところですが、スライド切り替え時の反映もスムーズですし、画質がオリジナルより大きく劣ることもありませんので、十分実用的だと思います。</p>

<p>「Zoom」の画面共有では、共有対象のウィンドウをアプリ単位もしくはデスクトップ全体で指定します。「みんなの会」のプレゼンテーションファイルはGoogle Driveのスライド形式（Googleスライド）で作成しており、ブラウザにてプレゼンテーションを行いますので、Google Chromeのウィンドウを共有しています。ケースバイケースですが、他の会議では、お手軽にデスクトップ全体を共有することも多いです。</p>

<p>ところで、スライドを開いて、メニューから「プレゼンテーションを開始」を実行すると、プレゼンテーションが全画面で表示されますが、Zoomでブラウザウィンドウを共有している場合は、全画面表示は共有対象外となるので、他のユーザにスライド画面が映らなくなってしまいます。</p>

<p>そこで、Google Chromeを使用する場合のみですが、「スピーカーノートを使って開始」のメニューを実行すると、ブラウザのタブ内にプレゼンテーション画面が表示されます。少しマニアックな話ですが、Zoomを使ってGoogleスライドの画面共有を行う場合はこの方法がおすめです。</p>

<p>ちなみにGoogleスライドですが、PowerPoint等と比較すると凝ったデザインや動きのものは作成しにくいですが、一つのファイルを複数人で同時に編集することが可能で、マージや差し替えの手間が省けるので、こういった会議の資料作成には非常に便利です。</p>

<p>なお、PowerPoint等のプレゼンテーションファイルからの変換も可能ですが、レイアウトが崩れることが多いので、注意が必要です。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.google.com%2Fintl%2Fja_jp%2Fdrive%2F" title="Google ドライブ - 写真やドキュメントなど、ファイルのクラウド ストレージとバックアップ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.google.com/intl/ja_jp/drive/">Google ドライブ - 写真やドキュメントなど、ファイルのクラウド ストレージとバックアップ</a></iframe><cite class="hatena-citation"><a href="https://www.google.com/intl/ja_jp/drive/">www.google.com</a></cite></p>

<h2><a name="3"></a>「参加者の顔が見えること」が何より重要</h2>

<p>「Zoom」では、会議の参加者の映像を画面に映すことが可能です。参加者がカメラを持っている場合に限定されますが、やはり声だけ聞こえるよりも、顔の表情も一緒に見えるのは重要なポイントだと思います。</p>

<p>なお、東京オフィスの場合は会議室に何十人ものメンバーが集まるので、通常のWebカメラでは全員を1つの画面に映すことは困難です。そこでいろいろ試しているので、少し紹介します。</p>

<ul>
<li>BUFFALOの<a href="http://buffalo.jp/product/multimedia/web-camera/bsw180abk/">「BSW180ABK」</a>というWebカメラは、180°の広角レンズで会議室全体の様子を映すことが出来て便利です。
ただし、ズーム機能も無いため、細かい部分を映すのには向いていません。</li>
<li>発表者の表情が見えなかったり、質問者が誰か分からないという意見が挙がっていたので、私物のDVビデオカメラを持ち込んでみました。カメラマンが発表者や質問者にズームしたり、会議室全体を映したりと工夫出来るし、映りが良いと好評なようです。</li>
</ul>


<p>しばらくはDVビデオカメラを使用してみたいと思いますが、段々と設備が大がかりになってきました。</p>

<p>なお、MacへのDVビデオカメラの接続ですが、<a href="http://store.apple.com/jp/product/MD464ZM">「Thunderbolt - FireWireアダプタ」</a>と9pin-4pinのFireWireケーブルを使用しています。これで、MacからはWebカメラと同様のビデオデバイスとして認識されますので、Zoomの設定画面にて選択することが可能になります。</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00E0D1RWI/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/31kRCg1Rh-L._SL160_.jpg" class="hatena-asin-detail-image" alt="iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK" title="iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00E0D1RWI/hatena-blog-22/">iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> バッファロー</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/08/25</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B00E0D1RWI/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008RXYOKY/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/21sRgqMdUKL._SL160_.jpg" class="hatena-asin-detail-image" alt="アップル Thunderbolt - FireWireアダプタ MD464ZM/A" title="アップル Thunderbolt - FireWireアダプタ MD464ZM/A"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008RXYOKY/hatena-blog-22/">アップル Thunderbolt - FireWireアダプタ MD464ZM/A</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> アップル</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B008RXYOKY/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<h2><a name="4"></a>Wii Uのマイクも使って音声環境を改善</h2>

<p>「みんなの会」では、海外を含めて、毎回20台ぐらいのPCがWeb会議に参加しています。</p>

<p>インターネットを使用しているので、一時的に音声が途切れたりする時もありますが、音声の品質や遅延はあまり気にならないため、その点でもZoomは高評価です。</p>

<p>ところで、会議室に複数の人が集まってWeb会議に参加する場合、通常ではマイクは一つだけ設置すると思いますが、マイクから離れた場所にいる人の声が聞き取りづらく、聞く側にとってストレスになることがしばしばあります。</p>

<p>そこで、マイクについてもいろいろ試しているので、少し紹介いたします。</p>

<ul>
<li>SANWA DIRECTの<a href="http://direct.sanwa.co.jp/ItemPage/400-MC001">「400-MC001」</a>というUSB接続のスタンドマイクは、高集音かつ全指向性の本格的な製品です。
声の大きさにもよりますが、10mぐらい離れた場所に座っている人の発言でもちゃんと拾ってくれるので、なかなか優秀です。</li>
<li><a href="http://www.nintendo.co.jp/wiiu/hardware/accessories/index.html">Nitendo Wii U</a>のワイヤレスマイク「WUP-019」ですが、実はWindowsやMacでも使用することが出来ます。マイクのレシーバーをUSB端子に差すだけで、Macから音声入力デバイスと認識されるので、とても簡単です。音声も非常にクリアに聞こえるので、大いに活用しています。</li>
<li>Wii Uでは2本同時に使用出来るそうなので、Macにワイヤレスマイク「WUP-019」を2台繋いでみましたが、残念ながら1つしか認識しないようです。</li>
</ul>


<p>ワイヤレスマイクとスタンドマイクを同時に使用することが出来れば最高なのですが、Zoomではマイク、スピーカーとも1つのデバイスしか設定出来ません。</p>

<p>そこで、何か手は無いかと探したところ、Macでは以下のソフトウェアを組み合わせることで可能ということが分かりました。</p>

<ul>
<li><a href="https://code.google.com/p/soundflower/">Soundflower</a>

<ul>
<li>「仮想サウンドデバイス」で、例えばMacでインターネット中継を行う時に、同じMacで再生した音楽ファイルを配信するような場合に使用出来ます。</li>
</ul>
</li>
<li><a href="http://blog.kawauso.com/ladiocast">LadioCast</a>

<ul>
<li>複数デバイスからの音声入力をミックスしたり、複数デバイスに出力することの出来るミキサーです。</li>
</ul>
</li>
</ul>


<p>LadioCastでワイヤレスマイクと集音マイクをミキシングしてSoundflowerに出力し、Zoomの音声入力デバイスとしてSoundflowerを指定することで、両方のマイクの音声がWeb会議の参加者に聞こえるという仕組みです。</p>

<p>これによって、発表者がワイヤレスマイクで話しながら、聴衆の拍手や笑い声を集音マイクで同時に拾うことが出来ています。さらに、LadioCastで発表者の声に合わせて音量を調整することで、より聞き取りやすくなっていると思います。</p>

<p>また、現在のオフィスでは、HDMI出力のプロジェクタにスピーカーが付いており、東京オフィス以外のメンバーの発言はこのプロジェクターから聞こえます。</p>

<p>ハウリングを避けるため、通常ではマイクの音はスピーカーから聞こえないのですが、LadioCastの設定を工夫して、ワイヤレスマイクの音声のみ、プロジェクターに出すようにしています。東京オフィスのように広い部屋では、発表者の声が聞こえにくいこともあるので、この簡易拡声器機能がとても便利です。</p>

<p>なお、「Zoom」に参加している各メンバーは、基本的にマイクはミュート状態で、発言時のみマイクをオンにするようにしています。そのままでは、キーボードの操作音や周囲の会話などを拾ってしまうためです。</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008F1S3PU/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41GPhvAFODL._SL160_.jpg" class="hatena-asin-detail-image" alt="サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001" title="サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008F1S3PU/hatena-blog-22/">サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> サンワダイレクト</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B008F1S3PU/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00FKSWGVI/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41DTcM%2BHU5L._SL160_.jpg" class="hatena-asin-detail-image" alt="Wii U ワイヤレスマイク" title="Wii U ワイヤレスマイク"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00FKSWGVI/hatena-blog-22/">Wii U ワイヤレスマイク</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 任天堂</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/12/12</li><li><span class="hatena-asin-detail-label">メディア:</span> Video Game</li><li><a href="http://d.hatena.ne.jp/asin/B00FKSWGVI/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<a href="https://code.google.com/p/soundflower/">https://code.google.com/p/soundflower/</a><cite class="hatena-citation"><a href="https://code.google.com/p/soundflower/">code.google.com</a></cite>
<a href="http://blog.kawauso.com/ladiocast">http://blog.kawauso.com/ladiocast</a><cite class="hatena-citation"><a href="http://blog.kawauso.com/ladiocast">blog.kawauso.com</a></cite></p>

<h2><a name="5"></a>有志メンバーによる同時通訳</h2>

<p>海外のオフィスも繋いで会議を行う場合に避けられない問題として、言語の壁があります。これについても、様々なトライアルを行ってきました。</p>

<p>例えば、「みんなの会」を資料・発表とも英語で行っていた時期もありました。ユーザベースには英語の得意なメンバーも多いので、各チームとも流暢な英語にて発表が行われていましたが、もちろん全員そうではありません。私は英語が得意ではないので、事前に英訳した原稿を用意して臨んだのですが、ちゃんと伝わっていたのか怪しく、申し訳なかったです。</p>

<p>現在は、日本語版の資料と英語版の資料を用意して、2画面あるプロジェクターに片方ずつ映すようにしています。なお、Zoomで共有するのは英語版のみで、日本語版の画面はそれ専用のPCで映しています。ページ送りはそれぞれ手動で進めていますが、自動的に同期する仕組みも構想中です。</p>

<p>発表は当人の得意な言語で行われますが、Zoomのチャットで、有志メンバーによる同時翻訳が行われています。このため、プロジェクター画面に、プレゼンテーション資料とチャット画面を並べて映しています。翻訳を行うメンバーは、会議室に持ち込んだPCからZoomの会議に参加して、日本語の発表や質問は英語に、英語の発表や質問は日本語に訳して、リアルタイムにチャットに投稿しています。</p>

<p>また、チャットによる文字の通訳だけでは思いが伝わりにくいということで、さらに有志の方に立候補していただき、発表の同時通訳にもチャレンジしています。発表と通訳を交互に行う逐次通訳では倍の時間が必要なので、同時通訳で行うのが理想ですが、システム面での難易度も上がります。</p>

<p>そもそも、Web会議システムで二カ国語の音声に対応しているものはあまり無いようで、Zoomもサポートしていません。そこで、Zoomとは別の、通訳音声用の独立した会議システムにて配信しています。具体的には、各オフィスの専用PCをSkypeで繋いでおり、海外オフィス側でもSkype用のPCで通訳の音声を受信しています。通訳の音声はオフィス全体にスピーカーで流しており、各メンバーは必要に応じてZoomの音声と聞き分けています。</p>

<p>このような構成にしている理由は、当初は1台でZoomとSkypeを両方配信しようとしたのですが、配信側も受信側も準備にも時間がかかるし、PCの動作も不安定になってしまったためです。「みんなの会」は全社で行う会議ですので、トラブルが起きた場合でもすぐ復旧出来るように、なるべくシンプルな構成を心がけています。</p>

<p>なお、資料に沿った発表だけとは限らないし、専門用語が多く出てくる内容もあるので、翻訳を引き受けていただいている方々にはとても感謝しています。当社代表・新野による「白熱教室」という、その場でのディスカッションが主体となることもあるのですが、そういう会では翻訳がかなりハードだそうです。</p>

<h2><a name="6"></a>ニコニコメソッドプレゼンで一体感のあるコミュニケーション</h2>

<p>「みんなの会」に社員がもっと参加するための仕組みとして、当社オリジナルの“字幕コメントシステム”を取り入れました。これは、Google Chromeの機能拡張を使って、発表内容についての参加者からのコメントを、ニコニコ動画のようにプレゼンテーション画面上に字幕で流すものです。本記事の冒頭に示した画像が、スライドに字幕コメントがつけられている様子です。（ブログで紹介用に弾幕を貼ってもらいました。）</p>

<p>このシステムは、当社チーフテクノロジストの竹内が一晩で作成したそうです。これについては、当ブログにて竹内から技術背景についてご紹介しました。</p>

<p><iframe src="http://tech.uzabase.com/embed/2015/06/01/143202" title="ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">tech.uzabase.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fchimerast%2Fniconico-speenya" title="chimerast/niconico-speenya" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://github.com/chimerast/niconico-speenya">chimerast/niconico-speenya</a></iframe><cite class="hatena-citation"><a href="https://github.com/chimerast/niconico-speenya">github.com</a></cite></p>

<p>全社会議というと真面目で少し堅いイメージがありますので、当初はこのようなコンテンツが受け入れられるのか不安でした。ところが、いざ始めて見ると予想以上に好評で、もはや「みんなの会」に無くてはならないツールになりました。</p>

<p>例えば、SPEEDAやの新機能のリリースについての報告では、「いいね！」のマークが画面を埋め尽くしたり、バックオフィスからの経費精算手順の説明では、いつも間違っていた人から「すみませんでした」というコメントがあったり…。今までよりもリアクションが遙かにしやすくなり、会議に参加しているという意識が強くなって、「みんなの会」の雰囲気もかなり変わったと思います。</p>

<h2><a name="7"></a>まとめ</h2>

<p>今回の記事では、「みんなの会」のシステムについて、一通りご紹介いたしました。まだまだ完成形とは言えず、課題も多いのですが、その一方でかなり複雑になってしまっているので、よりシンプルにしていきたいと思います。機会があれば、さらに細かい部分についても、詳しく説明してみたいと思います。</p>

<p>ユーザベースの「世界一の経済メディアをつくる」というミッション実現のため、今後さらに社員数も増え、新しいオフィスも開設されていくと思います。物理的な距離があっても、「みんなの会」には全てのメンバーが同じように参加出来るべきです。完全な実現は難しいかもしれませんが、メンバーのアイデアとテクノロジーの力で、少しでも理想に近付けられればと思います。</p>

<p>ユーザベースでは、SPEEDAやに携わっていただくエンジニアを募集中です。こういったシステム構築や、企業カルチャーをつくる「みんなの会」などの取り組みに興味のある方も、採用ページやWantedlyからお気軽にご連絡ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fcareer%2F%23career-sec1" title="CAREER | 株式会社ユーザベース | UZABASE, Inc." class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.uzabase.com/career/#career-sec1">CAREER | 株式会社ユーザベース | UZABASE, Inc.</a></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/career/#career-sec1">www.uzabase.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11448">www.wantedly.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11497" title="巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11497">巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11497">www.wantedly.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F19575" title="情報社会にイノベーションを起こせ！エンジニアインターン募集 by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/19575">情報社会にイノベーションを起こせ！エンジニアインターン募集 by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/19575">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/8454420450087345655
enclosure : 
title : ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった
link : http://tech.uzabase.com/entry/2015/06/01/143202
description : <p>技術チーム竹内(@<a class="twitter-user-screen-name" href="http://twitter.com/chimerast">chimerast</a>)です。</p>

<p>作ったものが知らない間に<a href="https://seleck.cc/article/11">記事</a>のネタにされていたので、どんな仕組みで動いているか技術的なところについて書いてみます。どう使われているかの細かい話は、後日ブログ内に別の記事が上がる予定です。</p>

<p><i>（6/2 追記：「みんなの会」の動画配信システムについて記事を投稿しました。</i>）
<iframe src="http://tech.uzabase.com/embed/2015/06/02/183335" title="ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編） - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/02/183335">ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編） - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/02/183335">tech.uzabase.com</a></cite></p>

<h3>全社会議で「ニコニコメソッドプレゼン」</h3>

<p>だいぶ昔にWeb業界界隈で話題になった(?)ニコニコメソッドプレゼンを、週一の全社会議で取り入れたところ、プレゼンのエンタメ性が増して以前よりだいぶ面白いものになりました。プレゼンを聞く側の一体感がでて面白くなったのに加え、プレゼンする側としても、今まで聞いてるんだか聞いていないんだかよくわからない状態だったのが、反応が目に見えるようになってやりやすくなりました。</p>

<p>ニコニコメソッドプレゼンとは、視聴者がスマホ等でコメントを入力して、そのコメントがニコニコ動画のようにプレゼン資料の上に流れる、視聴者参加型のプレゼンです。</p>

<p>やるとこんな感じになります(全社会議内でやっている社員の自己紹介タイム)↓</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/h0rErlGD0JM" frameborder="0" allowfullscreen></iframe>


<p>ニコニコメソッドを取り入れることになったきっかけは、全社会議への参加者のコミットメントをどうやったら上げることが出来るかどうかみたいな事を話し合った際に、</p>

<ul>
<li>発言しようにも人数が多くなって発言しづらい雰囲気ができあがってしまっている</li>
<li>海外拠点等のリモートからの参加時に、発言がしづらかったり、会議の盛り上がり具合が伝わりにくい</li>
</ul>


<p>という声があがり、その解決策として、</p>

<ul>
<li>ニコニコ動画みたいに横から匿名の突っ込みを入れるようにできたら発言の機会が増えるんじゃないか</li>
</ul>


<p>という意見が出たことによるものです。</p>

<p>ちょうど、視聴者参加型プレゼンツールを作ってみたいなと思っていたこともあり、一晩夜なべして作りました。</p>

<h3>作ったもの: Chrome機能拡張「NicoNico SPEENYA」</h3>

<p>(Chromeウェブストアでの公開はしてません)</p>

<p>全社会議では、色んなチームが進捗報告することもあり、全員で一つのプレゼン資料を編集出来るGoogle Slidesを使用して発表を行っています。</p>

<p>プレゼンのためのほかのツールを使ったり作ったりすることは、移行コストや作成コストの面で考えられなかったので、Google Slidesをそのまま使うことにして、Chrome機能拡張でその上にコメントを重ねるようなものを作りました。</p>

<p>コメントをするだけでは面白くないので、いいねボタンをつけて、押すと親指の画像が浮き上がって消えるような機能や、それを応用して任意の画像を送り込むような機能もつけてます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150531/20150531234517.gif" alt="f:id:chimerast:20150531234517g:plain" title="f:id:chimerast:20150531234517g:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>プログラムはGitHub上でひっそり公開しています。一般向けに機能拡張およびサーバを公開することも考えたのですが、チャンネル機能を作るモチベーションがわかないのと、セキュリティの事を考えると使う人ごとにサーバ立ててもらった方が良い気がするので、そのままにしています。</p>

<p>Forkして拡張していただいたり、面白い機能をつけてPull Requestを送っていただけるとうれしいです。</p>

<p><a href="https://github.com/chimerast/niconico-speenya">chimerast/niconico-speenya &middot; GitHub</a></p>

<h3>作るのに使ったもの</h3>

<ul>
<li><a href="http://socket.io/">Socket.IO</a></li>
<li><a href="https://developer.chrome.com/extensions/getstarted">Google Chrome機能拡張</a></li>
<li><a href="http://www.w3.org/TR/web-animations/">Web Animations API</a></li>
<li><a href="https://nodejs.org/">Node.js</a> + <a href="http://expressjs.com/">Express</a></li>
</ul>


<h4>Socket.IO</h4>

<p>ブラウザで双方向の何かをつくる場合は鉄板の選択ですね。</p>

<p>Chrome機能拡張側でSocket.IOのサーバへの接続を行い、サーバ側からの通知を待って、コメントやイメージ表示の通知があったらそれを表示するという事をやっています。</p>

<h4>Google Chrome機能拡張</h4>

<p>Chromeには、表示される全てのページへJavaScriptを挿入するような機能拡張を作るための拡張ポイントが用意されているのでそれを使いました。</p>

<p><a href="https://developer.chrome.com/extensions/content_scripts">Content Scripts - Google Chrome</a></p>

<p>これに加えて、ツールバーにボタンを置いて、コメント表示のON/OFFを切り替えられるようにしていたりします。</p>

<h4>Web Animations API</h4>

<p>あまり有名ではない機能だと思いますが、HTML5標準のアニメーションAPIです。jQuery.animate()と同じようなものだと思って良いと思います。</p>

<p>ブラウザネイティブなので、動作が軽かったりリソース消費が少なかったりするみたいです。ただし、まだドラフトなのでサポートしていないブラウザも多いです。</p>

<p>あまり依存ライブラリを増やしたくなかったのと、どんなもんなのか使ってみたかったのでアニメーションAPIとして採用しました。</p>

<h4>Node.js + Express</h4>

<p>こったことはせず、普通のAPIサーバとしての使い方をしています。Expressで待ち受けているURLにPOSTが送信されると、Socket.IOを呼び出して、Chrome機能拡張側に通知を行います。</p>

<h3>まとめ</h3>

<p>視聴者参加型のプレゼンは盛り上がります。また、プレゼンする側も面白いプレゼンを作ろうという気になります。</p>

<p>プログラムの総行数はクライアントサーバ合わせて200行ぐらいです。ありものの機能を使うとさくさくっと作れます。</p>

<h3>宣伝</h3>

<p>ユーザベースでは、2015年6月14日(日)に、<a href="http://e2d3.org/about-e2d3-2/?lang=ja">E2D3プロジェクト</a>と一緒にハッカソンを行います。</p>

<p>スマホでのデータビジュアライズ方法が、世の中で試行錯誤されている中、みんなで考えてみようというハッカソンです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fe2d3.connpass.com%2Fevent%2F14868%2F" title=" &amp; SPEEDA スマートデータエクスペリエンス ハッカソン (2015/06/14 10:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://e2d3.connpass.com/event/14868/"> &amp; SPEEDA スマートデータエクスペリエンス ハッカソン (2015/06/14 10:00〜)</a></iframe><cite class="hatena-citation"><a href="http://e2d3.connpass.com/event/14868/">e2d3.connpass.com</a></cite></p>

<p>ネタ的に面白いと思うので是非ご参加ください。</p>

<p>E2D3プロジェクトについてはまた別で記事を書こうと思います。</p>

guid : hatenablog://entry/8454420450095983310
enclosure : 
title : 恵比寿のスタートアップエンジニアが集まる「えびスタ！」#2 を開催しました（ユーザベース、クックパッド、VASILY、エウレカ、はてな）
link : http://tech.uzabase.com/entry/2015/05/15/170206
description : <p><a href="http://tech.uzabase.com/entry/2015/04/10/194732">既報</a>の通り、恵比寿近辺のスタートアップエンジニアが集まる勉強会「えびスタ！」#2 を開催しました。少し遅れましたが開催レポートをお届けします。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150513/20150513145913.jpg" alt="f:id:uzabase:20150513145913j:plain" title="f:id:uzabase:20150513145913j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h1>発表資料</h1>

<p>第2回となる今回は、「大規模データの料理法」と題してユーザベース、クックパッド、VASILY、エウレカ、はてなのエンジニアが集まり、各社の事例をご紹介しました。発表内容と資料を以下にまとめます。</p>

<h2>アドベリフィケーションサービス「BrandSafe はてな」の裏側（株式会社はてな 山家 雄介）</h2>

<blockquote><p>2014年8月に株式会社はてなの初のアドテクノロジープロダクトとしてリリースされた「BrandSafe はてな」について、システムを構成するアーキテクチャや、はてな特有のデータを活用して高精度にブランド毀損サイトを判定するための技術的アプローチ、DSP上で広告インプレッションがあった全URLをベースにした、膨大なアドベリフィケーションリクエストをさばくためのインフラ的な工夫などについてお話をする予定です。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fdocs.google.com%2Fpresentation%2Fd%2F1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0%2Fedit%3Fusp%3Dsharing" title="アドベリフィケーションサービス「BrandSafe はてな」の裏側" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://docs.google.com/presentation/d/1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0/edit?usp=sharing">アドベリフィケーションサービス「BrandSafe はてな」の裏側</a></iframe><cite class="hatena-citation"><a href="https://docs.google.com/presentation/d/1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0/edit?usp=sharing">docs.google.com</a></cite></p>

<h2>企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘（株式会社ユーザベース 北内啓）</h2>

<blockquote><p>急激に増加し続けるSPEEDAの企業データを扱う上での課題や取り組み、今後の展望などについて紹介します。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/C8bvFGYNjwBTDy" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/tau3000/speeda-47444622" title="企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘" target="_blank">企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘</a> </strong> from <strong><a href="http://www.slideshare.net/tau3000" target="_blank">Akira Kitauchi</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/tau3000/speeda-47444622">www.slideshare.net</a></cite></p>

<h2>iQONのアプリ内のデータ分析基盤の紹介や分析手法について紹介します（今村雅幸 株式会社VASILY）</h2>

<blockquote><p>iQONのアプリ内のデータ分析基盤の紹介や分析手法について紹介します</p></blockquote>

<h3>発表資料</h3>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_296543" mozallowfullscreen="true" src="//speakerdeck.com/player/aa71354e8c1140278ba2ac59c4f359ae" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kyuns/iqon-bigquery">speakerdeck.com</a></cite></p>

<h2>ベンチャーならではRedShiftの低コスト運用（株式会社エウレカ 鉄本環）</h2>

<blockquote><p>pairsではRedShiftを用いてマーケティングデータや、アルゴリズム解析をしていますが、 これを低価格で運用しているTIPSをお話いたします。</p></blockquote>

<h3>発表資料</h3>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_296950" mozallowfullscreen="true" src="//speakerdeck.com/player/864b12be51a445e28e5513e9d3dcf821" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/tamaki0506/bentiyanaradehafalseredshiftdi-kosutoyun-yong">speakerdeck.com</a></cite></p>

<h2>リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ（クックパッド株式会社 井上寛之）</h2>

<blockquote><p>「たべみる」は、クックパッドの検索データをウェブから分析できる法人向けのウェブサービスです。 そのアーキテクチャの特徴としてサービスのバックエンドDBとバッチの両方でRedshiftを使っていることが挙げられます。 今回は、Redshiftの可用性を高めるためのクックパッド独自のアーキテクチャについて紹介します。</p></blockquote>

<h3>発表資料</h3>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/3HMWdJOMwi9CkJ" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/inohiro/ebi-sta" title="リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ" target="_blank">リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ</a> </strong> from <strong><a href="//www.slideshare.net/inohiro" target="_blank">Hiroyuki Inoue</a></strong> </div></p>

<h1>懇親会はエビスビールとピザ＋LT！</h1>

<p>懇親会ではピザと、恵比寿スタートアップということで<b>エビスビール</b>をご用意しました。希望者によるLTもとても盛り上がりました。発表いただいた皆さまありがとうございました！</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150513/20150513151035.jpg" alt="f:id:uzabase:20150513151035j:plain" title="f:id:uzabase:20150513151035j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h2>LT：GoWorker調査（大貫）</h2>

<blockquote><p>データ処理を支えるGoWorkerあたりの紹介など</p></blockquote>

<h3>発表資料</h3>

<p>（確認中）</p>

<h2>LT：E2D3プロジェクトの紹介（株式会社ユーザベース CTO たけうちひでゆき）</h2>

<blockquote><p>Excelで様々なデータ可視化を行えるようになる予定の、E2D3というオープンソースで進めているプロジェクトを紹介します。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/n3gL3DWPlosXlz" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/chimerast/e2d3-47364632" title="E2D3プロジェクトのご紹介@えびスタ！" target="_blank">E2D3プロジェクトのご紹介@えびスタ！</a> </strong> from <strong><a href="http://www.slideshare.net/chimerast" target="_blank">Hideyuki Takeuchi</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/chimerast/e2d3-47364632">www.slideshare.net</a></cite></p>

<h2>LT：mecab-ipadic-NEologd の効果的な使い方（LINE株式会社 佐藤敏紀）</h2>

<blockquote><p>「mecab-ipadic-NEologd」は 形態素解析エンジン MeCab のシステム辞書である IPA 辞書を拡張するオープンソースな辞書です。大きな特徴は「大量の新語・固有表現を読み仮名付きで採録されていること」と「最低でも月二回(初旬と中旬)、辞書データが更新されること」です。またライセンスは Apache License 2.0 ですので、安心して製品開発や研究にご利用いただけます。今回は「mecab-ipadic-NEologd」を実務で使う際にどうするべきかをお伝えし、使用例のデモをご紹介いたします。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/xfahOOsXcA159j" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/overlast/effective-mecabipadicneologdebisuta-1" title="mecab-ipadic-NEologd の効果的な使い方" target="_blank">mecab-ipadic-NEologd の効果的な使い方</a> </strong> from <strong><a href="http://www.slideshare.net/overlast" target="_blank">Toshinori Sato</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/overlast/effective-mecabipadicneologdebisuta-1">www.slideshare.net</a></cite></p>

<h1>恵比寿スタートアップを盛り上げていきます！</h1>

<p>スタートアップを追いかけている週アスPLUSによると、「スタートアップ集積地」として恵比寿が最近盛り上がってきているそうです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweekly.ascii.jp%2Felem%2F000%2F000%2F334%2F334134%2F" title="バイアウトが話題のエウレカほか注目企業多数！ 押さえておきたい恵比寿スタートアップ【2015年5月】" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://weekly.ascii.jp/elem/000/000/334/334134/">バイアウトが話題のエウレカほか注目企業多数！ 押さえておきたい恵比寿スタートアップ【2015年5月】</a></iframe><cite class="hatena-citation"><a href="http://weekly.ascii.jp/elem/000/000/334/334134/">weekly.ascii.jp</a></cite></p>

<p>えびスタ！では、恵比寿のスタートアップやエンジニアコミュニティを盛り上げるために今後もイベントを開催してまいります。運営する株式会社ユーザベース・株式会社ニューズピックスにご興味のある方は、以下のWantedlyなどからお気軽にご連絡ください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc" title="株式会社ユーザベースの最新情報 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/companies/uzabase-inc">株式会社ユーザベースの最新情報 - Wantedly</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/8454420450094322238
enclosure : 
title : 「えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな」開催のお知らせ
link : http://tech.uzabase.com/entry/2015/04/10/194732
description : <p>SPEEDA/を提供する株式会社ユーザベースでは、エンジニアの技術力向上と交流を目的として「えびスタ！（恵比寿スタートアップ勉強会）」を開催しています。2015年4月23日（木）に「えびスタ #2」を開催しますのでお知らせいたします。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150410/20150410193802.png" alt="f:id:uzabase:20150410193802p:plain" title="f:id:uzabase:20150410193802p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>第2回となる今回は、クックパッド、VASILY、エウレカ、そして特別ゲストとして京都からはてなのエンジニアをお呼びして開催します。各社の事例をもとに、アドテクを支える技術やRedShiftの活用法などについてお話する予定です。</p>

<p>また後半では軽食（エビスビールとピザ！）を交えたLTや交流会も開催予定です。恵比寿のスタートアップと語り合いたい、他社エンジニアと交流したいという方はぜひお気軽にご参加いただければと思います。（LT参加者も募集しています。LTしていただける方は応募時に「LTしたい！」とコメントください。）</p>

<p>イベント詳細や申し込みについては以下の connpass ページをご覧ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F13953%2F" title="えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな (2015/04/23 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/13953/">えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな (2015/04/23 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/13953/">ebista.connpass.com</a></cite></p>

guid : hatenablog://entry/8454420450091056412
enclosure : 
title : IntelliJ IDEA + JRebel セミナーを開催しました
link : http://tech.uzabase.com/entry/2015/03/30/175726
description : <p> 開発チームの文字です。</p>

<p>先週の金曜日、株式会社サムライズムの山本裕介さん（<a href="https://twitter.com/yusuke">@yusuke</a>）に弊社オフィスまで来て頂き、IntelliJ IDEA + JRebel のセミナーを開催して頂きました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150329/20150329161416.jpg" alt="f:id:uzabase:20150329161416j:plain" title="f:id:uzabase:20150329161416j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>弊社は SPEEDA /  ともにサーバーサイドの実装に Java を利用しています。私自身や一部メンバーは IntelliJ IDEA を使っているのですが、使い慣れた Eclipse を利用しているメンバーも多いため、今回 Eclipse から IntelliJ IDEA への移行を検討するためにセミナーを開いて頂きました（ちなみに iOS 開発を行っているメンバーは App Code を利用しています）。加えて、SPEEDA 開発チームで導入を検討している JRebel のデモも行って頂きました。</p>

<p>私が Eclipse から IntelliJ IDEA に移行したのは半年ほど前ですが、既に Eclipse に戻れなくなりつつあります。要因は幾つかあるのですが、パッと思い付くところだと以下でしょうか。</p>

<ul>
<li>全体的に動作が軽い・速い</li>
<li>デバッグ時の変数内容表示が使いやすい</li>
<li>プラグインが無くてもデフォルトで様々な言語／フレームワークのサポートがある</li>
<li>Postfix Completion が使いやすい</li>
</ul>


<p>総じて何もセットアップしなくても「痒いところに手が届く」IDE になっているのが魅力だなと感じています。Eclipse 時代には何かとプラグインを自作していましたが、IntelliJ IDEA では大抵のものは標準でサポートされています。</p>

<p>@yusuke さんのデモを見て私自身も様々な機能を知らなかったことに今更ながら気付きましたが（恥ずかしながら Chronon Debug や Live Edit・BTS 連携などは全く知りませんでした）、社内の開発メンバーも Postfix Completion を始めとした IntelliJ IDEA の様々な機能に驚きの声を上げており、本格的にチームでの導入を検討しようかという声もありました。</p>

<p>非常に勉強になるセッションでした。@yusuke さん、本当にありがとうございました！</p>

guid : hatenablog://entry/8454420450089701904
enclosure : 
title : Preserving Code Quality and Save Everyone’s Time with SonarQube
link : http://tech.uzabase.com/entry/2015/03/20/174914
description : <p>Hello. I'm Jason from SPEEDA's development team</p>

<p>A developer's work (and even life) revolves around writing and testing codes. As a developer, I, like many others, take pride in my codes which are clean, elegant, and bug-free. And so we do our best to achieve this.</p>

<p>I must admit, though, that even as a seasoned developer, I do have some shortcomings. SonarQube classifies these shortcomings as the "Seven Deadly Sins" which are considered as capital sins committed by developers everyday.</p>

<ol>
<li>Bugs and potential bugs</li>
<li>Coding standards breach</li>
<li>Duplicates</li>
<li>Lack of unit tests</li>
<li>Bad distribution of complexity</li>
<li>Spaghetti design</li>
<li>Not enough / too many comments</li>
</ol>


<p>For more description you can visit the SonarQube: <a href="http://docs.sonarqube.org/display/SONAR/Developers%27+Seven+Deadly+Sins">Developers&#39; Seven Deadly Sins - SonarQube - Confluence</a></p>

<p>One way to avoid these pitfalls is through peer review. We should not be afraid to ask others to review our codes so we can be aware of our weaknesses. Similarly, we should also take the time to review other's work. This helps ensure that we deliver quality but this does not guarantee 100% error-proof codes (after all, reviewers are also humans who commit errors). They may improve 90% of the code but will still miss the remaining 10%.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013622.png" alt="f:id:uzabase:20150320013622p:plain" title="f:id:uzabase:20150320013622p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>Some people claim that the practice of peer review is a waste of precious human resource. They argue that more experienced developer can contribute more to a project through other means other than reviewing their colleagues' codes. While they may have a point, in my experience, review improves everybody's coding skills because of the reviewers give correct solutions and tips. Meanwhile, the reviewee (or the developer receiving the feedback) learns from the more-experienced colleague. This exercise becomes an avenue for knowledge sharing in the company.</p>

<p>From the project management perspective, one would like to measure or quantify the developers' improvements in the peer review practice. But since we don't really count how many feedbacks a developer has for his code, we can't really give a number to the project managers.</p>

<p>But I believe that these problems can be managed through a platform to manage code quality called <b>SonarQube</b>.</p>

<h3>What is SonarQube?</h3>

<p><i>"SonarQube is the central place to manage code quality, offering visual reporting on and across projects and enabling to replay the past to follow metrics evolution."</i></p>

<p>It is open source, extensible with custom plugins (and we can even create one ourselves), we can integrate this with other systems (such as Jenkins), and supports 20+ programming language (In our case we will just use Java).</p>

<p>I've actually implemented this with our current codebase and there were, indeed, some simple misses in the codes (it might have been overlooked by the reviewers). But due to confidentiality, I chose to hide the numbers and the source codes here in this entry.</p>

<p>This is a screenshot of the dashboard of SonarQube's demo: <a href="http://nemo.sonarqube.org">SonarQube</a></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013733.png" alt="f:id:uzabase:20150320013733p:plain" title="f:id:uzabase:20150320013733p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>We can see the technical debt (what the developers have to "pay" to fix the issues) is set to 82,176 days. Assuming that 1 person will work in 8 hours a day, it will take that developer to fix everything in 82,176 days. (And also assuming that it won't increase anymore). There are 14,937,000 lines of codes there, and 2,714,682 issues. Issues are categorized as Blocker, Critical, Major, Minor, Info. Depending on your company, you will need to determine how they should be dealt with.</p>

<p>In the code below, you can see SonarQube gives suggestions as to the best approach for this case. Of course, SonarQube will not always be correct since we may be following the company's coding standard. We can actually adjust the rules of SonarQube to fit our company's coding standard.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013957.png" alt="f:id:uzabase:20150320013957p:plain" title="f:id:uzabase:20150320013957p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>This is another example of a code that doesn't follow JavaBean's Naming convention and the complexity of this code is quite high based from SonarQube's  calculation.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014035.png" alt="f:id:uzabase:20150320014035p:plain" title="f:id:uzabase:20150320014035p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>You can also assign the technical debt tasks to your teammates (You can integrate this to your JIRA or Redmine so it creates tickets which the Project Leader could also manage)</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014054.png" alt="f:id:uzabase:20150320014054p:plain" title="f:id:uzabase:20150320014054p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>Here we can customized the rules SonarQube is following</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014111.png" alt="f:id:uzabase:20150320014111p:plain" title="f:id:uzabase:20150320014111p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>We can also see which codes got duplicated (or copy paste instead of refactoring and reusing the same code)</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014135.png" alt="f:id:uzabase:20150320014135p:plain" title="f:id:uzabase:20150320014135p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>And here is from another file with the same codes</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014147.png" alt="f:id:uzabase:20150320014147p:plain" title="f:id:uzabase:20150320014147p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>There are still tons of functionalities which SonarQube has but I haven't explored yet.</p>

<p>Regarding installation, setup is a breeze so I highly recommend you try it on your codebase.</p>

<h4>To sum up,</h4>

<p>SonarQube is not just for developers, but for everyone involved in the project:</p>

<ul>
<li>For developers, it helps them check if their code is correct and follows the correct coding standard.</li>
<li>For QA, it helps them check the test coverage of unit test (they make sure that every code is tested on unit level)</li>
<li>For Architects, it helps them check if the architecture of the system is correct, and that no codes are having a spaghetti code design.</li>
<li>For Managers, it helps them see if developers are actually improving (they can monitor if technical debt actually decreases) and can
use this for future decisions (i.e. they can delay the release of a functionality because it's technical debt is too high).</li>
</ul>


<h4>"Quality is everyone's responsibility" - Deming, W. Edwards</h4>

<hr />

<p>If you are the type of developer who takes pride in your skills and values code quality, or if you are interested in learning new and interesting technologies, then we want you!</p>

<p>You can try checking this link <a href="https://www.wantedly.com/companies/uzabase-inc">&#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x6700;&#x65B0;&#x60C5;&#x5831; - Wantedly</a> and give us a contact!</p>

guid : hatenablog://entry/8454420450088648834
enclosure : 
title :  を支えるインフラのこれから― Autoscaling を導入してみよう―
link : http://tech.uzabase.com/entry/2015/03/12/190251
description : <p>インフラ・運用を担当しているカツです。</p>

<p>のインフラについて、今まで他の人も紹介していましたが(<a href="http://tech.uzabase.com/entry/2015/03/06/180232">『AWS CloudWatch Logs を  で試してみた話』</a>)、
今回は、現在ののインフラを紹介するのではなく、今後、のインフラに関してやろうと思っていることをいくつか紹介しようと思います。</p>

<h2>Autoscaling の導入</h2>

<p>はインフラを AWS 上で運用していますが、現在はまだ完全にクラウドの強みを発揮できていません。一定数のインスタンスを運用して、時間帯によって起動するインスタンスを手動で決定しているためです。これではスマートではありません。
今後はリソース負荷状況によって自動的にインスタンスを立ち上げられるように、Autoscalingを導入しようと考えています。</p>

<p>Autoscalingの導入はすごく簡単です。launch-configurationとauto-scaling-groupを設定すれば終わりです。コンソール画面から設定してもいいですし、コマンドでもすぐできます。</p>

<p>launch-configurationの作成：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling create-launch-configuration 
--launch-configuration-name &#34;newspicks_production_lc&#34;
--image-id &#34;awi-xxxxxxx&#34;
--security-groups &#34;ApplicationServers&#34;
--instance-type &#34;c3.xlarge&#34;
--instance-monitoring true
--no-associate-public-ip-address</pre>


<p>auto-scaling-groupの作成：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling create-auto-scaling-group
--auto-scaling-group-name &#34;newspicks_production_sg&#34;
--launch-configuration-name &#34;newspicks_production_lc&#34;
--min-size 5
--max-size 30
--desired-capacity 5
--default-cooldown 600
--availability-zones &#34;ap-northeast-1a&#34;
--load-balancer-names &#34;production&#34;
--health-check-type &#34;ELB&#34;
--health-check-grace-period &#34;120&#34;
--vpc-zone-identifier “subnet-xxxxxx”</pre>


<p>次はScaling Plansを設定します。今で考えているPlansは下記の通りです。
Dynamic Scaling：CloudWatch Alarms（cpu、メモリ、アクセス数など）
Scheduled Scaling ：毎日の 07:30、18:30 に実行する（例）
コマンド：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling put-scheduled-update-group-action --scheduled-action-name scaleup-schedule-year --auto-scaling-group-name newspicks_production_sg --recurrence &#34;30 7,18 0 0 0&#34; --desired-capacity 10</pre>


<p>ただ、Autoscalingは導入が簡単ですが、今までのデプロイ方式と監視の仕組みを変えなければなりません。</p>

<h2>デプロイについて</h2>

<p>AMIが指定されているため、デプロイ都度でAMIを作り直すのは現実的ではない</p>

<h3>解決案</h3>

<ul>
<li>Warファイルなどを踏み台サーバかS3に置く</li>
<li>Autoscalingが発生時、userdataを利用し、ファイルを持ってくる</li>
<li>CodeDeployの採用</li>
</ul>


<h2>監視について</h2>

<p>Autoscallingが発生時、起動されたインスタンスが監視対象に入れるのは間に合わない
※Newspicksはcloudwatchで監視しているため（zabbixは一部監視のみ）</p>

<h3>解決案</h3>

<ul>
<li>HyClops for Zabbixプラグインを導入</li>
<li>zabbixを廃止し、完全にCloudWatchに移行</li>
</ul>


<p>また、これからさらにのインフラ基盤の自動化を進めるため、ansibleの構築コード化の採用、chatopsによって、リリース作業の簡潔化などなど常に進めています。</p>

<p>ではエンジニアを募集しています！
各種AWSサービスを利用しながら、安定したサービス提供のための開発・運用を日々おこなっています。
興味のある方はぜひご応募待っています！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe></p>

<p><a href="https://www.wantedly.com/projects/11448">100&#x5E74;&#x306B;&#x4E00;&#x5EA6;&#x306E;&#x30E1;&#x30C7;&#x30A3;&#x30A2;&#x5909;&#x9769;&#x671F;&#xFF01;&#x4E16;&#x754C;&#x4E00;&#x306E;&#x30CB;&#x30E5;&#x30FC;&#x30B9;&#x30D7;&#x30E9;&#x30C3;&#x30C8;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x3092;&#x5275;&#x308D;&#x3046; - &#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x6C42;&#x4EBA; - Wantedly</a></p>

guid : hatenablog://entry/8454420450087505981
enclosure : 
title : AWS Cloudwatch Logsをで試してみた話
link : http://tech.uzabase.com/entry/2015/03/06/180232
description : <p>こんにちは、開発・運用を担当している木下です。<br/>
今回はAWS CloudWatch Logsを利用した運用周りの改善について社内LTした内容をベースにブログにまとめました！</p>

<p>はインフラを完全にAWS上で運用しています。</p>

<p><a href="http://aws.amazon.com/jp/solutions/case-studies/newspicks/">AWS &#x5C0E;&#x5165;&#x4E8B;&#x4F8B;: &#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9; | &#x30A2;&#x30DE;&#x30BE;&#x30F3; &#x30A6;&#x30A7;&#x30D6; &#x30B5;&#x30FC;&#x30D3;&#x30B9;&#xFF08;AWS &#x65E5;&#x672C;&#x8A9E;&#xFF09;</a></p>

<p>監視については、APIから発生したエラーはAmazon SESを使用してメールにて通知、リソース監視はCloudWatchを利用しています。<br/>
CloudWatchは任意のメトリクス（計測値）をアップロードし、それに対して閾値を設定し、AmazonSNSを利用してエラー通知をしたり、AutoScalingを利用してインスタンスを立ち上げたりといったアクションが取れます。<br/>
AWSを利用すると、標準でEC2インスタンスのCPU使用率やネットワークトラフィック、SQSのキューサイズ、などなど必要最低限のメトリクスが自動でアップロードされます。
CloudWatchはデフォルトで提供されているメトリクスの監視だけでなく、スクリプトを作成してカスタムメトリクスをアップロードすることもできます。<br/>
では、ディスク使用率、メモリ使用率、サーバーサイドがJavaを使用しているためVMの情報などをCloudWatchにアップロードし、適宜アラームを設定して監視を行っています。</p>

<p>CloudWatchはAWSから標準で提供されているメトリクスのようなリソース監視には向いています。<br/>
ただし、システム監視は定期的に発生するリソース監視だけでは不十分です。<br/>
例えば不定期に発生するイベントの監視をするにはCloudWatchだけで提供される機能では難しく、別のログ監視のシステムを利用するのが一般的かと思います。<br/>
CloudWatchが提供しているアラーム機能は便利なため、カスタムメトリクスのアップロードスクリプトを工夫していたりもするかもしれません。</p>

<p>そこで、昨年サービスインし、12月からは東京リージョンでも利用可能となったAWS CloudWatch Logsを試してみました。</p>

<h5>インストール</h5>

<p>既存サーバーへのインストールは、下記のpythonスクリプト実行で一発完了でした。</p>

<pre class="code" data-lang="" data-unlink>wget https://s3.amazonaws.com/aws-cloudwatch/downloads/latest/awslogs-agent-setup.py
sudo python ./awslogs-agent-setup.py --region north-east-1</pre>


<p>このスクリプトで、インストール、デーモン化、対話式でログアップロードの設定までできます。<br/>
chkconfigで起動時設定に入れれば、インスタンスの起動時からログがアップロードされる設定が動きます。</p>

<h5>設定ファイル情報</h5>

<p>対話式で設定した内容は/var/awslogs/etc/awslogs.confに格納されます。</p>

<pre class="code" data-lang="" data-unlink>[/var/log/nginx/access.log]
datetime_format = %Y-%m-%d %H:%M:%S
file = /var/log/nginx/access.log
buffer_duration = 5000
log_stream_name = {hostname}
initial_position = start_of_file
log_group_name = access_log</pre>


<p>直接設定ファイルを変更して追記することもできます。<br/>
同一のLogGroup名で異なるEC2インスタンス（異なるLogStream）から情報をアップすると、LogGroup単位でフィルタリングしたりの操作ができます（後述）</p>

<p>対話式or設定ファイルに記載すると、しばらくするとAWS Console上でログが確認できるようになります。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303013326.png" alt="f:id:uzabase:20150303013326p:plain" title="f:id:uzabase:20150303013326p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h5>ログの保持期間</h5>

<p>CloudWatchのメトリクスは保持期間が2週間でしたが、CloudWatch LogsではLog Groupsの保持期間として1日〜10年、または有効期限なしが設定可能になりました。<br/>
やはりログをアップロードするとなると、長く保持できるのは助かります。<br/>
（ただし、後述するFilterによってアップロードされるメトリクスの保持期間は選べません）</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303013441.png" alt="f:id:uzabase:20150303013441p:plain" title="f:id:uzabase:20150303013441p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h5>Filterの設定</h5>

<p>このアップロードされたログからFilterを作成すると、CloudWatchにメトリクスとしてアップロードされます。</p>

<p>設定例1) ログからERRORを抜き出す<br/>
ログから単純に文言をgrepするようなFilterです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303014218.png" alt="f:id:uzabase:20150303014218p:plain" title="f:id:uzabase:20150303014218p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>設定例2) HTTPステータスが200で、応答時間が1秒以上のログを抜き出す<br/>
スペース区切りのログについては、パターン指定して値を抜き出すこともできます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303014457.png" alt="f:id:uzabase:20150303014457p:plain" title="f:id:uzabase:20150303014457p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>上記のようなFilterを作成し、右下のTest Patternボタンを押すとどのログがヒットするかも事前にテストできるので、操作はとても簡単でした。<br/>
このFilterの結果をCloudWatchメトリクスとしてアップロードすることができます。<br/>
単純なgrepの場合は、事象が発生すると1とカウントされますが、パターン指定した場合はマッチしたパターンをメトリクスとすることもできるようです。<br/>
（◯◯秒以上かかった処理時間のみをメトリクスとして記録、のような）<br/>
メトリクスからアラームを作成する部分は、通常のCloudWatchと同様です。</p>

<h5>まとめ</h5>

<p>ログから事象を発生ベースでメトリクスとして記録する部分がかなり簡易化されました。<br/>
今まで定常的なリソース監視に使用していたCloudWatchを、不定期に発生するイベントの監視としても使いやすくなりました。<br/>
設定、操作もかなり簡単なので、今まで手作りのスクリプトで監視していた部分を一部移行できそうです。<br/>
今後の改善要望としては、ログを時間でしか検索できない部分や、Filterがスペース区切りにしか対応していない部分（正規表現で後方参照したい・・・）などが改善されるとさらに使いやすくなると思います。</p>

<p>ではエンジニアを募集しています！<br/>
各種AWSサービスを利用しながら、安定したサービス提供のための開発・運用を日々おこなっています。<br/>
興味のある方はぜひご応募待っています！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe></p>

guid : hatenablog://entry/8454420450085870433
enclosure : 
title : 情報技術との向き合い方：SPEEDA/を支える価値を生み出す技術の選定手法
link : http://tech.uzabase.com/entry/2015/03/02/180612
description : <p>UZABASE技術チーム竹内(@chimerast)です。</p>

<p>ちょっと時間がたってしましましたが、2月7日に<a href="http://eventdots.jp/event/309318">dots. Summit 2015</a> にて、ポエム「<a href="http://www.slideshare.net/chimerast/speedanewspicks">SPEEDA/を支える価値を生み出す技術の選定手法</a>」を発表してきたのでその内容をもう少し突っ込んで書いてみたいと思います。</p>

<p>今回は、特定の技術や知見のことは全く話さず、何のために技術があるのかという、それ以前の話をしてきました。エンジニアとして、技術を追い求めることはとても大切なことですが、目的を見誤ってしまうと独りよがりになる可能性もありますし、変な方向に技術が伸びてしまいます。</p>

<p>僕は、多くの人に使われたり影響を与える、末永い良い製品・技術を生み出すには、目的はなんなのか見極めることが重要だと思っています。製品であればその価値が生み出す世界を想像し、技術であれば問題の本質とは何なのかを探求することです。</p>

<p>発表の後、社外の人何人かからフィードバックをもらい、とても心に響いたという人や、是非資料を社内で展開させてもらいたいという話ももらいましたが、そんなの当たり前だよという人や、そんなことどうでもよいという人も多いんじゃないかと考えながら発表資料を作っていました。ただ、僕自身そしてユーザベースがとても大切にしていることなので話をさせてもらいました。</p>

<p>ブログにも全内容を書きたかったのですが、前半の価値の話はブログ向きではない気がしたので後半の技術の話について書こうと思います。前半の話は、興味があれば<a href="http://www.slideshare.net/chimerast/speedanewspicks">スライド</a>を見てください。</p>

<h2>対象読者</h2>

<ul>
<li>プログラミングを学び始めたばかりの人</li>
<li>情報科学をあまり勉強したことがない人</li>
<li>新しい技術スゲーって言ってる人</li>
</ul>


<h2>tl;dr</h2>

<ul>
<li>製品を考えるのも技術を勉強するのもその目的を見極めるのがとても大事だよ

<ul>
<li>その技術が解決しようとする問題を先に考えることで技術の理解が早くなるよ</li>
<li>複数の技術を組み合わせると具合がとても良いよ</li>
<li>色んな分野の技術を沢山見ると新しい技術の理解が早くなるよ</li>
</ul>
</li>
</ul>


<h2>よりよい価値を早く届けるために正しく技術を使う</h2>

<p>技術とはなにかについて考えるとき、「よりよい価値を早く届けるために正しく技術を使う」と考えることが僕にとってはしっくりきます。特に「正しく技術を使う」というところはいつも気にしています。</p>

<p>技術は正しい使い方をしなかったり、的外れな技術を新たに生み出しても、なにかしらモノが出来てしまうことがあります。ただ、その状態で「よりよい価値を早く届ける」という点を達成していることはまれだと思っています。</p>

<p>また、手段が目的になってしまっているのを見ると非常に残念に思います。正しい価値を早く届けるためにアジャイル手法を使うのは賛成ですが、その手法に固執しすぎてその目的がないがしろにされている例をたまに見ます。必要であればウォーターフォール気味にやるくらいの気持ちでゆるくやった方が良いと考えています。正直、サービスの基盤の設計からアジャイルでやるのはなんかおかしいと思っていて、経験上、基盤を始めにかっちり設計して作っておいたほうが、上でアジャイルやらスクラムっぽいものがくるくる綺麗にまわる気がしています。</p>

<p>正しい技術の話をするにあたって、先に新しい技術の事に少し触れます。</p>

<h3>技術パラダイム「アタラシイギジュツ」に惑わされない</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150227/20150227200112.png" alt="f:id:chimerast:20150227200112p:plain" title="f:id:chimerast:20150227200112p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ネットを見ていたり勉強会に出て話を聞いていたりすると、常に新しい技術の話が出てきます。どこそこのサービスはこの新しい技術を使っていてすごい、みたいな話がわさわさ出てきます。</p>

<p>ただ、ここで気をつける必要があるのは、「新しい技術」だからそのサービスが多くの人に使われている(売れている)のとは違うということをちゃんと認識するべきです。「新しい技術」が「新しい価値」を生み出した結果、ユーザが増えます。「新しい価値」が間に挟まらなければユーザは増えません。</p>

<p>新しい技術だからという理由だけですぐ飛びついて使い始めてしまうのは、一番やってはダメなことです。新しい技術なんて次々と出てきます。</p>

<h3>「アタラシイギジュツ」と正しく向き合うために</h3>

<p>新しい技術と正しく向き合うためには、それがなんなのかということを考えるのが一番良いです。</p>

<p>よく言われることですが、情報技術はパラダイムを行ったり来たりしながら発展してきた歴史があります。パラダイムとまでは言わないまでも小さな流行についても行ったり来たりしながら発展していきます。</p>

<p>例えば、コンピュータの歴史は、分散と集約の歴史です。トランジスタ(真空管?)に始まり、現在のクラウドによる集約まで、分散と集約を何度も繰り返しています。</p>

<p>ここで重要なのは、それぞれの分散フェーズ、集約フェーズでは同じような考え方に基づいた技術が使われたり生まれてたりしていることです。分散フェーズだったら前の分散フェーズのことが、集約フェーズだったら前の集約フェーズの考え方がある程度通用します。</p>

<h3>情報技術の世界では歴史がよく繰り返す</h3>

<p>情報技術の世界では、よく歴史が繰り返されます(自分もまだ30代のペーペーなので歴史を話すのもなんですが)。歴史を繰り返しながら、前の歴史よりは少しずつ良くなっていきます。</p>

<p>新しい言語が生まれると別の言語での考え方が持ち込まれて同じようなものが構築されたり、新しいOSが生まれると別の似たOSの考え方が持ち込まれたりします。新しいプラットフォームが生まれると似たような周辺技術が周りに次々立ちます。</p>

<p>最近のiOSやAndroidで話題になる技術や手法を見ていると、なんか十数年前にWindowsで見たなというモノがあったり、最近話題のJavascriptのフロントエンド技術も数年前にJavaやRubyで見たことあったりよくします。IoTの話なんかも一昔前にユビキタスの人たちが言っていたことが多かったり、Dockerなんかもその基礎のコンテナ技術は元をたどれば、1980年代のchroot jailで、何度かVPSやなんやらを経た結果だったりします。Deep Learningも...。挙げればきりが無いです。</p>

<p>とにかくこの情報技術の世界は、再発見がとても多いです。ある技術が他の技術の流行・発展によって再発見が起きたり、ハードウェア性能の向上によって再発見が起きたりします。アカデミックの世界のモノが、周回遅れで現場に降りてきて流行が起きるという事もあります。</p>

<h3>技術スパイラルに向き合う</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150228/20150228233759.png" alt="f:id:chimerast:20150228233759p:plain" title="f:id:chimerast:20150228233759p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>技術はスパイラル状に発展していくととらえることが出来ます。スパイラルといっても、進行方向の技術の飛びは大きいけど、隣り合う線の飛び幅は小さいスパイラルです。かつ、重要なのは、ある分野のスパイラルに出てくるパラダイム(流行)系統の数はそんなに多くないことです。</p>

<p>技術スパイラルの進み方は、隣り合う線(同系統のパラダイム)から最も影響を受け、時間軸で直近の別系統のパラダイムからも影響を受けます。</p>

<p>歴史をよく知らない新しく情報技術に触れ始めた人が、パラダイムの移動を経験すると、なんか全然違う新しい概念が出てきたように見えてしまうことがあるのですが、進行方向の飛びが大きいだけで、過去を見ると大体その基となる技術があります。そして、その基となる技術からの差分はそんなに大きく無いです。</p>

<p>また、誰も見たり聞いたことも無いような技術がスパイラル上にいきなり出てくることはないです。必ず何かの考え方をベースにしており、全然別の学問で確立されている技術や事実が元になっていることも多いです(情報科学の分野のアルゴリズムには自然科学から入ってきたものもちらほらありますね。将棋ソフトのBonanzaなんかも面白い例だと思います)。</p>

<p>誰も見たことも聞いたこともない新しい技術は、基本詐欺かダメな技術です。</p>

<h3>技術を正しく使う・作る</h3>

<p>新しい技術というものの正体についてみたところで、技術を正しく使うとはどういうことなのか考えてみます。</p>

<p>技術は、世の中になにかしらの問題がありそれを解決する為に生まれます。逆に技術が解決しようとしている問題を知ることが出来れば、その技術が何をするものためのものなのかすんなり理解することが出来ます。</p>

<p>この関係を認識することで、自分自身が問題に直面したときに、どの技術を選択すれば良いかの基準ができます。</p>

<p>新しい技術も何か特定の問題があって生まれてくるもので、新しい技術が過去の全ての問題を解決してくれると考えるのは、一番間違った考え方です。</p>

<h3>技術に無理させない</h3>

<p>技術は基本的に特定の問題に対する解決策として生まれます。逆にその問題以外を解くのには適していない事が多いです。</p>

<p>技術は特化されたものであるほど、対象がはまれば、より良く早く問題を解決することが出来ます。そのかわりに、他の問題に適用しづらくなります。ここを勘違いして、この問題がとても早く解けたのだから、他の問題も早く解けるだろうと考えてしまうのは間違いです。</p>

<p>例えば、世の中には汎用言語と半特化型言語(DSLまではいかないやつ)があります。</p>

<p>Javaは汎用言語で、どんな問題も無難に解決し、それなりに高速に動作しますが、対象によっては他の言語で書く方が簡潔に書けたり、速度が速かったりします。</p>

<p>PHP(Hypertext Preprocessor)は汎用言語の皮を被った半特化型言語です。HTML(Hypertext Markup Language)を出力することを主目的とする言語です。ちょっとした動的なHTMLを吐き出すことなら、PHPはとても正しい選択肢です。正直、実際にのWeb版を始めに作るときにRESTful APIを叩くだけのフロントとしてPHPを使うことを僕は提案していました（外部に協力を依頼しやすいとか、デザイナと連携しやすいとかといった理由もあります）。他のエンジニアに全力で拒否されましたが。</p>

<p>ただ、多くの人がご存じの通り、PHPで大きなシステムを作ったりするのは大変です。HTMLと全然関係無いバッチを書いたりするのは狂気の沙汰だと思っています。これはPHPがHTMLに対する半特化型言語であることを考えれば当たり前のことです。</p>

<h3>技術を組み合わせることを覚える</h3>

<p>作るシステムを複数の問題に正しく分割し、それぞれの問題に対して得意な技術を割り当ると、非常に高速に開発することが出来ます。作らなければならない部分も減るので、生み出すバグも少なくなります。</p>

<p>例えば、プログラムを書いて作るものが難しいものでも、インフラの技術で簡単に解決ができるものが多々あります。RDBMSが無い、データ管理を自分で書かなければならない世界を考えてください。RDBMSは一番わかりやすい技術を組み合わせる例です。</p>

<p>また、機械学習系のライブラリはPythonがとても充実しています。それだったら、機械学習の部分はPythonで書いてJavaなりRubyから呼び出す形にすれば良いと思います。全部一つの言語でやる必要は無いです。</p>

<p>複数の技術を使うことでその学習コストはどうするんだという話を良く聞かれますが、正しく切り出された問題に正しい技術を割り当てれば、それを解決するために必要な学習コストは非常に低いです。技術のチュートリアルを読んでこれはすごいと思うことが良くあると思いますが、その感覚です。</p>

<p>逆に、適していない問題を解決する方法を学習しようとするとコストが跳ね上がります。そもそもその技術が想定していない問題を解こうとした場合です。例えば、トランザクションが必要な問題をNoSQLと呼ばれるデータベースで考えようとするととたんに難しくなります。</p>

<h3>たくさんの違う分野の技術を知ろう</h3>

<p>技術を組み合わせるためには、複数の技術のことを知り、それぞれの得意な問題を理解する必要があります。</p>

<p>一から自分の知らない技術を知ることは非常に大変に見えるかもしれませんが、先ほどの技術スパイラルの話の通り、それぞれの技術は何らかの関係があります。基礎の部分をちゃんと押さえておけば、差分を意識すると実はそんなに学習するのは大変ではありません。ある一つの言語をそれなりに極めていれば、他の言語に移るときは低いコストで移れますよね。</p>

<p>重要なのは基礎の部分をちゃんと押さえることです。それについては先ほどの通り、解決しようとしている問題を認識することが近道です。</p>

<p>また、同じような問題を解決しようとしている技術をたくさん知ってもあまり意味はありません。たいてい同じような解決法が返ってきます。もし、手続き型言語を勉強したなら、その後は関数型言語、論理型言語、もしくはDSLの作り方等、全然違う系統の言語を学ぶべきです。言語から離れてインフラの知識を身につけるのも良いかもしれません。分散処理向けの言語の考え方が身につくかもしれません。なんにせよそこで得た知識や考え方は元の手続き型言語に戻ったときにも無駄になることなく生きてきます。</p>

<p>上でも少し触れましたが、一つの分野のスパイラルに出てくる押さえておくべき技術パラダイム系統の本数は少ないです。10もあれば多い方だと思います。効率よく学ぶとそんなに苦もなくそれっぽく身につく気がします。くどいようですが、同じ系統の技術を学んでも知識の幅は広がりません。また、ざっと俯瞰する場合は深く調べ始めると泥沼にはまるので、解決しようとしている問題とその解決方法の組み合わせがわかったら次に行った方が良いかもしれません。細かい所については、基礎さえ押さえておけば類推出来ます。実際に使うときに深く調べたのでも遅くないです。</p>

<h3>技術を多く知るということ</h3>

<p>技術は多くの種類を知れば知るほど、新しいものを学習するコストがどんどん下がっていきます。スパイラルの話で書いたとおり、基本的に情報技術は組み合わせとほんの少しの差分で生まれます。ある程度知ると、この技術はあれと、これと、それから影響を受けているんだなとわかるようになります。新しい技術が出てきてもあまりビックリしなくなります。</p>

<p>また、逆を考えると、多くの種類を知れば知るほど新しい技術も生み出しやすくなります。何か問題にぶち当たったときに、技術を組み合わせて新しい解決方法を生み出すというのは良くあることです。</p>

<h2>まとめ</h2>

<p>ユーザベースでは、「ユーザの理想から始める」というルールがあります。これは、ユーザに届ける価値を考えるのが先、ただ、それを考えることで良い技術が育つ、という思いも込められています。目的を考えることで、それにふさわしい広く使われる正しい技術が生まれると考えています。</p>

<p>技術チームでは、新しいものを作るときには使ったことのない技術を使うことを推奨しています。新しい考え方に触れることで、視野が広がります。</p>

<p>ただし、<strong>使う技術が問題を解くのにふさわしいか</strong>必ず考えるという条件をつけています。新しい技術でなんか流行っているからという理由だけで、的外れな対象に対して技術を適用すると全力で叩きます。マサカリ投げます。</p>

<p>ユーザベースでは、正しく「技術」を使い、創り、「価値」を高速に創造し届けることを心がけています。</p>

guid : hatenablog://entry/8454420450085253438
enclosure : 
title : Apache Wicketのイベントシステム徹底活用（実用サンプルもあるよ）
link : http://tech.uzabase.com/entry/2015/02/18/180705
description : <p>SPEEDAの開発してます矢野です。社外から参画してます。SPEEDAを書いてないときは、最近はClojureを書いています。</p>

<p>SPEEDAではApache Wicketを使っています。バージョンも順調に挙げられているので、Wicket 5から導入されたイベントシステムも、最近はかなり活用しています。イベントシステムについてはドキュメントも少なく活用方法がよくわからない、という話もあるようなので、活用方法を紹介します。</p>

<h1>まずは手始めに</h1>

<p>Wicketのあらゆるコンポーネント（つまり、Componentのサブクラス）は、イベントの送信者と受信者になることができます。
イベントの送信には、Component#send を使います。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">public</span> <span class="synType">final</span> &lt;T&gt; <span class="synType">void</span> send(IEventSink sink,
                           Broadcast type,
                           T payload)
</pre>


<p>どのコンポーネントに対してsend()を呼び出すかは、実は重要ではありません。重要なのは、引数のsinkです。イベントは、このsinkに対して送信されます。
そしてpayloadが、送信されるオブジェクトです。「イベント」と呼んで良いかと思いますが、実際にはなんでも、どんなオブジェクトでも送信できます。</p>

<p>そして、イベントを受け取ったsinkを起点にして、typeで指定した方法で、イベントがコンポーネントツリーに伝播します。</p>

<ul>
<li>Broadcast.BREADTH  幅優先</li>
<li>Broadcast.DEPTH 深さ優先</li>
<li>Broadcast.BUBBLE  遡り</li>
<li>Broadcast.EXACT 特定sink限定</li>
</ul>


<p>詳しい解説はBroadcastクラスのJavadocに書かれているのですが、英語が苦手でも、ちゃんと数値でどの順序にイベントが伝播するか書かれているので、わかりやすいと思います。</p>

<p><a href="http://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/event/Broadcast.html#BREADTH">Broadcast</a></p>

<p>一番多く使うのは、コンポーネントをsinkとしてイベントを送ると、自分自身と、そのすべての子コンポーネントに、幅優先でイベントを伝播させるBREADTHでしょう。というか、ほとんどこれしか使わないように思います。特別に深さ優先が必要だったり(DEPTH)、そもそも伝播して欲しくなかったり(EXACT)するシーンだけ変えるくらい。</p>

<p>さて、イベントが伝播する途中にいるコンポーネントはすべて、伝播していくイベントを補足できます。そのためには、Componentの <code>onEvent</code> をオーバーライドします。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">public</span> <span class="synType">void</span> onEvent(IEvent&lt;?&gt; event)
</pre>


<p><code>IEvent#getPayload()</code>を使って、sendに渡したpayloadオブジェクトを取得できます。あとは、このpayloadが、処理したいオブジェクトかどうかチェックして、そうであれば処理すればいいし、そうでなければ単に捨てればいいのです。いずれにせよ、イベントは次のコンポーネントに伝播します。</p>

<h2>問題</h2>

<p>ところが、この<code>onEvent</code>が実にダサい。payloadオブジェクトの種類によって地道にチェックするしかないので、結局、次のようなコードになってしまいます。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">@Override</span>
<span class="synType">public</span> <span class="synType">void</span> onEvent(IEvent&lt;?&gt; event) {
    Object payload = event.getPayload();
    <span class="synStatement">if</span> (payload <span class="synStatement">instanceof</span> MyEvent) {
        MyEvent myEvent = ((MyEvent) payload);
        <span class="synComment">// なにかmyEventを使ったすごいCoolな処理</span>
    }
}
</pre>


<p>instanceOfでクラスチェックして、キャストして…ダサさのオンパレードで大変です。でもWicketのデフォルトのイベント補足システムは、この<code>onEvent</code>しかありません！</p>

<p>ところで、イベントの送信側も受信側も自分で書いたプログラムであれば、他からイベントが来ることもないし、どのイベントpayloadかも把握できているわけですから、チェックせずにすぐにキャストしても良さそうに思えます。この戦術はうまくいきません。WicketのイベントシステムはWicketフレームワーク内部でも使われていて、各コンポーネントは、フレームワークが送信するイベントを受け取っています。それらと区別するためにも、必ずpayloadの種類をチェックする必要があります。</p>

<h2>ならば書けばよいのだ</h2>

<p>さすがにいろんなところに、こんなinstanceofとか書いてられません。
幸い、Wicketにはイベント補足システムを拡張する仕組みがあります。<code>IEventDispatcher</code>というインタフェースがその役目を担います。このインタフェースには、次のようなメソッドが一つだけ定義されています。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">void</span> dispatchEvent(Object sink,
                   IEvent&lt;?&gt; event,
                   Component component)
</pre>


<p>次のように、IEventDispatcherを実装したインスタンスをApplicationのFrameworkSettingsに追加することで、イベントがコンポーネントに届いた時に、どのようにして、どんなメソッドを呼び出すのかを細く制御できます。</p>

<pre class="code lang-java" data-lang="java" data-unlink>getFrameworkSettings().add(<span class="synStatement">new</span> MyGreatEventDispatcher());
</pre>


<p>SPEEDAでは、この機能を利用して、次のようなイベント補足メソッドをサポートしています。</p>

<ul>
<li>アノテーションを指定することで、どんな名前のメソッドであれイベント補足メソッドになれる</li>
<li>イベント補足メソッドは一つのクラスにいくつでも書くことができる</li>
<li>イベント補足メソッドはprivateメソッドでも良い</li>
<li>イベントディスパッチャは、イベント補足メソッドの引数の型を見て、送信されたpayloadの型が引数と合致するときに、そのメソッドを呼び出す</li>
<li>イベントディスパッチャは、どのクラスがどのようなイベント補足メソッドを持っているか、記憶する</li>
</ul>


<p>この独自のIEventDispatcher実装によって、SPEEDAでは、次のようにイベント補足メソッドを気軽に設定できています。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">@EventHandler</span>
<span class="synType">public</span> <span class="synType">void</span> onConditionChanged(CriteriaChanged event) {
    AjaxRequestTarget target = event.getTarget();
    target.appendJavaScript(<span class="synConstant">&quot;showOverlay()&quot;</span>);
}
</pre>


<p><code>@EventHandler</code>アノテーションをつけることで、イベント補足メソッドを作ることができます。上記のメソッドは、イベントpayloadがCriteriaChangedだったときに呼び出されます。もう、ダサいinstanceofやキャストとはおさらばです。そのようなチェックはイベントディスパッチャが肩代わりして、すでに解決済みキャスト済みのオブジェクトが引数に渡されるのです。</p>

<h2>配布してます</h2>

<p>このイベントディスパッチャは、私が個人で作って使って公開していたものを、少々改造して使い回しているもので、Apache Licenseでもともと公開されていました。今回、新たにgistに公開したので、欲しい方はご自由に活用ください。ファイルは二つだけです。</p>

<ul>
<li><a href="https://gist.github.com/tyano/d953c2e27bb97b0c9d97">AnnotationEventDispatcher.java</a></li>
<li><a href="https://gist.github.com/tyano/7c2f5a216b23224fff1a">EventHandler.java</a></li>
</ul>


<h2>コンポーネントの疎結合とクラス定義のコツ</h2>

<p>Wicketはもともと、HTTPの上でありながら、仮想的なオブジェクト指向環境を作り出すことで、デスクトップアプリケーションのようにウェブアプリケーションを開発できるのがウリです。独特のコンポーネントのパッケージ技術により、コンポーネントはCSSやJavaScriptとともに「ひとまとまりとして」配布できました。</p>

<p>ただ、コンポーネントに発生する事象（イベント）をコンポーネントユーザに伝える手段にかけていて、習慣的には、<code>onSelected</code> といった、頭にonをつけたabstractメソッドを定義し、ユーザにオーバーライドしてもらうことで、ユーザに制御を移していました。いわば、ここだけは他のクラスと密結合しているのです。</p>

<p>Wicket 5によってイベントシステムが導入されて以降、実は、コンポーネントは「クラス」「HTML」「CSS」「Javascript」に加え「イベントクラス」とパッケージ化して配布することができるようになりました！例えばダイアログを閉じた時、ユーザが項目を選んだ時などなど、そのための（オーバーライド可能）メソッドを書く代わりに、専用のpayloadを送信すればいいのです。何をしたらどのようなpayloadが送信されるかをクラスの冒頭のJavadocコメント部に書いておけば、コンポーネントは外部と独立して存在することができます。つまり、疎結合です。コンポーネント利用側は、イベントハンドラを書くことで、コンポーネントの更新を受け取ることができます。</p>

<p>このような関係を実現するためには、ちょっとしたコツがあります。ノウハウあるいは定石のようなものです。</p>

<h4>コンポーネントは外部からsinkを指定できるべき</h4>

<p>コンポーネント内部で何か起こりイベントpayloadを送信するとき、どのsinkに送信するかが問題になります。これは、コンポーネント利用側が指定できるのが理想的です。コンストラクタ引数としてsinkを受け取れるのがよいと思いますが、setterメソッドでもよいでしょう。</p>

<h4>sinkが指定されてない場合はページをsinkとする</h4>

<p>sinkを指定しないのもユーザの自由です。しかしsend()の呼び出しを行うにはsinkが必要です。この場合、コンポーネントの所属するページ（getPage()で取得できます）に対して、Broadcast.BREADTHでpayloadを送信するのが良いでしょう。こうすれば、ページ上の全コンポーネントに対してpayloadが伝播します。
もちろん、sinkを指定すれば伝播の範囲が狭まるので、ページ全体に伝播させるよりパフォーマンス的に有利です。どちらを選ぶかはユーザに選ばせるべきです。</p>

<h4>コンポーネントがどのようなpayloadをいつ送信するかはドキュメント化すべき</h4>

<p>payloadの種類と送信タイミングは、各メソッドに書くより、クラスのJavadocコメント部にまとめておく方が、見やすいですし更新も楽です。</p>

<p>これらのプラクティスに沿えば、コンポーネントを疎結合にすることができます。onClickのようなメソッドを定義するのではなく、イベントpayloadの送信を行うことの利点は、受け取る側は「どこでも受け取れる」ということです。たとえばページ上の、４段くらい重なったところにあるパネルにあるボタンを押すと、ページのすぐ上に乗っているコンポーネントが合わせて変化する、という場合、onXXXXといったabstractメソッドでは、どうやってページのすぐ上にあるコンポーネントまで伝えるかわかりません。イベントなら簡単です。ページにイベントハンドラとなるメソッドを書けば済むのですから。</p>

<p>ただし、このようにイベントハンドラを多用すると、ある操作をした時にどこのメソッドが呼び出されるのかわかりにくくなる欠点があります。その面でも、この記事で紹介したAnnotationEventDispatcherを使うのが有利です。引数となるクラスは各イベント独自のものですから、あとは、IDEでそのイベントを使っているメソッドを探せばいいのです。</p>

<p>Wicketのイベントシステムは日本語の情報がほぼないので、もしかしたら活用してない人が多いかもしれません。しかし、Wicket 5以上を使っているならば、この仕組みを使わない手はありません。活用してください。</p>

guid : hatenablog://entry/8454420450084174029
enclosure : 
title : Dockerコンテナを管理するならKubernetes
link : http://tech.uzabase.com/entry/2015/02/13/180743
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150212/20150212193607.png" alt="f:id:uzabase:20150212193607p:plain" title="f:id:uzabase:20150212193607p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>SPEEDA開発チームの山岸です。</p>

<p>最近注目を集めているDockerですが、ユーザベースでも一部のチームで開発に役立てています。そのDockerのコンテナを管理するための「<a href="http://kubernetes.io/">Kubernetes</a>」というオープンソースのフレームワークがあります。<br/>
今回は社内のLTの内容を基に、Kubernetesについて簡単にご紹介したいと思います。</p>

<h3>Kubernetes とはなにか？</h3>

<p>KubernetesとはGoogleがオープンソースで公開した、Dockerコンテナのオーケストレーション及び管理するためのフレームワークです。 <br/>
Googleがこれまでサービスをコンテナで運用してきた経験を元に作られており、様々なベンダーが支持を表明しています。<br/>
Google Compute Engine、Microsoft Azure、Vagrant、CoreOSなどの様々な環境で使うことができます。</p>

<h3>なぜ Kubernetes か？</h3>

<p>Dockerによって、以下のメリットがもたらされるようになりました。</p>

<p>・信頼性の高いデプロイ<br/>
・ポータビリティ<br/>
・より簡単な構築と管理</p>

<p>これにより、1つのアプリケーションコンポーネントの再配置が容易に行えるようになりました。</p>

<p>しかし、実際の運用では複数のアプリケーションコンポーネントを連携させて、一つのサービスとして提供する必要性が出てきます。特にマイクロサービス的なサービスの構築にはこのようなアプローチが重要となります。</p>

<p>コンテナ同士の連携を行うためには、以下のような解決しなければならない問題が出てきます。</p>

<p>・コンテナ間の通信をどのように行うのか？ <br/>
・ホストが異なる場合のコンテナ間の通信をどのように行うのか？<br/>
・通信先のコンテナが障害により落ちた場合にどう対応するのか？<br/>
・各コンテナへのアクセスをどう分配するのか？</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150212/20150212195621.png" alt="f:id:uzabase:20150212195621p:plain" title="f:id:uzabase:20150212195621p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>こういった問題は、コンテナをクラスタとして統合し、管理することでうまく解決できます。<br/>
それを行ってくれるのが、Kubernetesです。</p>

<h3>Kubernetes でできること</h3>

<p>Kubernetesでできることは大きく分けて3つあります。<br/>
それぞれ簡単にご紹介します。</p>

<h6>①コンテナを簡単に展開できる</h6>

<p>まずはじめに、Kubernetesは<strong>Kubernetes Master</strong>という全体を管理するためのサービスをまとめたノードと、
それによって管理されるコンテナをまとめた<strong>minion</strong>というノードがあります。</p>

<p>Kubernetesでは、minion上にグループ化したコンテナを<strong>Pod</strong>という単位で構築、管理します。<br/>
このPodにより、密結合したコンテナの集合を扱いやすくなります。<br/>
重要な点として、そのコンテナの集合は必ず同一ホスト上に存在しています。そして、同じマシンリソースを共有しています。</p>

<p>YAMLまたはJSONフォーマットでPodの定義を設定ファイルで保存し、Kubernetes Master上のAPIに対してコマンドを実行することでPodを作成、構築することができます。</p>

<p>また、<strong>Label</strong>をコンテナに付けて管理することができます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150210/20150210032530.png" alt="f:id:uzabase:20150210032530p:plain" title="f:id:uzabase:20150210032530p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>このLabelにより、コンテナを種類ごとに分類することでコンテナのグループを抽象化して、デプロイするコンテナを管理しやすくできます。</p>

<h6>②コンテナの状態をチェックできる</h6>

<p><strong>Replication Controller</strong>により指定された数だけPodのReplicaを作成できます。<br/>
また、Replication Controllerはコンテナを死活監視し、障害により落ちた場合に自動起動します。<br/>
この仕組みにより常に指定した数のコンテナが保たれるようになり、Podの並列数を管理することができます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150210/20150210033023.png" alt="f:id:uzabase:20150210033023p:plain" title="f:id:uzabase:20150210033023p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<h6>③コンテナへのアクセスを分配できる</h6>

<p><strong>Services</strong>により、設定したPodにアクセスをラウンドロビンで分配することができます。<br/>
これは複数のコンテナで構成されるロードバランサのようなものです。<br/>
これによりサービスを使う側は特定のIPやポートのみ知っていればよく、コンテナの存在を意識させないようにできます。</p>

<h6>どのように実現しているか</h6>

<p>上記のようなことをどのように実現しているかKubernetesの全体像を示しつつご説明します。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150211/20150211091900.png" alt="f:id:uzabase:20150211091900p:plain" title="f:id:uzabase:20150211091900p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Kubernetesの中心にはetcdという分散Key-Valueストアがおり、各ノード上のサービスがetcdの設定を常に監視しています。<br/>
何か変更が生じた場合には、etcdに対してその内容を書き込みます。そうすると協調して処理を行わなければならない別のノードのサービスがその内容を元に処理を行うといった具合です。<br/>
例えば、Replication Controllerにおけるコンテナの並列数の管理も、この仕組みの上に成り立っています。</p>

<p>詳しい内容は、KubernetesのGithubの<a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/DESIGN.md">Kubernetes Design Overview</a>にまとまっております。</p>

<h3>まとめ</h3>

<p>Googleが長年社内で培ってきたコンテナ運用の経験が活かされていると感じます。<br/>
似たようなことを行えるフレームワークも存在しますが、まだどれも若いステージにいる状況だと思います。<br/>
しかし、今後はDockerなどのコンテナ技術を中心としたサービスの構築が伸びていくと思うので、こういったフレームワークには将来性を感じます。</p>

<p>ユーザベースでは、新しい技術に興味を持ち、共により良いシステムを作っていける仲間を募集しています。
興味を持った方は是非、<a href="https://www.wantedly.com/companies/uzabase-inc">Wantedly</a>をご覧ください。</p>

guid : hatenablog://entry/8454420450083017582
enclosure : 
title : Quick prototyping data visualization in SPEEDA
link : http://tech.uzabase.com/entry/2015/02/09/113059
description : <p>Nice to meet you, my name is Jorge Granado from SPEEDA Tech Team.</p>

<p>At UZABASE we are always trying to find new ways of surprising our clients, and provide them with new analysis tools as well as better data.</p>

<p>Since early 2013 we have been using Machine Learning algorithms for gathering world business news and information (both in English and Japanese), and connecting it to our company database. That way our clients can easily find all related media information whenever they lookup a company profile. Also, since October 2014, we have added M&amp;A information to our existing data and, of course, linked the information with the mentioned database so all our information stays connected.</p>

<p>Currently listed corporation market prices are stored with a date key, and this also goes the same for news as well as M&amp;A deals. Why not create a tool where one can see all events located in a stock market price timeline to study its influence? This time we will implement a quick prototype so the analyst team can evaluate the solution and decide on it.</p>

<p><b>1. Choosing a library for client data display</b></p>

<p>One of my personal mottos for quickly developing prototypes is the famous "<a href="https://en.wikipedia.org/wiki/Reinventing_the_wheel">do not reinvent the wheel</a>" approach. So this time, we will try to find a third party library that:</p>

<ul>
<li>complies with maximum number of the requirements.</li>
<li>can be extended to fulfil all the remaining necessities.</li>
<li>has an affordable cost/performance value.</li>
</ul>


<p>Those requirements are:</p>

<ul>
<li>being able to represent two or more time-related textual (but independent) events over a time-based data series.</li>
<li>being able to display the textual data over the numerical series in a readable manner.</li>
<li>being able to enlarge/reduce the period shown to the user in an intuitive way.</li>
<li>compatible with most of the current browsers as well as old ones.</li>
</ul>


<p>As for the last requirement, when your clients are not responsible for the software they can have in their computers and they are tied to corporate rules, you want to support them as much as possible. Remember, clients first. Yes, unfortunately that means that our website should appear 90% or better even for the old IE6 whenever possible.</p>

<p>Although there are several useful framework/libraries available for combining data and time-organized information, seems like there are not so many options to accomplish most of our requirements in an out-of-the-box manner. Best candidates are:</p>

<p><a href="http://www.highcharts.com/stock/demo/flags-general">Highcharts</a>: really interesting commercial library, with support for old browsers. The annotated timeline present some problems for our project, especially regarding UI such as:</p>

<ul>
<li>event data can only be accessed over the graph, cannot be shown separately.</li>
<li>event flags appear really close to the graph, and that makes them difficult to click and read.</li>
</ul>


<center><p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204205730.png" alt="f:id:uzabase:20150204205730p:plain" title="f:id:uzabase:20150204205730p:plain" class="hatena-fotolife" itemprop="image"></span></p></center>


<p><a href="https://developers.google.com/chart/interactive/docs/gallery/annotationchart">Google Annotation Chart</a>: part of the Google Charts library.</p>

<ul>
<li>can show only one event stream per data graph, although more than one graph can be added to the visualization.</li>
<li>events are shown in a separated table, although only one column can be shown.</li>
<li>events are not html links by default, this has to be extended.</li>
</ul>


<p>Some other interesting libraries are:</p>

<ul>
<li><a href="http://code.shutterstock.com/rickshaw/">Rickshaw</a>: no default annotation support, development is needed. Old browser support not available.</li>
<li><a href="http://c3js.org/samples/grid_x_lines.html">C3</a>: impressive library, but fails same as previous.</li>
<li><a href="http://www.simile-widgets.org/timeplot/">SIMILE widgets</a></li>
<li><a href="http://dygraphs.com/gallery/#g/annotations">Dygraphs</a> although supports annotated timelines, some development would be needed to create an intuitive and friendly visualization.</li>
</ul>


<p>So finally, Google chart has been chosen, at least for this prototype phase.</p>

<p><b>2. Creating a basic data service for first test</b></p>

<p>For the first interaction test we have created a simple JSON format which will be received in the browser to show the data. At this point, we will try to show only news headlines and we will expand the model later.</p>

<p>The JSON format is as follows:</p>

<pre class="code" data-lang="" data-unlink>  {&#34;article_list&#34;: 
    [
      {
        &#34;date&#34;: &#34;YYYY-MM-dd&#34;, 
        &#34;value&#34;: 1234, 
        &#34;headline&#34;: &#34;String with the news headline&#34;
      }, 
      ...
    ]
  }</pre>


<p>This will allow us to quickly interact with the graphic library, check the complexity for using the data and inspect the final results.</p>

<p><b>Note:</b> "value" can be empty or not, depending on that day stock price. "headline" can be empty is there is a stock price for that day, but no news.</p>

<p>At SPEEDA we use <a href="https://wicket.apache.org/">Apache Wicket</a> for the platform development. So in order to create a REST service, we will code a simple <a href="http://wicket.apache.org/guide/guide/resources.html">JSON Resource entity</a> extending AbstractResource. To be able to access the service, the final class that extends from our JSONResource will be mounted in our main application class.</p>

<p><b>Note:</b> resources do not check for user authorization by default, this will have to be implemented in our final resource class in the "getData" method.</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">package</span> com.uzabase.speeda.web.resource;

<span class="synPreProc">import</span> javax.servlet.http.HttpServletResponse;

<span class="synPreProc">import</span> org.apache.wicket.request.Response;
<span class="synPreProc">import</span> org.apache.wicket.request.resource.AbstractResource;
<span class="synPreProc">import</span> org.apache.wicket.request.resource.ContentDisposition;

<span class="synType">public</span> <span class="synType">abstract</span> <span class="synType">class</span> JSONResource <span class="synType">extends</span> AbstractResource {

    <span class="synType">private</span> <span class="synType">static</span> <span class="synType">final</span> <span class="synType">long</span> serialVersionUID = <span class="synConstant">1L</span>;
    <span class="synType">private</span> <span class="synType">final</span> String contentType = <span class="synConstant">&quot;application/json&quot;</span>;

    <span class="synPreProc">@Override</span>
    <span class="synType">protected</span> ResourceResponse newResourceResponse(<span class="synType">final</span> Attributes attributes) {
        <span class="synType">final</span> ResourceResponse response = <span class="synStatement">new</span> ResourceResponse();
        response.setContentType(<span class="synType">this</span>.contentType);
        response.setTextEncoding(<span class="synConstant">&quot;UTF-8&quot;</span>);

        <span class="synType">final</span> String data = getData(attributes);
        <span class="synStatement">if</span> (data == <span class="synConstant">null</span>) {
            response.setError(HttpServletResponse.SC_NOT_FOUND);
        } <span class="synStatement">else</span> {
            Long length = getLength(data);
            <span class="synStatement">if</span> (length != <span class="synConstant">null</span>) {
                response.setContentLength(length);
            }
            <span class="synStatement">if</span> (response.dataNeedsToBeWritten(attributes)) {
                response.setContentDisposition(ContentDisposition.INLINE);
                response.setWriteCallback(<span class="synStatement">new</span> WriteCallback() {
                    <span class="synPreProc">@Override</span>
                    <span class="synType">public</span> <span class="synType">void</span> writeData(<span class="synType">final</span> Attributes attributes) {
                        JSONResource.<span class="synType">this</span>.writeData(attributes.getResponse(), data);
                    }
                });
            }
        }

        <span class="synStatement">return</span> response;
    }

    <span class="synType">protected</span> <span class="synType">abstract</span> String getData(Attributes attributes);

    <span class="synType">protected</span> <span class="synType">void</span> writeData(Response response, String data) {
        response.write(data);
    }

    <span class="synType">protected</span> Long getLength(String data) {
        <span class="synStatement">return</span> (<span class="synType">long</span>) data.length();
    }
}
</pre>


<p><b>3. Data adjustements</b></p>

<p>Ok, let's add some Javascript code to the <a href="https://developers.google.com/chart/interactive/docs/gallery/annotationchart#Example">template at Google site</a> to process our JSON data:</p>

<pre class="code lang-javascript" data-lang="javascript" data-unlink>google.load(<span class="synConstant">'visualization'</span>, <span class="synConstant">'1'</span>, <span class="synIdentifier">{</span><span class="synConstant">'packages'</span>:<span class="synIdentifier">[</span><span class="synConstant">'annotationchart'</span><span class="synIdentifier">]}</span>);
google.setOnLoadCallback(drawChart);
<span class="synIdentifier">var</span> chart = <span class="synStatement">null</span>;
<span class="synIdentifier">function</span> drawChart() <span class="synIdentifier">{</span>
  <span class="synIdentifier">var</span> data = <span class="synStatement">new</span> google.visualization.DataTable();
  data.addColumn(<span class="synConstant">'date'</span>, <span class="synConstant">'Date'</span>);
  data.addColumn(<span class="synConstant">'number'</span>, <span class="synConstant">'Stock value'</span>);
  data.addColumn(<span class="synConstant">'string'</span>, <span class="synConstant">'News title'</span>);

  <span class="synIdentifier">var</span> node, date_parts, date, value, headline;
  <span class="synStatement">for</span> (i = 0 ; i &lt; myJSONObject.article_list.length;i++) <span class="synIdentifier">{</span>
    node = (myJSONObject.article_list<span class="synIdentifier">[</span>i<span class="synIdentifier">]</span>);
    date_parts = node<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>.split(<span class="synConstant">'-'</span>);
    date = <span class="synStatement">new</span> <span class="synType">Date</span>(parseInt(date_parts<span class="synIdentifier">[</span>0<span class="synIdentifier">]</span>), parseInt(date_parts<span class="synIdentifier">[</span>1<span class="synIdentifier">]</span>) -1, parseInt(date_parts<span class="synIdentifier">[</span>2<span class="synIdentifier">]</span>));
    value = node<span class="synIdentifier">[</span><span class="synConstant">&quot;value&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? 0 : parseFloat(node<span class="synIdentifier">[</span><span class="synConstant">&quot;value&quot;</span><span class="synIdentifier">]</span>);
    headline = node<span class="synIdentifier">[</span><span class="synConstant">&quot;headline&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? <span class="synConstant">&quot;&quot;</span> : node<span class="synIdentifier">[</span><span class="synConstant">&quot;headline&quot;</span><span class="synIdentifier">]</span>;

    <span class="synStatement">if</span> (value &gt; 0) <span class="synIdentifier">{</span>
      data.addRows(<span class="synIdentifier">[[</span>date, value, headline<span class="synIdentifier">]]</span>);
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
  chart = <span class="synStatement">new</span> google.visualization.AnnotationChart(<span class="synStatement">document</span>.getElementById(<span class="synConstant">'chart_div'</span>));

  <span class="synIdentifier">var</span> options = <span class="synIdentifier">{</span>
    displayAnnotations: <span class="synConstant">true</span>,
  <span class="synIdentifier">}</span>;
  
  chart.draw(data, options);
  google.visualization.events.addListener(chart, <span class="synConstant">'select'</span>, selectHandler);

<span class="synIdentifier">}</span>
</pre>


<p>Don't forget to add a request in the Javascript code to interact with the server and retrieve the JSON!</p>

<p>And the result...</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204163820.png" alt="f:id:uzabase:20150204163820p:plain" title="f:id:uzabase:20150204163820p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Ooops! Looks like we have to order our event list, otherwise the flags over the timeline look odd...
We can easily order the returned array in the server side</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synIdentifier">...</span>
  JSONArray entryPoints = <span class="synStatement">new</span> JSONArray();
  String[] sortedKeys = annotatedValues.keySet().toArray(<span class="synStatement">new</span> String[<span class="synConstant">0</span>]);
  Arrays.sort(sortedKeys, Collections.reverseOrder());
  <span class="synStatement">for</span> (String entry : sortedKeys) {
      entryPoints.add(annotatedValues.get(entry).asJSON());
  }
  JSONObject response = <span class="synStatement">new</span> JSONObject();
  response.put(<span class="synConstant">&quot;article_list&quot;</span>, entryPoints);

  <span class="synStatement">return</span> response.toString();
</pre>


<p>But this also can be done in the client side and save some memory in the server ;)</p>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> ordered_array = myJSONObject.article_list.sort(<span class="synIdentifier">function</span>(a,b) <span class="synIdentifier">{</span><span class="synStatement">return</span> -1 * a<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>.localeCompare(b<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>)<span class="synIdentifier">}</span>);
</pre>




<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204164653.png" alt="f:id:uzabase:20150204164653p:plain" title="f:id:uzabase:20150204164653p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Much better! :)</p>

<p><b>4. Add deals and extend timeline</b></p>

<p>Now for the remaining part, let's extend the JSON model to support deal data:</p>

<pre class="code" data-lang="" data-unlink>  {&#34;data&#34;: 
    [
      {
        &#34;date&#34;: &#34;YYYY-MM-dd&#34;, 
        &#34;value&#34;: 1234, 
        &#34;news_headline&#34;: &#34;String with the news headline&#34;,
        &#34;news_id&#34;: &#34;String with the article ID&#34;,
        &#34;deal_headline&#34;: &#34;String with the news headline&#34;,
        &#34;deal_id&#34;: &#34;String with the deal ID&#34;
      }, 
      ...
    ]
  }</pre>


<p>and modify the Javascript to process the new data</p>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> data = <span class="synStatement">new</span> google.visualization.DataTable();
data.addColumn(<span class="synConstant">'date'</span>, <span class="synConstant">'Date'</span>);
data.addColumn(<span class="synConstant">'number'</span>, <span class="synConstant">'News'</span>);
data.addColumn(<span class="synConstant">'string'</span>, <span class="synConstant">'News title'</span>);
data.addColumn(<span class="synConstant">'string'</span>, <span class="synConstant">'News headline'</span>);
data.addColumn(<span class="synConstant">'number'</span>, <span class="synConstant">'Deal'</span>);
data.addColumn(<span class="synConstant">'string'</span>, <span class="synConstant">'Deal title'</span>);
data.addColumn(<span class="synConstant">'string'</span>, <span class="synConstant">'Deal headline'</span>);

<span class="synIdentifier">var</span> ordered_array = myJSONObject.article_list.sort(<span class="synIdentifier">function</span>(a,b) <span class="synIdentifier">{</span><span class="synStatement">return</span> -1 * a<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>.localeCompare(b<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>)<span class="synIdentifier">}</span>);
<span class="synIdentifier">var</span> node, date_parts,date, value, headline_news, title_news, headline_deal, title_deal;
<span class="synStatement">for</span> (i = 0 ; i &lt; ordered_array.length;i++) <span class="synIdentifier">{</span>
  node = (ordered_array<span class="synIdentifier">[</span>i<span class="synIdentifier">]</span>);
  date_parts = node<span class="synIdentifier">[</span><span class="synConstant">&quot;date&quot;</span><span class="synIdentifier">]</span>.split(<span class="synConstant">'-'</span>);
  date = <span class="synStatement">new</span> <span class="synType">Date</span>(parseInt(date_parts<span class="synIdentifier">[</span>0<span class="synIdentifier">]</span>), parseInt(date_parts<span class="synIdentifier">[</span>1<span class="synIdentifier">]</span>) -1, parseInt(date_parts<span class="synIdentifier">[</span>2<span class="synIdentifier">]</span>));
  value = node<span class="synIdentifier">[</span><span class="synConstant">&quot;value&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? 0 : parseFloat(node<span class="synIdentifier">[</span><span class="synConstant">&quot;value&quot;</span><span class="synIdentifier">]</span>);
  headline_news = node<span class="synIdentifier">[</span><span class="synConstant">&quot;news_headline&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? <span class="synConstant">&quot;&quot;</span> : node<span class="synIdentifier">[</span><span class="synConstant">&quot;news_headline&quot;</span><span class="synIdentifier">]</span>;
  title_news = node<span class="synIdentifier">[</span><span class="synConstant">&quot;news_headline&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? <span class="synConstant">&quot;&quot;</span> : <span class="synConstant">&quot;News&quot;</span>;
  headline_deal = node<span class="synIdentifier">[</span><span class="synConstant">&quot;deal_headline&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? <span class="synConstant">&quot;&quot;</span> : node<span class="synIdentifier">[</span><span class="synConstant">&quot;deal_headline&quot;</span><span class="synIdentifier">]</span>;
  title_deal = node<span class="synIdentifier">[</span><span class="synConstant">&quot;deal_headline&quot;</span><span class="synIdentifier">]</span> == <span class="synStatement">undefined</span> ? <span class="synConstant">&quot;&quot;</span> : <span class="synConstant">&quot;Deal&quot;</span>;
  
  <span class="synStatement">if</span> (value &gt; 0) <span class="synIdentifier">{</span>
    data.addRows(<span class="synIdentifier">[[</span>date, value, title_news, headline_news, value, title_deal, headline_deal<span class="synIdentifier">]]</span>);
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>
</pre>


<p>What we are doing is adding a new graph over the first one (with the same values) and then attach the deal flags to it. Not the perfect solution, but this way we can see both news (blue) and deals (red). And it is good enough for a prototype.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204170601.png" alt="f:id:uzabase:20150204170601p:plain" title="f:id:uzabase:20150204170601p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Looks like most of our data is somewhat recent. To tell the library to show only the last 6 months at the beginning there is a useful option:</p>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> d = <span class="synStatement">new</span> <span class="synType">Date</span>();
d.setMonth(d.getMonth() - 6);

<span class="synIdentifier">var</span> options = <span class="synIdentifier">{</span>
  displayAnnotations: <span class="synConstant">true</span>,
  zoomStartTime: d
<span class="synIdentifier">}</span>;
</pre>


<p>And then it looks much more useful :)</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204170828.png" alt="f:id:uzabase:20150204170828p:plain" title="f:id:uzabase:20150204170828p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Finally, we put our Javascript code in a blank Wicket page and the prototype is ready to be shown!</p>

<p>There is still some pending job:</p>

<ul>
<li>a market selector (as public companies may appear in more than one stock market).</li>
<li>a data filter (to be able to shown either "news" or "deals", or both).</li>
<li>a function to capture the clicks in the data table and open the article body (using google.visualization.events.addListener).</li>
</ul>


<p>but as a prototype is good enough to be shown at the next department meeting.</p>

<p>＼(＾▽＾*) お疲れ様でした！</p>

guid : hatenablog://entry/8454420450081652058
enclosure : 
title : スタートアップ広報が新規上場するときに気をつけておきたいこと
link : http://tech.uzabase.com/entry/2016/12/08/172316
description : <div>こんにちは、ユーザベースで広報とIRを担当している山田です。2016年10月21日、株式会社ユーザベースは東京証券取引所マザーズに上場しました。</div>
<div> </div>
<div><iframe style="border: none; overflow: hidden;" src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fuzabase%2Fposts%2F1264328823599210&amp;width=500" width="500" height="539" frameborder="0" scrolling="no"></iframe></div>
<div> </div>
<div>上場できたのもこれまで支えていただいた皆さまのおかげです……といった形式ばったことは最小限に留めておいて、上場にあたって広報ノウハウがあまり公開されていなくて本気で困ったので、Tech Blogの場を借りて、今後増えてくると思われる上場準備中の企業の広報担当者さんたち向けに<strong>「スタートアップが新規上場（IPO）する際に広報として気をつけておきたいこと」</strong>をまとめたいと思います。</div>
<div> </div>
<div>なおユーザベースのバックオフィスチームには公認会計士の資格を持つメンバーが、ファームを作れるぐらいの人数いるという幸運もあったため、本記事では財務や会計的な側面には触れません。</div>
<div> </div>
<h3>上場前</h3>
<div> </div>
<div>上場前にできることはそれほどありません。上場承認後に必要になる作業を想像して、それへの情報収集と対策を粛々と進めていきます。</div>
<div> </div>
<div>ユーザベースの場合は以下の作業に主にリソースを割きました。</div>
<div> </div>
<div>
<ul>
<li>目論見書カラーページの制作</li>
<li>IRページの制作</li>
<li>上場当日セレモニーの演出</li>
<li>上場後最初となる決算説明会の準備</li>
</ul>
</div>
<div> </div>
<div>特に目論見書とIRページについては、上場承認後に投資家との接点になる最重要ポイントです。「私たちが何者であるか」を知っていただいて、会社の何を評価して、株式を保有してほしいかというメッセージが伝わるものにしなければなりません。</div>
<div> </div>
<div>会社によって何を知ってほしいかという軸は異なりますが、私たちが伝えたいメッセージは<strong>「経済情報で、世界をかえる」</strong>というミッションです。このミッションとコーポレートカラーである赤、そして大事にしている<strong>「7つのルール」</strong>を前面に推し出すことにしました。​</div>
<div> </div>
<div>
<p><img class="hatena-fotolife" title="f:id:kiyohero:20161207132340p:plain" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiyohero/20161207/20161207132340.png" alt="f:id:kiyohero:20161207132340p:plain" /></p>
<p><img class="hatena-fotolife" title="f:id:kiyohero:20161207132352p:plain" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiyohero/20161207/20161207132352.png" alt="f:id:kiyohero:20161207132352p:plain" /></p>
</div>
<p> </p>
<p>「何を知ってほしいか」は会社によってそれぞれだと思うので、経営陣も交えてしっかり議論した上で、方針を決めるのが良いと思います。</p>
<p> </p>
<h3>上場承認〜上場当日</h3>
<div> </div>
<div>上場承認が下りたら、いよいよ上場に向けたスパートのはじまりです。顧客、社員、投資家など様々なステークホルダーに適切に情報を届ける必要があります。</div>
<div> </div>
<div>まず承認を受けたら、公式情報としてすぐにプレスリリースを出します。ネット上での最速情報としてTDnetのPDFがありますが、テキストベースのフォーマットで自社の情報を発信した方がシェアされやすいと思います。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="東京証券取引所マザーズ市場への新規上場承認に関するお知らせ - 株式会社ユーザベース" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Flisting-aproval%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/listing-aproval/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>上場当日ももちろんプレスリリースを出した方が良いです。上場当日はセレモニー等の準備でばたばたしていますが、場が開く9時より前には公開できていると良いと思います。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="東京証券取引所マザーズ市場上場のお知らせ" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Flisting-information%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/listing-information/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>また同日に、コーポレートサイトのIRページも公開します。（上場日前には公開してはいけません。）</div>
<div> </div>
<div>だいたいのコンテンツは有報などから自動で取得されますが、「株主の皆さまへ」といったコンテンツは自社で用意する必要があります。投資家・株主の方々は事業内容や業績のほかに、社長や従業員のキャラクターも重要視されるので、肩肘張ったものではなくて「らしさ」が出るものが良いと思います。ユーザベースの場合は創業メンバー3人からの『3つの約束』として公開しています。</div>
<div> </div>
<div>
<blockquote>
<div><strong>株主・投資家の皆様へ 3つの約束</strong></div>
<div>
<ol>
<li><strong>「経済情報で、世界をかえる」このビジョンの達成に向けて忠実に行動します。</strong></li>
<li><strong>良い時も悪い時も、正直に話します。</strong></li>
<li><strong>有言実行を積み重ねる事で、信頼を獲得していきます。</strong></li>
</ol>
</div>
</blockquote>
</div>
<div>
<p> </p>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="株主・投資家の皆様へ" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fir%2Ftopmessage%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/ir/topmessage/">www.uzabase.com</a></cite></p>
</div>
<div> </div>
<div>「社員の顔が見えることが重要」というのは、プロピッカーでもあるレオス・キャピタルワークス 藤野英人さんの記事を参考にしました。この分析については自分の感覚とも合致していてすごく納得感がありました。現在進めているコーポレートサイトリニューアルでも、もっと社員の人となりが見えるものにしていく予定です。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="藤野英人さん「投資家は社員の『顔』が見える企業の株を買いたい」 | 広報会議 2014年11月号" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmag.sendenkaigi.com%2Fkouhou%2F201411%2Foffice-pr%2F003567.php" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://mag.sendenkaigi.com/kouhou/201411/office-pr/003567.php">mag.sendenkaigi.com</a></cite></p>
</div>
<div> </div>
<div>ちなみに承認発表日は想定以上のトラフィックが来たため、一時的にサイトにアクセスいただけない状態が発生してしまいました。大変嬉しい悲鳴ではありますが、同時にとても恥ずかしいことでもあるので、サイトがダウンする可能性は最大限排除しておきましょう。</div>
<div> </div>
<h3>上場後</h3>
<div> </div>
<div>上場後はより広報的な技量が求められます。上場に伴って増えるメディアや投資家からの面談依頼、兜倶楽部とのお付き合い、適時開示を含めた投資家とのコミュニケーション等々……。</div>
<div> </div>
<div>変わらずにあるのは「どうコミュニケーションすれば自社のファンになってくれるのか」という視点です。ユーザベースは少し変わったかたちのIRとして、NewsPicksを使った個人投資家向けIR活動を開始しています。</div>
<div> </div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【ユーザベース】最新決算と僕たちのすべて" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1853866%3Fref%3Duser_9317" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1853866?ref=user_9317">newspicks.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="ユーザベース、個人投資家の皆さまに向けたスマホ時代のIRを開始" src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fpress%2Fuzabse-ir-privateinvestors%2F" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/press/uzabse-ir-privateinvestors/">www.uzabase.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【採録】「BtoBとBtoCを持っているのが強み」 ユーザベース個人投資家説明会リポート 前編" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1932305%3Fref%3Duser_291503" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1932305?ref=user_291503">newspicks.com</a></cite></p>
</div>
<div>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【採録】「メディアは上場すべきか」「株主優待にNewsPicks有料オプションを」などに回答 ユーザベース個人投資家説明会 後編" src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1932352%3Fref%3Duser_291503" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1932352?ref=user_291503">newspicks.com</a></cite></p>
</div>
<div> </div>
<div>上場というのは会社が変化する極めて大事なタイミングですが、これを活かして「より強い会社をつくる」きっかけにできると良いなと、上場を経て感じました。この記事がこれから上場される皆さまの参考になれば幸いです。</div>
<div> </div>
<p>（この記事は『<a href="http://www.adventar.org/calendars/1929">広報マーケティング Advent Calendar 2016 - Adventar</a>』の8日目の記事です。広報・マーケティング界隈の方のご参加をお待ちしています！） </p>
guid : hatenablog://entry/10328749687197977231
enclosure : 
title : CI環境 に関する Tips を共有する勉強会「Web Tech Tokyo #2」を開催しました
link : http://tech.uzabase.com/entry/2016/12/05/101546
description : <p>こんにちは。ニューズピックスの大川です。2016年11月14日に、Web系エンジニア同士でTipsを共有しあう交流会 「Web Tech Tokyo」の第2回目をユーザベースで開催しました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fweb-tech-tokyo.connpass.com%2Fevent%2F43773%2F" title="Web Tech Tokyo #2（CI環境 Tips 共有会） (2016/11/14 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://web-tech-tokyo.connpass.com/event/43773/">web-tech-tokyo.connpass.com</a></cite></p>

<p>このイベントでは、参加者全員がWeb系の開発Tipsを発表し、楽しく議論します。</p>

<p>第2回目は <b>CI環境 をテーマ</b>に、日頃困っていることや成果を出したことについて発表し、交流する場にしました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161128/20161128162435.jpg" alt="f:id:horobetsu613:20161128162435j:plain" title="f:id:horobetsu613:20161128162435j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">フリードリンクと軽食を楽しみつつ、和気あいあいと進行します</span></p>

<p><a href="http://tech.uzabase.com/entry/2016/10/28/133638">Web Tech Tkyo #1</a>では12名の方に発表していただき、内容がとてもボリュームのある回でした。</p>

<p>今回はもう少し人数を減らして募集枠を6名とし、「<b>Jenkinsで自動的に画面キャプチャする方法</b>」「<b>テスト文化のない組織にテストを導入した話</b>」など実践的なお話しを発表していただきました。</p>

<p>どの方も熱心に CI環境 に取り組まれているので、かなり収穫が多く密度の高い勉強会になったと思います。シェアいただいたスライドも下記に投稿しておりますので是非ご覧ください。ざっくばらんに話す中で、様々なおもしろい情報を交換するため、その場にいた方が間違いなくおもしろいです！</p>

<p>第3回目は2017年の年明けに開催を予定しております。テーマはまだ決めていませんが、「<b>ユーザー行動ログ解析の実際</b>」や「<b>どの Javascript Framework を選ぶか</b>」のようなテーマで行おうかと考えております。</p>

<p>4〜6名程度の発表者枠に、数名の聴講枠を追加するつもりです。次回もconnpassのページで告知しますので、ご興味のある方は是非ご参加くださいませ！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fweb-tech-tokyo.connpass.com%2F" title="Web Tech Tokyo" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://web-tech-tokyo.connpass.com/">web-tech-tokyo.connpass.com</a></cite></p>

<h5>公開スライド</h5>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_370405" mozallowfullscreen="true" src="//speakerdeck.com/player/fb1579ae2f814609a3183ce52d26fe80" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/feb0223/jenkinsdewebhua-mian-kiyaputiya">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_369510" mozallowfullscreen="true" src="//speakerdeck.com/player/e2f66649a9094d7ea7506d2c8fd98cd8" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/leko/rekasinakai-fa-xian-chang-niutworu-reteciwodao-ru-sitahua">speakerdeck.com</a></cite></p>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/iDvLLUMnVrhafF" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/toshihumianan/gcpci" title="GCPでCI環境を構築する" target="_blank">GCPでCI環境を構築する</a> </strong> from <strong><a target="_blank" href="http://www.slideshare.net/toshihumianan">Toshihumi Anan</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/toshihumianan/gcpci">www.slideshare.net</a></cite></p>

guid : hatenablog://entry/10328749687196383456
enclosure : 
title : Docker に関する Tips を共有する勉強会「Web Tech Tokyo #1」を開催しました
link : http://tech.uzabase.com/entry/2016/10/28/133638
description : <p>こんにちは。ニューズピックスの大川です。先日、<b>WebTechTokyo</b>というイベントの第1回目をユーザベースオフィスで開催しました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweb-tech-tokyo.connpass.com%2Fevent%2F40548%2F" title="Web Tech Tokyo #1（Docker Tips 共有会） (2016/10/12 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://web-tech-tokyo.connpass.com/event/40548/">web-tech-tokyo.connpass.com</a></cite></p>

<p>このイベントでは、参加者全員がWeb系の開発Tipsを発表し、楽しく議論します。</p>

<p>第1回目は Docker をテーマに、日頃困っていることや成果を出したことについて発表し、議論し合う場にしました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161027/20161027102203.jpg" alt="f:id:horobetsu613:20161027102203j:plain" title="f:id:horobetsu613:20161027102203j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">会場の様子</span></p>

<p>全員に発表してもらうのは初の試みだったので、ハードルが高すぎて人が集まらないのではないかと不安でしたが、とてもありがたいことに12名の方に参加していただきました！</p>

<p>イベントの開催については何回も経験がありますが、全員が無遅刻無欠席という素晴らしい状況は初めてでした。時間を無駄にすることもなく、熱量をもって発表・議論できたことがとても嬉しかったです。</p>

<p>みなさんにたくさんの資料を共有いただきましたので、この記事の最後で是非ご覧ください。</p>

<p>他にも、残念ながら非公開ですが、「host machine も registry も jenkins も相次いで disk full になった話」「フロントエンドのエンジニアがひとりで環境構築するまでの話」などなど、たくさんの楽しい発表をしていただきました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/h/horobetsu613/20161027/20161027104632.jpg" alt="f:id:horobetsu613:20161027104632j:plain" title="f:id:horobetsu613:20161027104632j:plain" class="hatena-fotolife" itemprop="image"></span>
<span style="font-size: 80%">ビールと軽食をつまみつつ、穏やかな雰囲気で進行しました</span></p>

<p>今回の反省点としては、</p>

<ul>
<li>みなさん、あまりお酒を飲まないのでソフトドリンクを充実させた方が良かった</li>
<li>ピザ・軽食が少し足りなかった</li>
<li>議論（交流）する時間をもっと取りたかった</li>
</ul>


<p>などがあったなと思っておりますので、これは次回必ず改善します！</p>

<p><b>第2回は 11/14（月）</b> を予定しております。<b>テーマは、「CI環境」</b>です。</p>

<p>すこし範囲が大きいテーマですが、「ビルド」「デプロイ」「テスト」などの自動化に関して、みなさんがどうしているか、何に困っているか、どういうツールを導入しているか、などなどを発表・議論していけたらと思っています。</p>

<p>connpassのページで告知しますので、ご興味のある方は是非ご参加ください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweb-tech-tokyo.connpass.com%2F" title="Web Tech Tokyo" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://web-tech-tokyo.connpass.com/">web-tech-tokyo.connpass.com</a></cite></p>

<h5>公開された資料</h5>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363274" mozallowfullscreen="true" src="//speakerdeck.com/player/15b4797783ce4e1b8823400cf0cd776c" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kotatsu360/docker-with-packer">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_363199" mozallowfullscreen="true" src="//speakerdeck.com/player/5492fd03398548edb3ed0466c9665bb3" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/y13i/alpine-linux-falsesusume">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_363267" mozallowfullscreen="true" src="//speakerdeck.com/player/f381e1707b224583b39239cf152736c2" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/himaoka/sysdigshi-ouze-kontenaziyanakutemo">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363211" mozallowfullscreen="true" src="//speakerdeck.com/player/99f5a025bdb546449c14cf4ae0c4f6ad" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/dtan4/web-tech-tokyo-number-1">speakerdeck.com</a></cite></p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_363130" mozallowfullscreen="true" src="//speakerdeck.com/player/e86eec55af364e4181be00f9881e802d" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/hoshinotsuyoshi/hatutichu-li-tehakowoshi-uhua">speakerdeck.com</a></cite></p>

guid : hatenablog://entry/10328749687191490863
enclosure : 
title : エンジニア向けMeetupイベントレポート　第4回：『大規模サービスを支えるインフラ』
link : http://tech.uzabase.com/entry/2016/07/21/102954
description : <p>こんにちは！SPEEDA Techチームの清水です。<br>
<br>
毎月開催してきたユーザベース Meetupも、ついに第4回を数えました。<br>
回を重ねていくうちにノウハウも溜まってきております。<br></p>

<h3>開催内容：『大規模サービスを支えるインフラ』</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>今回はNewsPicks CTOの杉浦が司会を務めました。
ぜ、ぜんぜん滑ってなんてないんだからね！
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094340.jpg" alt="f:id:kaonash:20160719094340j:plain" title="f:id:kaonash:20160719094340j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>さて、第3回に引き続き、今回も外部からスペシャルゲストをお招きいたしました。<br>
ファッションアプリiQONを開発するVASILYさんのインフラエンジニアを担当している光野さんにご登壇いただきました。<br>
実はVASILYさんは、ユーザベースが入っているビルの下の階にオフィスを構えているというご近所さん。そのご縁もあって時折エンジニア同士の交流をしており、今回も登壇をお願いいたしました。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094402.jpg" alt="f:id:kaonash:20160719094402j:plain" title="f:id:kaonash:20160719094402j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>内容はPackerやChefを活用して開発環境と本番環境を同じVMイメージから一括作成するというもの。自動化素晴らしい。<br>
<iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_350631" mozallowfullscreen="true" src="//speakerdeck.com/player/3f0048e00cb2495ab5920b139bd6547a" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kotatsu360/create-prod-and-dev-vm-image-atst-by-packer">speakerdeck.com</a></cite>
以前、Vasilyさんの他の社員の方のプレゼンを見た時にも感じましたが、みなさんプレゼンがうまい！
<br>
ユーザベースも魅力的なプレゼンが出来るように頑張らねばと刺激をいただきました。<br>
<br>
ユーザベースからも、それぞれSPEEDAとNewsPicksでインフラを担当しているエンジニアが登壇いたしました。<br>
SPEEDAはオンプレ、NewsPicksはAWSを使用しているため、お互い異なるノウハウや悩みがあり、どのように課題を解消しているのかについて発表をしてもらいました。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/fPX8utv3Y1LNWc" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/kw1X4Ypmukv3xe" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p>そしてお決まりのビールとピザで懇親会がスタート！<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160719/20160719094416.jpg" alt="f:id:kaonash:20160719094416j:plain" title="f:id:kaonash:20160719094416j:plain" class="hatena-fotolife" itemprop="image"></span>
懇親会では、いつも様々なバックグラウンドをもつ方と交流を深めることができ、大変有意義な時間となっており、今回も非常に実りある時間となりました。</p>

<h3>今後の予定</h3>

<p>ユーザベースでは定期的にMeetupイベントを開催しています。<br>
次回は調整中ですが、8月下旬に開催をする予定です。<br>
詳細が決まり次第connpassで募集を開始いたしますので、まだ参加をしたことがない方やリピーターの方も、ぜひ遊びに来てください！</p>

guid : hatenablog://entry/6653812171406238951
enclosure : 
title : 子育てと仕事を両立できる、ユーザベースでの働き方とは
link : http://tech.uzabase.com/entry/2016/07/19/121312
description : <p>こんにちは、インフラチームの小林です。</p>

<p>僕は、仕事と子育てを両立させながら働くエンジニアです。本当に両立できるのか、今回はユーザベースでの働き方についてご紹介します。</p>

<p>我が家は夫婦共働きで、5歳と2歳の娘がいます。</p>

<p>妻は今年の4月に復職が決まり、次女にも保育園に通ってもらうことになりました。保育園探しは大変で、やっと決まって安心したのもつかの間、1日目から長時間あずかってもらえるわけではないということに気付きました。</p>

<p>保育園に通うことを慣れてもらうための、「慣らし保育」というものがあったのです。</p>

<p>この期間中、次女のお迎え時間はお昼過ぎ。近くに親族もいないし、妻は復職します。さあどうしよう。悩んだ末、「僕が在宅勤務をする」という選択肢を選びました。育児・家事も分担制にして、朝は僕が家事や洗濯、登園準備を担当し、夜は妻にバトンタッチすることにしたのです。</p>

<h4><b>自由と無責任は違う</b></h4>

<p>僕が在宅勤務という選択をするにあたり、強く印象に残っている代表の梅田の言葉があります。</p>

<p>「仕事だけの人生ってつまらないよね。プライベートも大事にして、仕事とプライベートを高次元でバランスさせて、互いが原動力となり両輪がしっかりとまわっていく。そんな状態が理想だし、それを実現させるために起業したんだ。だから、生産性の向上をひたすら追及し、みんなが高いパフォーマンスを発揮することによって世界一休みが多い会社にしたい。」</p>

<p><iframe src="http://tech.uzabase.com/embed/2015/01/15/102658" title="世界一ハッピーでワクワクする会社を目指して ～SPEEDA, NewsPicksを生んだ企業文化～ - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/01/15/102658">tech.uzabase.com</a></cite></p>

<p>もちろん、在宅勤務は休みではありません。会社という場所にとらわれずに働くという選択肢です。だけど、子育てというプライベートを大切にしながら働きたい、そう思ったときに梅田の言葉が背中を押してくれました。</p>

<p>とはいえ、自分が達成すべき仕事にコミットしなければ、在宅勤務で子育てをするという僕の願いはかないません。きちんと責任を果たしたうえで、望みがかなう。個人的には、この順番を間違えてはいけないと肝に銘じ、在宅勤務でも結果を出すことで、周りも前向きに協力してくれると考えました。</p>

<h4><b>チームメンバーに感謝</b></h4>

<p>エンジニアという職業に就いている方は、「いやいや、そうは言っても顔を合わせて仕事をしないと厳しいときもあるでしょ」と思うでしょう。実際、在宅勤務を始めたときは、まさに佳境でした。スケジュールもタイトで、家にいると作業効率も落ちてしまう。</p>

<p>しかも、僕が在宅勤務になることで、他のメンバーにも仕事の引き継ぎが発生。「これは本当にフェアなのだろうか」という疑問があり、正直、在宅勤務を決めたことへの後ろめたさがありました。</p>

<p>その複雑な胸の内を、勇気をもってチームメンバーに話したんです。すると、反対どころか「ぜひ在宅勤務をしてください」と応援してくれて。本当に感謝の気持ちでいっぱいでした。</p>

<p>今後、子育てをするメンバーが増えてきたとき、僕は「大丈夫！僕もそうやってやってきた！」と伝えたい。みんなが胸を張って子育てに向かえるよう、後押しするのが最低限の恩返しだと思っています。</p>

<h4><b>育児と仕事の葛藤</b></h4>

<p>そうして、僕の在宅勤務が始まり、育児と仕事の両立という貴重な経験を積むなかで、改めて「子育て」と「時間通りに働くこと」のバランスをとることの難しさを実感しました。</p>

<p>娘を送り出した後、仕事に集中できたと思えば、あっという間にお迎えの時間。お迎えに行くと、娘は僕の顔を見るなり号泣するので、つきっきりであやさないといけない。やっと寝かしつけたとしても、一緒に寝落ちしてしまうこともしばしば。仕事に集中できる時間が本当に限られてしまったのです。</p>

<p>育児に「時間」という概念が入ると、急に難易度が上がります。朝のバスの時間、お迎えの時間など、いつも会社で仕事をしていること以外に決められた時間があるのは、想像以上に大変です。</p>

<p>それに、子ども相手に無駄を省いて効率的に動こうとすれば痛い目をみます。特に次女は、自我が芽生えてきた時期なので、着替えなどを手伝おうとすると「自分でやりたい」と大泣きし、予想以上に時間がかかってしまう。だから、決まった時間にすべてをこなすためには、相当な余裕を持った行動が必要でした。</p>

<p>こうした経験から、育児をしながら仕事をするには、かなり時間が限られるということが分かりました。子どもたちがいない時間が唯一仕事に集中できる。でもその前後は、まったく時間が取れない。当然、仕事に集中できる時間以外に対応しないといけない仕事もあるので、なかなか大変です。</p>

<p>もちろん、「もっと仕事をしたい」という気持ちはあります。だけど、僕にとって子育ては同じかそれ以上にやりたいこと。最近では、仕事と家族との時間の切り替えをうまくやることで、メリハリをつけながら働けるようになりました。</p>

<p>何より、ワークライフバランスとは、仕事とプライベートの陣取り合戦ではなく、お互いに補完し合うものなのだということが分かったのは収穫です。</p>

<p>ユーザベースという会社は、自分がコミットした仕事を全うし結果を出せば、働く時間も場所も自由です。出社義務もありません。そのような環境だからこそ、仕事とプライベートを高次元でバランスさせて、互いが原動力となり、仕事と育児という両輪をしっかりとまわすことができたのです。</p>

<p>あのとき、僕が在宅勤務をするという選択をして本当によかった。</p>

<p>人生は一度きりです。仕事もプライベートも両立させてこそ、豊かな人生になるのではないかと思います。最初は大変でしたが、学びも多く、毎日出社しているだけではわからない世界も知りました。だから、少しでも興味を持ってくれたなら、ユーザベースに遊びに来て欲しい。ぜひ一緒に働いてみませんか？</p>

<p>応募に関する詳細はこちら：www.wantedly.com
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F59258" title="世界に通じるビジネス基盤のインフラを支えたい方、募集中！ by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/59258">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/6653812171404145835
enclosure : 
title : エンジニア向けMeetupイベントレポート　第3回：『チームの生産性を向上させる』
link : http://tech.uzabase.com/entry/2016/07/01/131328
description : <p>SPEEDA Techチームの清水です。<br>
<br>
連日のユーザベースMeetupレポート、第3弾です。(連日更新しているのは今まで更新をさぼっていたからですごめんなさい)<br>
第1回、第2回レポートはこちら↓
<iframe src="http://tech.uzabase.com/embed/2016/06/29/024236" title="エンジニア向けMeetupイベントレポート　第1回：『NewsPicks/SPEEDA「高速」成長の秘密』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/29/024236">tech.uzabase.com</a></cite>
<iframe src="http://tech.uzabase.com/embed/2016/06/30/100159" title="エンジニア向けMeetupイベントレポート　第2回：『Java開発最前線』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/30/100159">tech.uzabase.com</a></cite></p>

<h3>開催内容：『チームの生産性を向上させる』</h3>

<p>今回のテーマは「チームの生産性を向上させる」です。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F31833%2F" title="UZABASE Meetup#3 〜チームの生産性を向上させる〜 (2016/06/02 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/31833/">uzabase-meetup.connpass.com</a></cite></p>

<p>第3回では、初の試みとして社外から登壇者をお招きしました。<br>
ライブ共有型スポーツニュースアプリ「Player!」を開発するスタートアップ、ookamiさんよりCTOの中村さんをお招きして、Githubを中心とした「Player!」の開発手法についてお話いただきました。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160624/20160624170647.jpg" alt="f:id:kaonash:20160624170647j:plain" title="f:id:kaonash:20160624170647j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<script async class="speakerdeck-embed" data-id="e40ac595793c416d912c5d2cebae119f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>その他にも弊社エンジニアからユーザベースでのチーム開発の進め方やSlackを用いたChatopsの発表も行い、生産性向上への取り組みについて熱く語ってもらいました。<br>
参加者の方々もいつも以上にたくさんの質問を登壇者に向けて投げかけていたのが印象的でした。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/gVvievLR4IFaSx" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/d76D0f1WLzgtW" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<h3>発表後のお楽しみ</h3>

<p>そして懇親会。
お決まりのピザ&amp;エビスビールです。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160701/20160701130952.jpg" alt="f:id:kaonash:20160701130952j:plain" title="f:id:kaonash:20160701130952j:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
終了後には運営に協力してくれたメンバーで記念撮影。ユーザベースTシャツで統一してみました。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160701/20160701131001.jpg" alt="f:id:kaonash:20160701131001j:plain" title="f:id:kaonash:20160701131001j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>次回告知</h3>

<p>第4回は7月7日の七夕に行います。テーマは「大規模サービスを支えるインフラ」です。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>恵比寿で皆さんとお会いできるのを楽しみにしています！</p>

guid : hatenablog://entry/10328537792370971084
enclosure : 
title : エンジニア向けMeetupイベントレポート　第2回：『Java開発最前線』
link : http://tech.uzabase.com/entry/2016/06/30/100159
description : <p>SPEEDA Techチームの清水です。<br>
<br>
先日レポートいたしましたユーザベースMeetup、第2回目のレポートをお届けします。<br>
第1回レポートはこちら↓
<iframe src="http://tech.uzabase.com/embed/2016/06/29/024236" title="エンジニア向けMeetupイベントレポート　第1回：『NewsPicks/SPEEDA「高速」成長の秘密』 - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2016/06/29/024236">tech.uzabase.com</a></cite></p>

<h3>開催内容：『Java開発最前線』</h3>

<p>第1回目Meetup開催の1ヶ月後、ユーザベースのメイン開発言語であるJavaをテーマとして第2回を開催しました。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F29952%2F" title="Java開発最前線 - UZABASE Meetup#2 (2016/04/28 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/29952/">uzabase-meetup.connpass.com</a></cite></p>

<p>第2回目も大盛況で、前回から応募枠を大幅に増やしたにも関わらず、すぐに満員となりました。ありがとうございます！<br>
ユーザベースでは開発に使用するJavaのバージョンはすべて最新のJava8に更新済みで、その中で最新の機能をどのように活用しているかという点にスポットをあてた発表となりました。<br>
また、もともとRubyをこよなく愛していた弊社エンジニアが、いかにJavaを(も？)愛するようになったかという発表もあり、これもなかなか興味深い内容でした。<br></p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/5Nh2q6rfFcl6o7" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<script async class="speakerdeck-embed" data-id="61841c27732f4659b88cc3f8837a26c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<iframe src="//www.slideshare.net/slideshow/embed_code/key/BOpFRufiWrU2XS" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p>第1回の「ちょっと発表が多すぎて疲れるかも」という反省をいかし、今回から発表枠は基本3つまでというスタイルにしました。<br>
終わった後はピザとビールで乾杯！(そして写真を撮り忘れる・・・)<br>
ご参加頂いた方、ありがとうございました！</p>

<h3>今後の予定</h3>

<p>前回のレポートでもお伝えしましたが、ユーザベースでは定期的にMeetupイベントを開催しています。<br>
次回は7月7日の七夕、「大規模サービスを支えるインフラ」というテーマで開催します！<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite>
6月30日現在、すでに枠は埋まっていますが、まだいけるかも・・・ぜひお気軽に参加ボタンを押してください！</p>

guid : hatenablog://entry/6653812171403193024
enclosure : 
title : エンジニア向けMeetupイベントレポート　第1回：『NewsPicks/SPEEDA「高速」成長の秘密』
link : http://tech.uzabase.com/entry/2016/06/29/024236
description : <p>こんにちは、SPEEDA Techチームで新規機能開発を担当しています清水です。<br>
<br>
ユーザベースでは今、定期的にエンジニア向けにMeetupイベントを開催しています！<br>
3月に開催をした第1回目から、ほぼ月1回のペースで開催しており、すでに開催数は3回を数えています。<br>
<br>
今回はMeetupイベントの目的と、第1回の開催内容をレポートします。<br>
(追って第2回・第3回のレポートもアップしますのでお楽しみに！)
<br></p>

<h3>目的</h3>

<p>弊社では、様々な先進的な取り組みをしているにも関わらず、なかなか「技術の会社」として認識をしてもらえていなかったりします。<br>
なかには「サービスは外注していると思っていました」とおっしゃる方も・・・。<br>
さすがにこれはまずいということで、もっとユーザベースという会社やカルチャー、雰囲気、そして社員のことを知ってもらうため(さらに言えば優秀なエンジニアの採用に繋げるため)、Meetupイベントを企画することになりました。<br></p>

<h3>開催内容：『NewsPicks/SPEEDA「高速」成長の秘密』</h3>

<p>記念すべき第1回目は「高速化」をテーマに開催しました。<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F28036%2F" title="NewsPicks/SPEEDA「高速」成長の秘密 - UZABASE Meetup#1 (2016/03/25 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/28036/">uzabase-meetup.connpass.com</a></cite></p>

<p>正直、「本当にみんな来てくれるんだろうか・・・」と不安でいっぱいでしたが、最終的には参加枠を大幅に上回るお申し込みをいただきました！<br>
第1回ということでユーザベースのチーフテクノロジスト竹内やNewsPicksのCTO(ちょうどこの日就任した)杉浦らが登壇。<br>
「高速化」という幅広いテーマも手伝って、ユーザベースで採用している全文検索エンジンElasticsearchの話から自動テスト、高速開発の話まで、バラエティに富む内容で発表させていただきました。<br>
なかには当時開発中だったNewsPicksの新機能に関する発表もあり、盛りだくさんの内容となりました。</p>

<script async class="speakerdeck-embed" data-id="cdb7490b22af4ff7a369f04bde4900e1" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="f0d9c82bab0d4536808883c13cbcfe37" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="95117b3ac70c457e88ed2f5171655789" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="c7c15e74a2cc4f4d8e84cc224a88a377" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<script async class="speakerdeck-embed" data-id="cbc523f3f74344c39793782272299ed9" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>また、ユーザベースの外部パートナーでありClojureのContributorでもある株式会社シェルフ代表の矢野さんより、『オープンソース開発のすすめ』という内容でLTも行っていただきました！<br>
<span style="font-size: 200%"><a href="https://slideck.io/github.com/tyano/lightning_talks/join_to_open_source.md#/">オープンソース開発のすすめ</a></span></p>

<h3>発表後のお楽しみ</h3>

<p>ユーザベースMeetupでは、発表の後に参加者の皆さんと親睦を深める目的で懇親会を開催しています。<br>
懇親会では、ピザとエビスビール(もちろんお茶もあります)をご用意しています！<br>
こちらは懇親会の様子。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kaonash/20160627/20160627165330.jpg" alt="f:id:kaonash:20160627165330j:plain" title="f:id:kaonash:20160627165330j:plain" class="hatena-fotolife" itemprop="image"></span>
けっこう多めにピザをご用意しているはずなんですが、無くなるのが早い早い・・・現在ピザの増量を検討中です。<br></p>

<h3>今後について</h3>

<p>今後も定期的にMeetupイベントを開催していく予定です。<br>
取り急ぎ、次回は7月7日の七夕、「大規模サービスを支えるインフラ」というテーマで開催します！<br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fuzabase-meetup.connpass.com%2Fevent%2F33709%2F" title="UZABASE Meetup#4 〜大規模サービスを支えるインフラ〜 (2016/07/07 19:30〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://uzabase-meetup.connpass.com/event/33709/">uzabase-meetup.connpass.com</a></cite></p>

<p>今回も(大変ありがたいことに)すでに席が埋まってしまっていますが、直前で一定数キャンセルが出ることを考えると、まだギリギリ入れるはず・・・ぜひふるってご参加ください！</p>

guid : hatenablog://entry/6653812171403112073
enclosure : 
title :  Hinemos5.0.1移行記（その2：保守サービスとエンタープライズオプションを契約） 
link : http://tech.uzabase.com/entry/2016/04/28/121633
description : <p>ユーザベース インフラチームの小林です。</p>

<p>だいぶ時間が空いてしまいましたが、「<a href="http://tech.uzabase.com/entry/2016/03/11/155758">Hinemos5.0.1移行記（その1：理想と現実の葛藤）</a>」の記事から引き続き、Hinemos5.0.1への移行のお話です。</p>

<p><br><br></p>

<h2>前回のおさらい</h2>

<p>Hinemos環境をバージョンアップするために、以下の流れで行うことを考えていました。</p>

<ol>
<li><p>   Hinemos5Managerを新規構築 、動作検証</p></li>
<li><p>   Hinemos3のデータをHinemos5に移行</p></li>
<li><p>   Hinemos3からHinemos5への順次切り替え</p></li>
</ol>


<p>しかし、実際には思っていた通りにいかないことが判りました。</p>

<p>具体的には、3番目の「Hinemos3からHinemos5への順次切り替え」の部分で、以下の問題がでてきたというお話でした。</p>

<ul>
<li><p>Agent用にサポート対象バージョンのOpenJDKを入れるか、OracleJDK1.8を使い続けるか。</p></li>
<li><p>Hinemos3とHinemos5のAgentが同居できるといっても、どちらかのインストールディレクトリを変えないといけない。</p></li>
</ul>


<p><br><br></p>

<h2>救世主が現る</h2>

<p><a href="http://tech.uzabase.com/entry/2016/03/11/155758">前回の記事</a>にも書いてありますが、<A Href="http://atomitech.jp/">アトミテック</A>さんが上記の問題を解決してくれました。<br>
もともと、Hinemos5が出る前から、データ移行の相談を何回かしておりました。
その際に、すごく頼りになりそうだったので<br>
「データ移行＋移行時のトラブルサポート」という形で、今回依頼をいたしました。<br>
結果的にそれが大正解で、本当にいろいろなことをサポートしていただきました。<br>
<br>
特に、OpenJDKを入れるかOracleJDK1.8を使い続けるかという問題を解決するうえで、非常に助かりました。
既存の環境で使用しているOracleJDK1.8を使い続けたかったのですが、これを短時間で動作検証するのは私達には不可能でした。<br>
しかし、快く<A Href="http://atomitech.jp/">アトミテック</A>さんにご対応いただけたおかげで、OracleJDK1.8でもHinemos5.0の動作が一通り問題ないことが判りました。<br>
当然ながら自己責任の上で、弊社環境ではOracleJDK1.8でHinemos5.0のAgentを動かしてます（今のところ不具合はありません）。<br>
<br>
OracleJDK1.8でHinemos5.0のAgentを動かすにあたって、何個か落とし穴がありましたが、そこら辺もご対応をいただいてます（起動shellにJavaのバージョンチェックがあったりなど）。
<br></p>

<h2>移行できたよ！</h2>

<p>問題を踏まえた上で、HinemosのAgentは以下の手順で切り替えることになりました。</p>

<ol>
<li><p>   Hinemos3.1のAgentのインストールディレクトリ変更</p></li>
<li><p>   Hinemos5.0のAgentをOracleJDK1.8で起動</p></li>
<li><p>   Hinemos3.1からHinemos5.0への順次切り替え</p></li>
</ol>


<p><br>
Hinemos3.1のAgentの変更に当たっては、Agentの再起動が入るのでできるだけ既存のジョブに影響が出ないように調整しながら行いました。
Hinemos5.0のAgentは既存のジョブがないので、一括で作業をしました。<br>
ジョブの順次切り替えは、前回書いたように各ジョブネットは簡単な仕組みで連携していたため、一つのジョブネットがうまくいったら、Hinemos3側のスケジュールを無効化、Hinemos5側のスケジュールを有効化しながら、代替1ヶ月くらいかけて切り替えることができました。
<br>
<br>その途中でもいろいろとあったのですが（Nagiosの監視用スクリプトのVerUpや、エラー時のジョブの挙動が変わってた事など）、一つ一つ真摯にご対応いただけたおかげで、非常にスムーズに作業が進みました。
<br></p>

<h2>結果、保守サービスとエンタープライズオプションの契約を結ぶ事に</h2>

<p>おかげで、無事にHinemos5への移行ができたのですが、あまりにも真摯に対応していただいたので、<A Href="http://atomitech.jp/">アトミテック</A>さん経由でHinemosの保守サービスとエンタープライズオプションの契約を結ばせていただきました。<br>
<br>
保守サービスとエンタープライズオプションを契約すると、以下のメリットがあります。</p>

<ul>
<li>修正パッチを提供してもらえる<br>
<span style="color: #1464b3">→今回で言うと、Hinemos5.0.2のリリース前に、Hinemos5.0.1のメモリリークの修正パッチが提供されて、事前にその不具合を解消する事ができました。
</span></li>
<li><p>エンタープライズオプションが使えるようになる</p></li>
<li><p>Hinemosでわからない事を相談できる</p></li>
</ul>


<p>分からない事を相談できるという点が有難く、Hinemosの情報を検索しても出てこないことが多いのですが、何が起きても聞ける環境があると思えるだけで大きな安心感があります。<br>
<br>
個人的に嬉しいのは、エンタープライズオプションを使って、更にHinemosの使える幅が広がりそうなので、いろいろ試していきたいと思ってます。<br>
Hinemosの情報が意外と少ないので、弊社ブログでもHinemosユーザーの皆さんに有益な情報を発信できればと思っています。<br></p>

<p><br></p>

<h2>今回の移行で思った事</h2>

<p>今回移行をしてみてすごく実感したのが、「やはり、あまり一つの製品で凝った仕組みを作らない方が良いな」ということでした。<br>
Hinemosの機能を試したいと言っておきながら矛盾する話ではありますが、うちはHinemosを使いこなしていなかったおかげで、移行に大きな工数がかからずに済んだと思っています。<br>
Hinemosは確かに便利でまだまだ使いこなせる余地があると思っていますし、他の有償版のジョブ監視ツールももっと細かいところができるかもしれません。<br>
この「細かいところ」が肝で、このせいで移行が大規模や製品選定のネックになる事が多い気がしています。<br>
<br>
弊社のジョブの組み方は、最低限のジョブネットを作って、各ジョブネット間はファイル連携という単純な仕組みを用いています。<br>
このファイル連携も、shellでファイル作成とファイル監視をしているので、Hinemosからみたらジョブの実行をしているだけになります。<br>
おかげで、ジョブの切り替えタイミングに余裕を持たせることができたので、私を含めて2～3人程度でも余裕を持って切り替えることができたと思っています。<br>
もし、この組み方がジョブ監視ツールの機能で、全部ジョブの前後関係を組んでいた場合、異なるHinemos間での先行条件はできないので、一括で変更をしないといけない状態でした。<br>
<br>
極端な話をすれば、Hinemosから別製品に載せ替えることもできたと思います（ジョブデータの変換できればですが）。<br>
<br>
そこら辺の自由度は最大限残しておくためにも、あまり凝った機能を使わずに、できるだけ単純な部分を組み合わせるのが良いのではないか、と実感した次第です。<br>
<br>
そうはいっても、便利な機能は使うべきだと思うので、そこら辺を意識しながら、あまり依存しすぎることのないように使っていくことが大事かなと考えています。<br></p>

<h2>今後の要望</h2>

<p>上でいろいろ書きましたが、私自身はHinemosと末永く付き合うつもりでいます。<br>
今後も長くおつきあいする上で、今回の移行で引っかかった以下の点を実現してもらえると、次回（何年後か判りませんが）のHinemosバージョンアップ作業のハードルがだいぶ下がるはずなので是非お願いしたいところです。</p>

<ul>
<li>インストールディレクトリを/opt/hinemos_XXXみたいなバージョンごとに分けてほしい</li>
<li>Agentをインストールするときに、OpenJDKを/opt/hinemos_XXX以下に一緒に入れてほしい</li>
</ul>


<p><br>
<br></p>

<h2>エンタープライズオプションのExp/Imp機能の画面紹介</h2>

<p>簡単に、エンタープライズオプションで使いたかったExp/Impについて紹介します。<br>
このおかげで、ジョブの修正の工数が大幅に縮小されました。<br>
<br>
オプションをインストールすると、こんな感じでメニューが増えます。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202629.png" alt="f:id:manabu-kobayashi:20160420202629p:plain" title="f:id:manabu-kobayashi:20160420202629p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
エクスポート・インポートの設定は、クライアント設定の画面から確認や変更ができます。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202656.png" alt="f:id:manabu-kobayashi:20160420202656p:plain" title="f:id:manabu-kobayashi:20160420202656p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>実際の画面はこんな感じ。ここらへんで、エクスポート・インポート・差分比較ができます。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202707.png" alt="f:id:manabu-kobayashi:20160420202707p:plain" title="f:id:manabu-kobayashi:20160420202707p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>変更用のExcelの画面はこんな感じで、<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202717.png" alt="f:id:manabu-kobayashi:20160420202717p:plain" title="f:id:manabu-kobayashi:20160420202717p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>出力した内容との差分比較は、このようなCSVファイルで出力されて、変更されたところが一目でわかります
（自分の作業が想定通りか一目でわかって便利です）。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160420/20160420202911.png" alt="f:id:manabu-kobayashi:20160420202911p:plain" title="f:id:manabu-kobayashi:20160420202911p:plain" class="hatena-fotolife" itemprop="image"></span></p>

guid : hatenablog://entry/10328537792370893698
enclosure : 
title : NewsPicks：記事をオススメするLINE BOTをつくってみた
link : http://tech.uzabase.com/entry/2016/04/15/140513
description : <p>はじめまして。NewsPicks技術チームの井原です。</p>

<p>チャットボット（Bot）という言葉を聞いたことがあるでしょうか。スマホやWebのメッセンジャー上で動く自動会話ロボットで、4/7にLINEが<a href="https://business.line.me/ja/products/4/introduction">BOT API Trial</a>を公開したことでエンジニア界隈で一躍ホットなトピックとなりました。今週にはFacebookが対応を発表し、NewsPicksでも話題になりました。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fnewspicks.com%2Fnews%2F1496965" title="FacebookがMessengerのチャットボットのプラットフォームを発表" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://newspicks.com/news/1496965">newspicks.com</a></cite></p>

<p>私もBOT API Trialの公開で大喜びしたクチで、さっそく週末と帰宅後の時間でLINE BOTを作ってみました。</p>

<h1>うま</h1>

<p>こちらが作成したBotです。「うま」（NewsPicks非公式Bot）といいます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414174014.png" alt="f:id:ryoju:20160414174014p:plain" title="f:id:ryoju:20160414174014p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ユーザーが知りたいことをうまに伝えると、良さそうなNewsPicksの記事を探してお教えします。記事の内容が気になったら、画像をタップするとページが開きます。</p>

<p>さて、うまがどういうふうにできているのかご説明いたしましょう。</p>

<h1>インフラ環境</h1>

<p>うまはAWSで動いています。EC2（w/ Elastic IP） + ELB + CloudFront + Certificate Manager + Route 53という構成です。Certificate Managerを使うためにバージニア北部のリージョンで動かしています。</p>

<p>LINE BOTを動かすために以下の対応が必要でした。</p>

<ul>
<li><p>LINE BOTのコールバックを受けるためにはSSLが必須で、かつ<a href="http://qiita.com/git6_com/items/008404506836011af33b">証明書を選り好みする</a>ため、Certificate Managerの証明書を使っています。私が所有しているドメインに対して作成した証明書をCloudFrontに紐付けて、さらにCloudFrontのエンドポイントをRoute 53のAレコードで設定しています。ここの設定に苦労したので、キャプチャを貼付しておきます。よかったら参考にしてください。</p>

<ul>
<li>Certificate Manager<br>コールバックURLに使いたいドメインで証明書を作成します。ワイルドカードである必要はありません。<Br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202224.png" alt="f:id:ryoju:20160414202224p:plain:w400" title="f:id:ryoju:20160414202224p:plain:w400" class="hatena-fotolife" style="width:400px" itemprop="image"></span></li>
<li>CloudFront<br>ディストリビューションを作成し、証明書を設定します。CNAMEにもコールバックURLのドメインを設定します。<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202227.png" alt="f:id:ryoju:20160414202227p:plain:w400" title="f:id:ryoju:20160414202227p:plain:w400" class="hatena-fotolife" style="width:400px" itemprop="image"></span></li>
<li>Route 53<br>ドメインのAタグにディストリビューションを設定します。<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414202230.png" alt="f:id:ryoju:20160414202230p:plain:w200" title="f:id:ryoju:20160414202230p:plain:w200" class="hatena-fotolife" style="width:200px" itemprop="image"></span></li>
</ul>
</li>
<li><p>LINE BOTはAPIの呼び出し元のIPアドレスを事前に登録しておく必要があり、固定グローバルIPが必要となります（可変だと突然呼び出しが通らなくなるおそれがある）。そのためにElastic IPをEC2インスタンスに付けています。</p></li>
</ul>


<p>ちなみに、私はさくらのVPSを1台契約しており、最初はそれを使おうとしたのですが、証明書の問題でうまくいきませんでした。仕方なくAWSに環境を作って、開発中のプログラム一式も移したという経緯がありました。おそらくLINE BOT APIのサーバ側でチェックしているのでしょうが、無償で取れるSSL証明書ではこちらの用意したコールバックURLを呼んでくれない（？）ようで、GMO GlobalSignの試用証明書、EcoCertの試用証明書と試したのですが、いずれもうまくいきませんでした。SSL証明書はLINE BOTを作ろうとする趣味プログラマのハードルとなっていて、BOT API Trialの公開から数日は「この証明書なら大丈夫」「これはダメ」みたいな話題が多かったです。</p>

<h1>メッセージの処理と記事推薦</h1>

<p>ユーザーが知りたいことを送信してから、うまが記事を提示するまでの流れは以下のようになっています。</p>

<ol>
<li>形態素解析</li>
<li>特徴語抽出</li>
<li>記事の検索</li>
<li>記事の選択</li>
<li>記事の提示</li>
</ol>


<p>また、大まかなデータのやりとりはこのような形になります。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414213825.png" alt="f:id:ryoju:20160414213825p:plain" title="f:id:ryoju:20160414213825p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>1. 形態素解析</h3>

<p>ユーザーがLINEでうまとのトークを開始し、知りたいことを入力すると、LINEのサーバを経由してコールバックURLへ<a href="https://developers.line.me/bot-api/api-reference#receiving_messages">テキストメッセージ</a>がPOSTされます。テキストメッセージからユーザーの入力した知りたいことを取り出して形態素解析を行い、単語に切り分けます。
形態素解析エンジンにはMeCabとIPA辞書（オフィシャルサイトで配布されているもの）を使っています。</p>

<h3>2. 特徴語抽出</h3>

<p>ユーザーは自然な（口語的な）表現で知りたいことを入力するため、検索の前処理として不要な単語を落としています。ここはバリエーションの考えられる処理ですが、現状では単純に名詞だけを残し、それ以外の品詞はすべて落としています。</p>

<p>ただ、ログを見るとやはり適切ではない分割をされているケースが多いです。NewsPicksが経済ニュースアプリであるためか、企業名等の固有名詞をメッセージに含む場合が多いのですが、分割しすぎているケースが頻繁に見られます。提示するニュースの適切さをあげるには、ここの改善が大事だなという印象があります。企業・業界情報プラットフォームである<a href="https://www.uzabase.com/speeda/">SPEEDA</a>の辞書を使えばもっと良くなるかもしれません。</p>

<h3>3. 記事の検索</h3>

<p>抽出された特徴語を用いてNewsPicksの記事を検索します。ここではNewsPicksの検索機能は使わず、Google検索を使っています。NewsPicksの検索機能は有料会員にだけ開放されている機能なので、誰にでもオープンなGoogle検索にしました。GoogleのWeb検索で上位10件を取得しています。</p>

<h3>4. 記事の選択</h3>

<p>うまは、1つの知りたいことに対して1件だけ記事を提示するため、検索結果の中から提示する記事を選択する必要があります。画像を合わせて提示したいので、検索結果の上位から画像があるかをチェックしていき、画像があるものが見つかればそれを選択しています。</p>

<p>ここも将来的な改善の余地が大きい箇所です。たとえば、検索結果の記事ごとにPick数を取得して重み付けをする、みたいなことはすぐに思いつきます。ただ、やりだすと終わりがありませんし、記事の内容を判定に使うためにはクローリングやページの処理が必要で、レスポンスタイムがそのぶん伸びてしまうこともあり、このような処理としています。</p>

<h3>5. 記事の提示</h3>

<p><a href="https://developers.line.me/bot-api/api-reference#sending_rich_content_message">リッチメッセージ</a>を作ってLINEサーバにPOSTすると、ユーザーに記事が提示されます。</p>

<p>以上の処理がワンセットで、テキストメッセージを受け付けるたびにこれを実行します。</p>

<h1>社内公開</h1>

<p>だいたい動くようになったところで、社内(ニューズピックス/ユーザベース)のSlackでうまを公開しました。けっこう好評で皆に使ってもらえたのですが、やっぱりユーザーの実際の使い方というのは、開発者に様々な気づきやアイディアを与えてくれるものです。以下はNewsPicksのメンバーがSlackにポストしてくれたキャプチャです。</p>

<h3>時間の指定</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204703.jpg" alt="f:id:ryoju:20160414204703j:plain:w250" title="f:id:ryoju:20160414204703j:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204706.png" alt="f:id:ryoju:20160414204706p:plain:w250" title="f:id:ryoju:20160414204706p:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p>いまの処理方法では、時間（記事の公開時刻）をまったく考慮していません。「今日の」「昨日の」のような時間指定のあるメッセージだと、ユーザーの意図を踏まえないイマイチな答えになってしまいます。改善ポイントですね。</p>

<h3>形容詞の使用</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoju/20160414/20160414204734.png" alt="f:id:ryoju:20160414204734p:plain:w250" title="f:id:ryoju:20160414204734p:plain:w250" class="hatena-fotolife" style="width:250px" itemprop="image"></span></p>

<p>現在の処理方式では特徴語抽出で名詞だけを残しており、「盛り上がった」は形容詞なので、検索結果に何ら反映されません。この場合は「ニュース」だけで検索した結果を返すことになっています。</p>

<p>まあ、うまは生まれたばかりだからね……。開発者としてはがんばって賢くしてやりたいものです。</p>

<h1>ソースコード</h1>

<p><a href="https://github.com/ryoju/newspicks_bot">現状のソースコードをGithubに上げた</a>ので、よろしければご覧ください。まだα版くらいの感じなので、ごちゃごちゃ弄っている最中でコメントも皆無と、綺麗とは言いがたいのですが。そのうち整理されてくるはず……たぶん。</p>

<p>実装にはPythonを使っています。フレームワークはDjango(w/ Django REST Framework)です。 どこかで動かしてみる時には、newspicks/settings_line.pyにあなたのLINE BOTのChannel ID, Channel Secret, MIDを記載してください。</p>

guid : hatenablog://entry/10328537792371135866
enclosure : 
title : Slackを全社導入したので、社内向け利用マニュアルを公開してみた
link : http://tech.uzabase.com/entry/2016/03/17/145415
description : <p>はじめまして。ユーザベース Cultureチームの木村です。先月、インターンとして入社し、就職活動と二足の草鞋でやっています。
<br>
<br>
今回、ユーザベース全体として「Slack」の全面導入が決まりました！
これまで、社内でのチャットコミュニケーションはチームごとにLINE・チャットワーク・Skypeを使用し混在していましたが、今後はSlackに統一をしていきます。
<br>
<br>
全社導入時に使用した<span style="color: #F5A2A2">Slackのご紹介</span>と<span style="color: #F5A2A2">簡易マニュアル</span>を公開します。Slackが気になっていた方や初めて知る方に、他のコミュニケーションツールと違う点についてお伝えしたいと思います。
<br>
<br></p>

<h3>What’s Slack？</h3>

<p><br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316161207.png" alt="f:id:uzabase:20160316161207p:plain" title="f:id:uzabase:20160316161207p:plain" class="hatena-fotolife" itemprop="image"></span>>
<br></p>

<blockquote><p>Slack（スラック）は、スチュワート・バターフィールドによって開発された、チームコミュニケーションツール。2013年8月に公開され、公開から24時間以内に8000の顧客にサインアップされた。現在Slackは世界中で急速に普及しており、1日に利用するアクティブユーザー数は125万人で、有料会員が37万人(2015年9月時点)。利用者数は90日ごとに倍増するペースで伸び続けている。</p></blockquote>

<p><u><b>ざっくり言えば、「ビジネス用途のLINE」です。</b></u>
<br>メールで堅苦しくやり取りをするよりも、チャットツールで簡単にコミュニケーションをとる方が、精神的にも楽ですし、効率的ですよね。LINEはプライベートと混同されてしまうし・・というわけで、Slackになりました。
<br>
ですが、チャットワークを始め、数ある企業向けコミュニケーションツールの中から、どうしてSlackが選ばれたのか？
<br>
ということで、以下にSlackを利用する5つのメリットをあげてみました！
<br>
<br></p>

<h4>Slackのイケてる点</h4>

<ol>
<li><b>情報の抽出が簡単＆網羅的</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163128.png" alt="f:id:uzabase:20160316163128p:plain" title="f:id:uzabase:20160316163128p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
検索機能で、チャンネル(LINEのグループチャットの概念)をまたいで、過去ログ全ての検索ができます。
<br>また、ファイルやまとまった文章を投稿するPost機能は、それ自体にコメントをつけることができるので、返答や意見が一か所にまとまりやすいです。Postは複数人での共同編集にも対応しています。
<br>
<br></li>
<li><b>連携できる外部サービスが豊富</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163143.png" alt="f:id:uzabase:20160316163143p:plain" title="f:id:uzabase:20160316163143p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
Slackと言えば拡張性。例えばGmailからメールが来たらSlackに通知され、そのままSlack上で内容の確認ができるなど、あらゆる通知や情報がSlackを見るだけで確認ができるようになります。TwitterやRSS、Google Calendarといった一般的なサービスから、GitHubなどエンジニア向けのサービスまで、幅広く連携することができます。
<br>
<br></li>
<li><b>UIがシンプルでスタイリッシュ</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316170627.png" alt="f:id:uzabase:20160316170627p:plain" title="f:id:uzabase:20160316170627p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
個人的な好みにはなりますが、とにかくお洒落でシンプル。洗練されたUIは、SPEEDAと共通する部分があるように思えます。コミュニケーションツールは毎日使うものですので、やはりごちゃごちゃしたUIよりも、シンプルで分かり易いものの方が捗ります。
<br>
<br></li>
<li><b>各端末用のアプリがある</b>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316162310.jpg" alt="f:id:uzabase:20160316162310j:plain" title="f:id:uzabase:20160316162310j:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
ブラウザ版の他、Mac、Windowsのデスクトップ版、iOS、Androidのアプリ版もあり、いつでもどこでも使うことができます。
<br>
<br></li>
<li><b>各種コードをアップロードできるsnippet機能がある。</b>
<br>
この点が、とりわけエンジニアライクな設計になっています。Tech Blogということで、少し詳しくご説明します。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163202.png" alt="f:id:uzabase:20160316163202p:plain" title="f:id:uzabase:20160316163202p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
左上の入力画面にコードの名前を打ち込み、右上のプルダウンでコードの言語種類を選ぶと、中央のプログラムコードが色付けされたり、自動でインデントがつけられます。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163221.png" alt="f:id:uzabase:20160316163221p:plain" title="f:id:uzabase:20160316163221p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
実際に投稿すると、このように見えます。これまで、他のチャットサービスでコードをベタ貼りしていた時と比べて、かなり見違えると思います。色付け、インデントに加えて行番号も書いてあるため、他のエンジニアとのコミュニケーションもとりやすくなっています。
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163243.png" alt="f:id:uzabase:20160316163243p:plain" title="f:id:uzabase:20160316163243p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
投稿されたSnippetには、Post機能と同じようにコメントを付けられるだけではなく、検索でコードやコメントの中身まで引っかかります！
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163304.png" alt="f:id:uzabase:20160316163304p:plain" title="f:id:uzabase:20160316163304p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
ちなみに、これは「in:helloslack during:2016 helloWorld」と検索しており、『「helloslack」チャンネルの2016年に投稿された中で、helloWorldの文字列が存在する』メッセージもしくはファイルを抽出しています。
<br></li>
</ol>


<h3>How to Slack</h3>

<h4>1.コミュニケーション</h4>

<p>Slackでのコミュニケーション方法は、以下の3通りです。
<br>
・メンバー全体に特定の情報を送信する「チャンネル」
<br>
・個々のメンバーに向けた「ダイレクトメッセージ」
<br>
・特定のメンバーのみが閲覧できる「プライベートグループ」
<br></p>

<h5>1-1.チャンネル</h5>

<p>チャンネルとは、関連する話題を部屋別に分ける機能で、LINEのグループチャットと同じようなものです。ただし、このチャンネルに表示している内容は、Slack全体に共有されるので、チャンネルに参加していない人でも自由に閲覧することが可能です。(チャンネルに参加していないメンバーは、発言することはできません。)
<br>
<br>
【新規チャンネル作成】
<br>
新規チャンネルは「CHANNELS」の「＋ボタン」をクリックして作成をします。お好みのチャンネル名と招待したいメンバー(後からでも追加可能)、チャンネルの説明をいれたら、「Create channel」をクリックしてください。
<br>
 <span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163337.png" alt="f:id:uzabase:20160316163337p:plain" title="f:id:uzabase:20160316163337p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
＋ボタンの左にある「CHANNELS」からは既存のCHANNELを検索することができます。
<br>
<br>
【チャット】
<br>
通常の会話は、チャットツールと同様でテキストを入力し、Enterで送ることができます。編集したい場合には、テキスト入力欄の右に「･･･」がでますので、そこから「Edit message」で編集してください。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163821.png" alt="f:id:uzabase:20160316163821p:plain" title="f:id:uzabase:20160316163821p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
コメントにPinやStarを付けて、後から見やすくすることもできます。
<br>
<br>
【メンション】
<br>
投稿時に、以下のコマンドを入力すると、特定のユーザー名を記載したメッセージが送れるようになります。初期設定では、メンションのみがポップアップ通知されるようになっているため、これを使うことで相手にメッセージが伝わりやすくなります。
<br>
@username → 特定の個人へのメンションは、@を入れて一覧の予測変換より選択出来ます。
<br>
@everyone or @group → チャンネル関係なく、全てのメンバーへのメンション
<br>
@here → オンラインのメンバーへのメンション
<br>
@channel → チャンネルのメンバー全員へのメンション
<br>
<br>
【ファイル共有】
<br>
テキスト入力欄左部の＋ボタンから、「Upload a file」、もしくはドラッグアンドドロップで、テキスト入力エリアに画像やファイルを持ってくると、アップロードが可能です。gif・jpg・png・pdf・textなど、どんなファイルでも送ることができます。
<br>
<br></p>

<h5>1-2.ダイレクトメッセージ</h5>

<p>ダイレクトメッセージは、名前の通り直接連絡のやり取りができます。
一対一の会話なので、他の参加者が内容を確認することはできません。
<br>
 <span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163348.png" alt="f:id:uzabase:20160316163348p:plain" title="f:id:uzabase:20160316163348p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
画面左部「DIRECT MESSAGES」からユーザーの検索ができます。
<br>
<br></p>

<h5>1-3.プライベートグループ</h5>

<p>プライベートグループは、チャンネルとほぼ同じ機能ですが、このチャンネルに書かれた内容は参加メンバーのみに共有され、同じチーム内でも閲覧はできません。クローズドな環境なのでサプライズ等の計画に使えそうです！
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316163925.png" alt="f:id:uzabase:20160316163925p:plain" title="f:id:uzabase:20160316163925p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
通常のチャンネル作成と同様、「CHANNNELS」の「＋ボタン」から作成画面へ
→上部の「Public」タブをクリックすると「Private」となります。
<br>
<br></p>

<h4>2.別アプリとの連携</h4>

<p>【Google Driveとの連携】
Google DriveとSlackを連携しておくと、Google DriveのファイルURLをSlackに貼り付けた際に、Slack上にファイルとして認識される（検索対象になる） ようになります。スプレッドシートなどを頻繁に触る方は設定しておくと、Slack内から検索できたり、直にファイルが開けたりしてとても便利になります。
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316164158.png" alt="f:id:uzabase:20160316164158p:plain" title="f:id:uzabase:20160316164158p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
画面左部の自分のユーザーネームをクリック
<br>
→右部「Account」をクリック
<br>
→左部「Configure Apps」をクリック
<br>
→一覧から「Google Drive」をクリック
<br>
→「Authenticate」から連携許可
<br>
<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20160316/20160316173141.png" alt="f:id:uzabase:20160316173141p:plain" title="f:id:uzabase:20160316173141p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
URLではなく、ファイル形式で表示されるようになった上、Slack上でコメントを付けられるようになりました！
<br></p>

<h3>感想</h3>

<p>長々と書いてしまいましたが、何か一つでもご参考になるものがあれば幸いです。スラッシュコマンドやPin機能など、Slackにはまだまだ可能性が秘められております。皆さまもぜひお試しください。<br>
私個人としても、全社へのSlack導入のお仕事をいただいてから、半信半疑で使い始めたのですが、今はすっかりSlackの虜です。連携サービスやチャンネルの運用を駆使して<span style="color: #F5A2A2">「社内のコミュニケーション全てをSlackで完結させる」</span>と考えはじめたら、もうワクワクの極みです。<br>
そして就活生である身としては、Slackを全社的に有効活用させて<b>「はい！私は、インターン先の企業において、社内コミュニケーションの活性化に尽力しました！」</b>的なことを言えるようになりたいものです。</p>

guid : hatenablog://entry/10328537792367290487
enclosure : 
title : Hinemos5.0.1移行記（その１：理想と現実の葛藤）
link : http://tech.uzabase.com/entry/2016/03/11/155758
description : <p>ユーザベース インフラチームの小林です。</p>

<p><a href="http://tech.uzabase.com/entry/2016/02/18/165541">前回の記事</a>から引き続き、今回からHinemos5.0.1への移行のお話です。</p>

<h2>が、その前に1箇所訂正があります</h2>

<p><a href="http://tech.uzabase.com/entry/2016/02/18/165541">前回のブログで書いた</a>ジョブスケジュール日跨ぎの件ですが、<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160226/20160226221222.jpg" alt="f:id:manabu-kobayashi:20160226221222j:plain" title="f:id:manabu-kobayashi:20160226221222j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>0:00～48:00に設定する事で、日跨ぎができました！<br>
先日Hinemosセミナーに出た際に、NTTデータさんに教えてもらいました。ありがとうございます。<br>
（けれど、日付の指定が年・月・日をいちいち選ばないといけないので、やっぱり不便です。
日付選択を、カレンダーから選択できる機能もつけてしてほしい・・・と思ってます。）
<br>
<br></p>

<h2>移行の流れ</h2>

<p>さて、話を本題に。
<br>
弊社のHinemos環境をバージョンアップするにあたり、おおざっぱに以下の流れで行いました。</p>

<ol>
<li>Hinemos5Managerを新規構築 、動作検証</li>
<li>Hinemos3のデータをHinemos5に移行</li>
<li>Hinemos3からHinemos5への順次切り替え</li>
</ol>


<p>（正確にはHinemos3.1.2とHinemos5.0.1ですが、省略します。）</p>

<h2>では、動作検証の話</h2>

<p>新規構築は、マニュアル通りに行えば特に問題はありません。
動作検証においては、Hinemos3ではあまり高度な機能を使っていなかったこともあり、<br>
ジョブスケジューラとして、以下のような基本的な部分だけの検証で十分でした。(新機能は移行後に順次追加。)</p>

<ul>
<li>指定した通りにコマンド実行ができるか</li>
<li>きちんと先行条件が効くか</li>
<li>スケジューラが機能するか</li>
</ul>


<p>上の部分について全然問題はなかったのですが、Hinemos3と違うところがあったので、思いついた部分を列挙します。<br>
<br>
<b>先行条件が自動で変わって便利！</b><br>
Himemos3の時、ジョブIDを変更したいと思っても、後続のジョブの先行条件も変更しなければならず、すごく億劫でした。<br>
ところが、今回のバージョンアップで試してみたところ、下記のようにジョブIDを変更すると、それに紐付く後続ジョブの先行条件が自動で変わってくれます！<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160229/20160229170138.jpg" alt="f:id:manabu-kobayashi:20160229170138j:plain" title="f:id:manabu-kobayashi:20160229170138j:plain" class="hatena-fotolife" itemprop="image"></span><br>
<b>デフォルトのチェックが余計？</b><br>
新規ジョブ作成時、デフォルトで【条件を満たさなければ終了する】にチェックが入っているのですが、これにチェックが入っていると、前のジョブが異常終了した際などに終了してしまうので、弊社の環境では不便でした。<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160229/20160229170136.jpg" alt="f:id:manabu-kobayashi:20160229170136j:plain" title="f:id:manabu-kobayashi:20160229170136j:plain" class="hatena-fotolife" itemprop="image"></span><br></p>

<p>また、<b>ジョブをコピーして追加したい時に、うまくコピーができる場合と、できない場合（実行コマンド等が空になる）があるので、その謎を解きたいと思ってます。</b><br><br></p>

<h2>データ移行は、<A Href="http://atomitech.jp/">アトミテック</A>さんに依頼</h2>

<p>次に、2点目の「Hinemos3のデータをHinemos5に移行」では、弊社の環境でノード数は約70、ジョブの登録数は約3000とありました。
これを人力で、ミスなく再設定する自信がない・・・<br>
という事で、Hinemosのデータ変換は、Hinemosソリューションパートナーの<A Href="http://atomitech.jp/">アトミテック</A>さんに依頼をさせていただきました。
今回はデータの変換だけではなく、Hinemos5移行後のサポートも含めて契約をさせていただき、
後々それが大きな助けとなりました。</p>

<p>ちなみに、アトミテックさんは、<a href="http://atomitech.jp/hinemos/blog/:title">ブログ</a>でHinemosの情報発信をしており、いろいろな機能の検証をされてます。<br></p>

<p>Hinemos3->5へのデータ変換は、アトミテックさんにお願いしたことで、
弊社側での残作業は3つ目の「Hinemos3からHinemos5への順次切り替え」になります。</p>

<h2>目指す移行方法</h2>

<p>「順次切り替え」と書かせていただきましたが、
以下の要因から、一括切り替えではなく、順次確認をしながらの切り替えが可能でした。</p>

<ul>
<li>Hinemos3とHinemos5のエージェントは同居可能(Windows環境は除く)</li>
<li>ジョブの組み方を単純にしているため、機能検証をする項目が少ない</li>
</ul>


<p>後者について、もう少し詳しく説明します。<br>
一般的なジョブの組み方としては、以下のようにジョブネット間を先行条件で繋ぐことが多いと思います。（Hinemosに限らず）<br>
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013446.jpg" alt="f:id:manabu-kobayashi:20160227013446j:plain" title="f:id:manabu-kobayashi:20160227013446j:plain" class="hatena-fotolife" itemprop="image"></span>
ところが、弊社環境では、ジョブネット間の連携において、先行条件で繋いでいませんでした。
どういうことかというと、各ジョブネットの最後にファイルを作成させて、
次のジョブは、そのファイルがあると動くようにしており、ファイルの作成・監視もshellで動かしています。
こんな感じです。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013915.jpg" alt="f:id:manabu-kobayashi:20160227013915j:plain" title="f:id:manabu-kobayashi:20160227013915j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>このおかげで、こんなことが可能になります。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160227/20160227013500.jpg" alt="f:id:manabu-kobayashi:20160227013500j:plain" title="f:id:manabu-kobayashi:20160227013500j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>こうする事で、<span style="color: #ff5252"><b>一度に全部を切り替えるのではなく、ジョブネット一つずつの動作確認をしながら切り替えができるので、
スケジュールに余裕を持たせた移行が可能な状況でした。
</b></span><br></p>

<h2>と思ったら単純にはAgentが同居できなかったよ！</h2>

<p>Agentで使うJavaをマニュアルから抜粋すると、</p>

<pre class="code lang-sh" data-lang="sh" data-unlink> Hinemosエージェントを利用する場合
 以下のいずれかのopenjdkをインストールしてください。
   java-1.7.0-openjdk
   java-1.6.0-openjdk
</pre>


<p>という事になっているのですが、弊社ではOracleJDK1.8を使ってました。<br>
Agentにいれるために、既存のサービスに影響が出そうなことをしたくない。<br></p>

<p>そしてもう一つ。
インストールディレクトリ
/opt/hinemos
って、バージョンが違ってもインストール先が一緒だということ。<br>
（rpmコマンドでのインストールなので、オプションを付ければ変更もできるかもしれませんが、デフォルトはこのまま）<br>
<br>
つまり、異なるバージョンが同居できるといっても、インストール先をデフォルトから変更をしないといけないのです。</p>

<h2>状況の整理</h2>

<p>状況を整理すると、</p>

<ul>
<li>Agent用にサポート対象バージョンのOpenJDKを入れるか、OracleJDK1.8を使い続けるか。</li>
<li>Hinemos3とHinemos5のAgentが同居できるといっても、どちらかのインストールディレクトリを変えないといけない。</li>
</ul>


<p>という問題にぶつかりました。</p>

<p>前者ですが、当初は簡単に考えていて、
OpenJDKのバイナリファイルをダウンロードして、Agentのインストールディレクトリに展開をすればいいのでは、と思っていましたが、
<a href="http://openjdk.java.net/">http://openjdk.java.net/</a>をみると、yumからしかインストールができないようです。
yumでインストールした場合、万が一環境変数に変更があったりすると、既存のジョブに影響が出てしまう。
うーん、困った。</p>

<p>そこで、後者。<br>
新規でインストールをするHinemos5のAgentのインストールディレクトリを変える<br>
or<br>
既存サービスで利用をしているHinemos3のAgentのインストールディレクトリを変える<br>
<br>
という２択ですが、これから使う方を大事にしたいと思い、Hinemos3の方を変えることにしました。</p>

<p>ここで登場をするのが、やはり<A Href="http://atomitech.jp/">アトミテック</A>さんなのでした。
意外と長くなったので次回へ続く。</p>

<p><br>
<br></p>

<h2>新機能のジョブのリトライ間隔の検証</h2>

<p>ちょっと話題を変えまして、小ネタを一つ。<br>
<br>
ジョブのリトライ機能が追加されましたが、<br></p>

<ul>
<li>リトライ間隔ってどれくらいなんだろう？</li>
<li>それは変更ができるか？</li>
</ul>


<p>というのが気になり、検証をしてみました。
管理者マニュアルには、他のリトライに関する説明はあったのですが、上の点については書いてないんだもの。。。。<br></p>

<p>では、検証開始。<br></p>

<p>1．エラーになるジョブを作る
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304212735.png" alt="f:id:manabu-kobayashi:20160304212735p:plain" title="f:id:manabu-kobayashi:20160304212735p:plain" class="hatena-fotolife" itemprop="image"></span><br>
2．あたりまえだけどすぐ終わる。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210055.png" alt="f:id:manabu-kobayashi:20160304210055p:plain" title="f:id:manabu-kobayashi:20160304210055p:plain" class="hatena-fotolife" itemprop="image"></span>
3．リトライ回数を2で設定してみたら、落ちるまで20秒かかった。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210103.png" alt="f:id:manabu-kobayashi:20160304210103p:plain" title="f:id:manabu-kobayashi:20160304210103p:plain" class="hatena-fotolife" itemprop="image"></span>
4．ソースを見てみた。<br>
というか、retryって言葉でgrepをかけてみて探してみた。そして、下の情報にたどり着く。<br>
どうやら、「job.retry.interval」という値で管理ができる。デフォルトは10*1000で、実際は10秒なので、msで設定しているっぽい。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210111.png" alt="f:id:manabu-kobayashi:20160304210111p:plain" title="f:id:manabu-kobayashi:20160304210111p:plain" class="hatena-fotolife" itemprop="image"></span>
5．プロパティ画面で、job.retry.intervalを60000で設定してみた。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210115.png" alt="f:id:manabu-kobayashi:20160304210115p:plain" title="f:id:manabu-kobayashi:20160304210115p:plain" class="hatena-fotolife" itemprop="image"></span>
6．ちゃんと2分伸びた！
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160304/20160304210125.png" alt="f:id:manabu-kobayashi:20160304210125p:plain" title="f:id:manabu-kobayashi:20160304210125p:plain" class="hatena-fotolife" itemprop="image"></span>
<br>
<br>
というわけで、<br></p>

<ul>
<li>リトライ間隔のデフォルトは10秒</li>
<li>job.retry.intervalで変更可能</li>
</ul>


<p>というお話でした。
<br></p>

guid : hatenablog://entry/10328537792364897598
enclosure : 
title : RxJava + Vert.x + jOOλ で Microservice 的な何かを作ってみた
link : http://tech.uzabase.com/entry/2016/03/08/140142
description : <p>技術チームの竹内(@chimerast)です。</p>

<p>先日、<a href="http://connpass.com/event/25532/">Rx Ja Night 2016 #1</a>という勉強会で、「RxJava + Vert.x + jOOλ で Microservice 的な何かを作ってみた」という題でLTしてきたので内容を少し書いてみようと思います。</p>

<p>当日は自分以外基本Android勢の発表で、サーバサイドの自分にとっては、とてもアウェイな雰囲気でしたがめげずに発表してきました。RxJavaっていうとサーバサイドでは普通は使う機会がないですからね。</p>

<script async class="speakerdeck-embed" data-id="2745f52212ba4e678b9d37f172c9ebdb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<h2>今回作ったものとその問題点</h2>

<p>ブラウザでチャートを描画するための元データとなるJSONを返すREST APIを作りました。</p>

<p>現在UZABASEではマイクロサービスアーキテクチャ的な何かのように、複数のREST APIを提供するサービスをぽこぽこ立ち上げており、その中の一つという位置づけです。</p>

<p>今回作ったChart APIの裏では、企業情報を扱う「Companies API」、統計情報を扱う「Stats API」、チャートそれぞれの線のデータ指定情報を管理する「Media API」という3つのAPIが動いています。これらにリクエストを投げて得たデータを元に最終的なチャートのJSONを構築します。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160227/20160227154832.jpg" alt="f:id:chimerast:20160227154832j:plain" title="f:id:chimerast:20160227154832j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>今回作る前から問題点として上がっていたのは、</p>

<ul>
<li>Chart APIだけがAWS上に配置され、それ以外がオンプレのデータセンター上にありデータセンター間通信となってしまうこと</li>
<li>最終的なレスポンスを返すまでに複数回（多いときには20回以上）バックエンドのAPIにリクエストを投げる必要があるということ</li>
</ul>


<p>という二点です。</p>

<p>この状態で最速でレスポンスを返すためには、並列でバックエンドのAPIにリクエストを投げる必要がありますが、それを普通にブロッキングI/Oでやろうとすると、Chart APIへの1リクエストが10スレッド以上立ち上げてバックエンドAPIの返りを待つ必要があるという残念な状態になってしまします。</p>

<h2>使ったもの</h2>

<h3>Vert.x <a href="http://vertx.io/">http://vertx.io/</a></h3>

<p>Nettyの上に作られ、ノンブロッキングI/Oで通信を行う事のできる高レベルAPI群です。サブプロジェクトがたくさんありDBとの通信を行うことの出来るモジュールなんかもあります。</p>

<p>これのサブプロジェクトの一つである、Vert.x-WebをつかってRESTなAPIをつくりつつ、バックエンドAPIに対して１スレッドからノンブロッキングで複数リクエストを投げるみたいな使い方をしました。</p>

<p>Vert.xの問題点として、全てがコールバックで返る非同期APIなため、例えば単純なDBのSELECT&amp;UPDATEをするだけでも何段ものインデントが必要な書き方になります。メソッドを分けるという単純な解決法もありますが宣言的に書けるところは宣言的に書きたいです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160227/20160227160730.jpg" alt="f:id:chimerast:20160227160730j:plain" title="f:id:chimerast:20160227160730j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>これを解決するためにRxJavaを使います。</p>

<h3>RxJava <a href="https://github.com/ReactiveX/RxJava">https://github.com/ReactiveX/RxJava</a></h3>

<p>RxJavaは、Streamとしての側面とPromiseとしての側面を併せ持ったライブラリです。いろいろな使い方ができ自分も全てのメソッドの使い道をうまく把握出来ていません。Android勢はJava8がまだ使えないためStreamの代わりとして使っていたり、非同期処理も多いのでPromiseとしての使い方をしたり色々しているようです。</p>

<p>今回のサーバサイドの開発では、Promiseとしての側面しか使っていません。コールバック地獄から抜け出すため(flatMap)、そして、複数の非同期処理をひとまとめにするため(zip)に主に使っています。</p>

<p>最終的には組み合わせて以下みたいなコードになっています。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20160229/20160229075644.jpg" alt="f:id:chimerast:20160229075644j:plain" title="f:id:chimerast:20160229075644j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h2>感想</h2>

<p>あまり長い文を書いても読みづらくなるだけなので、あとの細かい所はスライドを見てみてください。</p>

<p>Vert.xは巨大なモノリシックなサービスを作るのにはあまり向いていない気がしていますが、今回のように小さいサービスを作るには軽くて向いていると思えました。特に並列でバックエンドのAPIに丸投げして待つみたいなものを作る時にはスレッドの数を考える必要が無いという大きな利点があると思います。</p>

<p>RxJavaは非同期処理を気持ちよく書けるライブラリです。Vert.x、RxJavaともにJava8に対応しているためラムダ式でがしがし書くことができます。</p>

<h2>エンジニア募集</h2>

<p>株式会社ユーザベース、および、株式会社ニューズピックスではエンジニアを募集しています。ご興味があればお気軽にご連絡ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc%2Fprojects" title="株式会社ユーザベースの採用/求人一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">www.wantedly.com</a></cite></p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fnewspicks%2Fprojects" title="株式会社ニューズピックスの採用/求人一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/newspicks/projects">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/10328537792364977387
enclosure : 
title : Hinemos3.1.2→Hinemos5.0.1に移行しました
link : http://tech.uzabase.com/entry/2016/02/18/165541
description : <p><a href="http://tech.uzabase.com/entry/2015/01/29/102935">前回の投稿</a>から約1年と、だいぶ時間が空いてしまいました。<br>
ご無沙汰しておりますユーザベース インフラチームの小林です。</p>

<p>当時海外留学していたメンバーも無事帰国し、新メンバーも増え、インフラチームはだいぶにぎやかになっております。</p>

<h2>Hinemos3.1.2→Hinemos5.0.1に移行！</h2>

<p>さて、本題なのですが、昨年5月にHinemos5が発表されました。<br>
すぐに導入したかったのですが、昨年9月の5.0.1の公開を待って、満を持してHinemos3.1.2→Hinemos5.0.1への移行を行いました。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215231044.png" alt="f:id:manabu-kobayashi:20160215231044p:plain" title="f:id:manabu-kobayashi:20160215231044p:plain" class="hatena-fotolife" itemprop="image"></span>
<br><br><br>
この移行時の顛末については、次回にさせていただくとして、今回はHinemos5にしてみて、実際どうだったかというところを紹介させていただきます。</p>

<h2>Hinemos5.0.1で大幅な運用改善を実現！</h2>

<p>おさらいですが、Hinemos3の運用での困っていた点は以下の通りです。</p>

<ul>
<li>Hinemosエージェントが、Windows8だと動かない<br>

<ul>
<li>⇒そもそもWindows対応のみで、Mac作業者が作業できない。</li>
</ul>
</li>
<li>画面を開くの重い、ジョブの登録はもっと重い<br>

<ul>
<li>⇒あまりに重くて、常時PC開きっぱなし。</li>
</ul>
</li>
</ul>


<p>ジョブ管理ツールとしては問題なく動いてくれていたのですが、パフォーマンス面でどうしても運用メンバーの負荷が上がっている状態でした。</p>

<p>では、これらが、Hinemos5になって解決されたかというと、、<br>
<span style="color: #000000"><b>はい、ばっちりです！</b></span></p>

<p><br>
Webクライアントについては、下のブログで詳しく紹介されているのでそちらをご確認いただきたいですが、リッチクライアントと遜色ない仕上がりで、<br>
<b>ようやくジョブ監視のWindows縛りから解放されたのであります！</b><br>
<iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Ftech-sketch.jp%2F2015%2F09%2Fhinemos5-0_part1.html" title="Hinemos5.0新機能紹介Part1「Webクライアント」 | Tech-Sketch" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://tech-sketch.jp/2015/09/hinemos5-0_part1.html">tech-sketch.jp</a></cite></p>

<p><br>
次に、画面が開くまで時間ですが、僕の実測ベースで、<br></p>

<ul>
<li>Hinemos3の時

<ul>
<li>ログインするまで：2分7秒（そのあとに、ジョブ履歴の画面を開くのにまた待ち時間）</li>
<li>ジョブの登録時の待ち時間：2分30秒</li>
</ul>
</li>
<li>Hinemos5の時

<ul>
<li>ログインするまで：30秒（更にジョブ履歴の画面まで開いてる！！）</li>
<li>ジョブの登録時の待ち時間：10秒位</li>
</ul>
</li>
</ul>


<p>と大幅改善されていて、<b>常時画面を開いている状態からも解放されました。</b><br>
毎日Hinemos開いていたので、待ち時間だけで1年で約10時間の削減効果です(笑</p>

<p><br>
それ以外にも、<br></p>

<ul>
<li><b>ジョブのスケジュール予定がわかるようになった</b>り、<br>（新規でスケジュールしたときに想定通り動くか確認できて超便利！）
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160217/20160217225235.png" alt="f:id:manabu-kobayashi:20160217225235p:plain" title="f:id:manabu-kobayashi:20160217225235p:plain" class="hatena-fotolife" itemprop="image"></span></li>
<li><b>祝日のパターンなどを複数のカレンダで共有できた</b>り（デフォルトで祝日入ってるし！）<br></li>
<li><b>ジョブのエラー時にSlackに通知出るようにした</b>り
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215215536.png" alt="f:id:manabu-kobayashi:20160215215536p:plain" title="f:id:manabu-kobayashi:20160215215536p:plain" class="hatena-fotolife" itemprop="image"></span></li>
</ul>


<p>と、いろいろと運用負荷が下がっています。（通知の機能は、Hinemos3からあった機能を使ってます。）</p>

<h2>Hinemos5.0.1のちょっといけていない点</h2>

<p>で、いいことばかりでもなく、ちょっといけてない点もあったりしてます。<br></p>

<ul>
<li>Hinemos5.0.1でも若干不安定。

<ul>
<li>→なんかメモリリークしてそうな感じ。月に何回かサービス再起動してます。</li>
</ul>
</li>
<li>ジョブスケジュールを臨時で停止したい時、日跨ぎしたいとき不便。（例えば、今日の12時から、明日の12時まで止めたい時とかは2度登録必要。）<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215225823.png" alt="f:id:manabu-kobayashi:20160215225823p:plain" title="f:id:manabu-kobayashi:20160215225823p:plain" class="hatena-fotolife" itemprop="image"></span></li>
<li>ジョブ履歴画面から落ちたジョブのコマンド確認したい時に、グレーアウトされてて見れない。<br>（下の例だと短いコマンドですが、長いコマンドだと途中で切れる。）<br><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/m/manabu-kobayashi/20160215/20160215225116.png" alt="f:id:manabu-kobayashi:20160215225116p:plain" title="f:id:manabu-kobayashi:20160215225116p:plain" class="hatena-fotolife" itemprop="image"></span><br></li>
</ul>


<p>下の２つは、Hinemos3とHinemos5で操作が違って慣れてないだけの気もしますが・・・</p>

<p><br><br></p>

<h2>HInemos5.0.0→5.0.1へのアップグレード手順</h2>

<p>最後に、開発環境にあった、5.0.0環境を5.0.1にアップグレードしてみましたので、簡単に手順を載せておきます。
（そんな難しいことはしてませんが。。）<br></p>

<h3>1. DBのバックアップを取得</h3>

<p>念のため、jvmを停止後バックアップを取得します。</p>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># /opt/hinemos/bin/jvm_stop.sh</span>
<span class="synComment"># /opt/hinemos/sbin/mng/hinemos_backup.sh</span>
<span class="synComment"># /opt/hinemos/bin/jvm_start.sh</span>
</pre>


<h3>2. それぞれサービス停止</h3>

<p>弊社環境では、ManagerとWebクライアントが同居しています。</p>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># service hinemos_web stop</span>
<span class="synComment"># service hinemos_manager stop</span>
</pre>


<h3>3. さらに念をおしてHinemosマネージャver.5.0.0のバックアップを取得</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># cp -rp /opt/hinemos /tmp/hinemos_500_backup</span>
<span class="synComment"># cp -rp /opt/hinemos_web /tmp/hinemos_web_500_backup</span>
</pre>


<h3>4. rpmコマンドでUpdate</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># rpm -Uvh hinemos-manager-5.0.1-1.el7.x86_64.rpm</span>
<span class="synComment"># rpm -Uvh hinemos-web-5.0.1-1.el7.x86_64.rpm</span>
</pre>


<h3>5. serviceファイルをリロードする</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># systemctl daemon-reload</span>
</pre>


<h3>6. それぞれサービス起動</h3>

<pre class="code lang-sh" data-lang="sh" data-unlink><span class="synComment"># service hinemos_manager start</span>
<span class="synComment"># service hinemos_web start</span>
</pre>


<p>って、この記事準備してたら、2016/2/15にHinemos5.0.2が公開されたので、さっそくもう一度試す羽目に。。</p>

<p>Hinemos5への移行記は今後も続きますので楽しみにお待ちください！</p>

guid : hatenablog://entry/6653586347156633673
enclosure : 
title : えびスタ！#3 特別編「NewsPicksウェブ版リニューアルの裏側」を開催します
link : http://tech.uzabase.com/entry/2015/08/07/123741
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150807/20150807105606.png" alt="f:id:uzabase:20150807105606p:plain" title="f:id:uzabase:20150807105606p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>皆さまこんにちは。</p>

<p>恵比寿のイケてるスタートアップが集まるエンジニア向けの技術勉強会「えびスタ！」の第3回を開催します。
第3回は特別編として1社での単独開催です。先日リニューアルしたばかりのNewsPicksウェブ版の開発の裏側についてお届けします。</p>

<p>もちろん今回もLT枠を用意しています。自社の技術についてアピールしたいという方はぜひLT枠でご参加ください！懇親会ではエビスビールとピザも用意してお待ちしています！</p>

<p>エビスビールを飲みながら、テクノロジーとデザインの未来について語り合いましょう！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F18581%2F" title="えびスタ！#3 特別編「NewsPicksウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/18581/">えびスタ！#3 特別編「NewsPicksウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/18581/">ebista.connpass.com</a></cite>
<iframe src="http://blog.newspicks.com/embed/2015web_renewal" title="NewsPicks ウェブ版リニューアルのお知らせ - NewsPicks Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://blog.newspicks.com/entry/2015web_renewal">NewsPicks ウェブ版リニューアルのお知らせ - NewsPicks Blog</a></iframe><cite class="hatena-citation"><a href="http://blog.newspicks.com/entry/2015web_renewal">blog.newspicks.com</a></cite></p>

<h2>イベント情報</h2>

<ul>
<li>日時：8/24（月）19:00（18:30 開場）</li>
<li>場所：株式会社ニューズピックス（東京都渋谷区恵比寿 1-18-14 恵比寿ファーストスクエア 10 階）</li>
</ul>


<table>
<thead>
<tr>
<th style="text-align:left;">時間</th>
<th style="text-align:left;">発表者</th>
<th style="text-align:left;">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">18:30 ~ 19:00</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">開場</td>
</tr>
<tr>
<td style="text-align:left;">19:00</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">乾杯（エビスビールで）</td>
</tr>
<tr>
<td style="text-align:left;">19:00 ~ 19:30</td>
<td style="text-align:left;">甲斐 琢巳（NewsPicks エクスペリエンスエディター）</td>
<td style="text-align:left;">NewsPicksが目指す新しいニュース体験について</td>
</tr>
<tr>
<td style="text-align:left;">19:30 ~ 20:00</td>
<td style="text-align:left;">戸辺 淳一郎（NewsPicks ウェブリニューアルプロジェクトリーダー）</td>
<td style="text-align:left;">ウェブリニューアルを成功させたチーム体制「Holacracy（ホラクラシー）」、およびエンジニアとデザイナーの協業について</td>
</tr>
<tr>
<td style="text-align:left;">20:00 ~ 20:20</td>
<td style="text-align:left;">発表者募集中！</td>
<td style="text-align:left;">LTタイム（5分×4人）</td>
</tr>
<tr>
<td style="text-align:left;">20:20 - 21:30</td>
<td style="text-align:left;">-</td>
<td style="text-align:left;">懇親会（エビスビールとピザを用意しています！）</td>
</tr>
</tbody>
</table>


<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F18581%2F" title="えびスタ！#3 特別編「NewsPicksウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/18581/">えびスタ！#3 特別編「NewsPicksウェブ版リニューアルの裏側」 (2015/08/24 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/18581/">ebista.connpass.com</a></cite></p>

guid : hatenablog://entry/8454420450104773144
enclosure : 
title : 「日本の夏は高温化しているか？」について可視化して確かめてみた。
link : http://tech.uzabase.com/entry/2015/08/05/185131
description : <p>技術チーム竹内(@<a class="twitter-user-screen-name" href="http://twitter.com/chimerast">chimerast</a>)です。</p>

<p>最近暑いですね。東京では猛暑日の連続が新記録だそうです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.tenki.jp%2Fforecaster%2Fdiary%2Fdeskpart%2F2015%2F08%2F05%2F29061-summary.html" title="猛暑日　東京新記録　仙台25年ぶり(日直予報士) - tenki.jp" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.tenki.jp/forecaster/diary/deskpart/2015/08/05/29061-summary.html">猛暑日　東京新記録　仙台25年ぶり(日直予報士) - tenki.jp</a></iframe><cite class="hatena-citation"><a href="http://www.tenki.jp/forecaster/diary/deskpart/2015/08/05/29061-summary.html">www.tenki.jp</a></cite></p>

<p>Twitter上でも最近暑くなったことについて、データを見つつ色々話題になっていたようです。</p>

<ul>
<li><a href="http://togetter.com/li/856042">&#x65E5;&#x672C;&#x306E;&#x590F;&#x306F;&#x9AD8;&#x6E29;&#x5316;&#x3057;&#x3066;&#x308B;&#x304B;&#xFF1F; - Togetter&#x307E;&#x3068;&#x3081;</a></li>
<li><a href="http://togetter.com/li/855995">&#xFF13;&#xFF10;&#x5E74;&#x524D;&#x3068;&#x6BD4;&#x3079;&#x6691;&#x304F;&#x306A;&#x3063;&#x305F;&#x3068;&#x805E;&#x304D;&#x590F;&#x306E;&#x6C17;&#x6E29;&#x30C7;&#x30FC;&#x30BF;&#x3092;&#x30B0;&#x30E9;&#x30D5;&#x306B;&#x3057;&#x3066;&#x307F;&#x305F;&rarr;&#x69D8;&#x3005;&#x306A;&#x610F;&#x898B;&#x96C6;&#x307E;&#x308B; - Togetter&#x307E;&#x3068;&#x3081;</a></li>
</ul>


<p>で、せっかくなんで自分でも最近どうなっているのか確かめてみました。</p>

<h3>使ったデータ</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.data.jma.go.jp%2Fgmd%2Frisk%2Fobsdl%2F" title="気象庁|過去の気象データ・ダウンロード" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.data.jma.go.jp/gmd/risk/obsdl/">気象庁|過去の気象データ・ダウンロード</a></iframe><cite class="hatena-citation"><a href="http://www.data.jma.go.jp/gmd/risk/obsdl/">www.data.jma.go.jp</a></cite></p>

<p>気象庁から東京都の1986年1月から2015年8月4日時点までの月次データを取得してきてみました。</p>

<p>項目は、</p>

<ul>
<li>平均気温(℃)</li>
<li>降水量の合計(mm)</li>
<li>平均湿度(％)</li>
<li>日照時間(時間)</li>
<li>日最高気温の平均(℃)</li>
<li>日最低気温の平均(℃)</li>
</ul>


<p>をとりあえずとってきてみました。</p>

<h3>使ったもの</h3>

<ul>
<li><a href="http://e2d3.org/ja/">E2D3</a></li>
<li><a href="http://dc-js.github.io/dc.js/">dc.js - Dimensional Charting Javascript Library</a></li>
</ul>


<p>Excelでセルにデータを入力するとモダンな感じにビジュアライズ出来るE2D3で、データを多角的に見られるdc.jsを使える「dcjs-example」というテンプレートを使って(作って)可視化してみました。</p>

<p><a href="http://e2d3.org/ja/">E2D3</a>は、Excelから気軽にデータビジュアライズできるようにしようと、現在絶賛開発中のオープンソースソフトウェアです。Excel2013以降もしくは、Excel OnlineのOfficeストアから探せるので使ってみてください。</p>

<h3>できたもの</h3>

<p>こんな感じです(残念ですが、スマホでは表示されません)。マウスで下のグラフを選択すると、選択した範囲でデータがフィルタリングされます。</p>

<p>下の方の青いグラフの縦軸はデータの個数です。</p>

<p><a href="https://s.e2d3.org/e5f3bff/be9fe63b4e1b14e8c644d62e67e9ba2e" target="_blank">別画面で大きく表示する</a></p>

<p><strong>画像ではなくマウスクリックで動かせますよ！</strong></p>

<script type="text/javascript">
if (document.getElementsByTagName("html")[0].getAttribute("data-globalheader-type") === 'pc') {
  document.open();
  document.write('<iframe src="https://s.e2d3.org/e5f3bff/be9fe63b4e1b14e8c644d62e67e9ba2e" width="100%" height="1250" frameborder="0" scrolling="no"></iframe>');
  documnet.close();
}
</script>


<h3>考察</h3>

<p>実際に自分でいろいろ触って見てもらうのが一番ですが、例えば、8月の最低気温の平均を25度以上でフィルタリングしてみると明らかに近年(緑色)の年だけが出てきてしまいますね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150805/20150805174130.png" alt="f:id:chimerast:20150805174130p:plain" title="f:id:chimerast:20150805174130p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3>まとめ</h3>

<p>データを触って見ると色々気づきがあります。</p>

<p><a href="http://e2d3.org/ja/">E2D3</a>を使うとExcelでデータを簡単に入れ替えてデータ可視化を行うことが出来ます(たぶん)。</p>

<p>東京だけでなくいろんな地点のデータを入れてみると面白いと思います。</p>

<h3>いろいろ</h3>

<p><a href="http://www.uzabase.com/">株式会社ユーザベース</a>では、企業・業界・統計データやニュース記事・コメント等データを大量に抱えています。そんなデータをなんとかしてみたいエンジニアを募集しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc%2Fprojects" title="株式会社ユーザベースの募集一覧 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">株式会社ユーザベースの募集一覧 - Wantedly</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc/projects">www.wantedly.com</a></cite></p>

<p>あと、OSSで開発している<a href="http://e2d3.org/ja/">E2D3</a>プロジェクトでは、可視化テンプレートを作成してくれるエンジニアや、基盤システムを開発してくれるエンジニアを探しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fe2d3%2Fe2d3" title="e2d3/e2d3" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://github.com/e2d3/e2d3">e2d3/e2d3</a></iframe><cite class="hatena-citation"><a href="https://github.com/e2d3/e2d3">github.com</a></cite></p>

guid : hatenablog://entry/8454420450104591467
enclosure : 
title : ウェブサービスの品質保証をお弁当作りに例えたら
link : http://tech.uzabase.com/entry/2015/07/02/200356
description : <p>初めまして。QA（Quality Assurance）を担当しております、えがさ（仮名）と申します。<br />
QAエンジニアとして、主にBtoC向けWebサービスサイトや、プリンタ、<br />
携帯電話などのテスティングや、雑誌の原稿作成のお手伝いなどをしておりました。<br />
ユーザベースに参加してからだいたい半年になります。<br />
<br />
<br />
<span style="font-size: 150%"><b>SPEEDAの簡単な概要</b><br /></span>
<br />
私は、SPEEDAのWebサイト部分がメインの担当ですが、SPEEDAとは。<br />
一言で表すと、「企業情報などを多角的に取り出せるデータベース」です。<br />
お客様がSPEEDAを活用して新たな価値を生み出すための<br />
ベースを支えるのがミッションです。<br />
<br />
<br />
<span style="font-size: 150%"><b>SPEEDAって・・・。</b><br /></span>
<br />
このお仕事をして製品を触るうちに、私はあることを思いつきました。<br />
SPEEDAって・・・まるでお弁当みたいだな、と。<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150630/20150630113418.png" alt="f:id:uzabase:20150630113418p:plain" title="f:id:uzabase:20150630113418p:plain" class="hatena-fotolife" itemprop="image"></span><br />
<span style="color: #00cc00">
お客様にお出しするためのお弁当箱：インフラ　があり<br />
お客様にコアバリューを提供するデータ：主食　があり<br />
データをおいしく加工するためのおかず：Webサイト　があり。<br />
</span>
全部がそろって活用できる。<br />
<br />
しかしお弁当は温かいほうがよりおいしくいただけます。<br />
ホットな情報には賞味期限もあります。<br />
そのためにアジャイルでの開発が行われています。<br />
<br />
<br />
<span style="font-size: 150%"><b>と　こ　ろ　が</b><br /></span>
<br />
アジャイルのQAはウォーターフォールの開発とは<br />
発想が真逆になることもあり。<br />
最初は目が点になることも多々ありました。<br />
<br />
見る間にリリースされるスケジュール感。<br />
クライテリアの基準。<br />
<br />
IEEE829?　ISO9001?<br />
既存のモデルはアジャイルにそのまま適用できません。<br />
<br />
できればテストケースも使いまわしたい。<br />
漏れなく効率よくまわしたい。<br />
<br />
しかし納期と品質という相反する要素をどうやって折り合いを付けるのか？<br />
のんびりしていると冷めたおいしくないお弁当になってしまいます。<br />
<br />
<br />
<span style="font-size: 150%"><b>残念なお弁当の一例</b><br /></span><br /></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124057.png" alt="f:id:uzabase:20150623124057p:plain" title="f:id:uzabase:20150623124057p:plain" class="hatena-fotolife" itemprop="image"></span>ケンカでもしましたか？<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124258.png" alt="f:id:uzabase:20150623124258p:plain" title="f:id:uzabase:20150623124258p:plain" class="hatena-fotolife" itemprop="image"></span>お弁当にする意味が・・・。<br />
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623124520.png" alt="f:id:uzabase:20150623124520p:plain" title="f:id:uzabase:20150623124520p:plain" class="hatena-fotolife" itemprop="image"></span>ゼリーを弁当と言い張る弱さ。<br />
<br />
・・・こんなお弁当を出荷するわけにはいきません。<br />
<br />
そこで、まだ和書では少ないアジャイルQAの本や各種勉強会などで勉強を進めつつ<br />
（KindlePCが日本でも使えるようになったので洋書の<br />
　QA本が買いやすくなりました！これは嬉しい。）<br />
既存のモデルをSPEEDA向けにアレンジして以下のセットを<br />
作りおきすることにしました。<br />
<br />
<br />
<span style="font-size: 150%"><b>お弁当作り置き</b><br /></span></p>

<p><b><span style="color: #286f2c">基礎（下ごしらえ）</span></b></p>

<ul>
<li>要求分析→既存製品でしたので簡素化しました。</li>
<li>ユースケース</li>
<li>機能分析</li>
<li>問題分析（魚の骨）
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623144912.png" alt="f:id:uzabase:20150623144912p:plain" title="f:id:uzabase:20150623144912p:plain" class="hatena-fotolife" itemprop="image"></span><br />
SPEEDAの冷蔵庫です<br />
<br />
機能の影響範囲をチェックリストにしたがって見ていけば<br />
基本的なテストケースまでができあがります。<br /></li>
</ul>


<p><br />
<b><span style="color: #286f2c">案件毎のテストセット作成（おかずづくり）</span><br /></b></p>

<p>基礎をベースに、プロジェクト毎のテスト要件定義は、<br /></p>

<ul>
<li>マインドマップ:テスト観点の洗い出し
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623141643.png" alt="f:id:uzabase:20150623141643p:plain" title="f:id:uzabase:20150623141643p:plain" class="hatena-fotolife" itemprop="image"></span>ブラウザのマインドマップ<br /></li>
<li>ユースケース：テスト範囲・開発範囲、影響の見積もり</li>
<li>シーケンス図：実務の考慮漏れ対策</li>
<li>状態遷移図：シナリオテストのヒントにする</li>
<li>デシジョンテーブル：パターン洗い出し</li>
</ul>


<p>などを用意してテストセットに落としています。<br />
どれも目新しいものではありませんが、<br />
再利用もしやすく時間もかからず重宝しています。<br />
<br /></p>

<p><b><span style="color: #286f2c">盛り付け（テストラン）</span><br /></b></p>

<ul>
<li>テスト（お弁当を詰める）<br />
　　UT：単体テスト<br />
　　SIT：結合テスト　直交表やシナリオなど<br /></li>
<li>体制（料理人の皆様）<br /></li>
</ul>


<p>こうして、温かいうちに召し上がっていただけるように<br />
こつこつ資産化しています。<br /></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150623/20150623143617.png" alt="f:id:uzabase:20150623143617p:plain" title="f:id:uzabase:20150623143617p:plain" class="hatena-fotolife" itemprop="image"></span>召し上がれ！<br />
<br />
お弁当QAを体験してみたいエンジニアの皆さん、おいでませ＾－＾<br />
<br /></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4817192283/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41VcxPXKoYL._SL160_.jpg" class="hatena-asin-detail-image" alt="ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方" title="ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4817192283/hatena-blog-22/">ソフトウェアテストHAYST法入門 品質と生産性がアップする直交表の使い方</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 吉澤正孝/秋山浩一/仙石太郎</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 日科技連出版社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2007/07/26</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><span class="hatena-asin-detail-label">購入</span>: 3人 <span class="hatena-asin-detail-label">クリック</span>: 86回</li><li><a href="http://d.hatena.ne.jp/asin/4817192283/hatena-blog-22" target="_blank">この商品を含むブログ (20件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div> サイン本もってます:-D</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4048672347/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51Vxllc4BBL._SL160_.jpg" class="hatena-asin-detail-image" alt="ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)" title="ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4048672347/hatena-blog-22/">ペンとノートで発想を広げる“お絵描き”ノート術 マインドマップ(R)が本当に使いこなせる本 (アスキームック)</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 遠竹智寿子,月刊アスキー編集部,ブザン・ワールドワイド・ジャパン、ブザン教育協会</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> アスキー・メディアワークス</li><li><span class="hatena-asin-detail-label">発売日:</span> 2008/06/30</li><li><span class="hatena-asin-detail-label">メディア:</span> ムック</li><li><span class="hatena-asin-detail-label">購入</span>: 40人 <span class="hatena-asin-detail-label">クリック</span>: 957回</li><li><a href="http://d.hatena.ne.jp/asin/4048672347/hatena-blog-22" target="_blank">この商品を含むブログ (66件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>　さらっと読んですぐ使いこなしたい方に</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4798118443/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51hcs7og2fL._SL160_.jpg" class="hatena-asin-detail-image" alt="ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)" title="ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4798118443/hatena-blog-22/">ダイアグラム別UML徹底活用 第2版 (DB Magazine SELECTION)</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 井上樹</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 翔泳社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2011/02/25</li><li><span class="hatena-asin-detail-label">メディア:</span> 大型本</li><li><span class="hatena-asin-detail-label">購入</span>: 1人 <span class="hatena-asin-detail-label">クリック</span>: 5回</li><li><a href="http://d.hatena.ne.jp/asin/4798118443/hatena-blog-22" target="_blank">この商品を含むブログ (2件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>　Kindle版もあります</p>

guid : hatenablog://entry/8454420450098619942
enclosure : 
title : たのしいフォントえらび 〜 GoogleやDEAN & DELUCA、SPEEDAの事例から 〜
link : http://tech.uzabase.com/entry/2015/06/11/164718
description : <p>こんにちは。ユーザベースのデザイナー、広田です。企業・業界情報サービス「SPEEDA」を担当しています。</p>

<p>とうとう、ブログの順番が回ってきました。
UZABASE Tech Blogの記事ネタは、ユーザベースのエンジニアが一堂に集まる週一のミーティング、そこで話す持ち回りのライトニングトークが元になっています。もちろん、それがすべてではありませんが、記事を書く順番としてはそんな感じです。
そして、2月に入社した私にも、ライトニングトークの順番、すなわちブログを書く順番が回ってきたというわけです。</p>

<p>テックミーティングの参加者は、当然ですが、エンジニアばかり。
なので、私にとってはチンプンカンプンのエンジニア用語が並ぶわけですが、そんな中で私が話せることってなんだろう？と（一応、真剣に）考えた結果、エンジニアにとっても身近であろうフォントについて話すことにしました。</p>

<p>というのも、入社以来、ずっと気になっていたSPEEDAのロゴのルーツ。その答えを見つけた良いタイミングでもあったので。</p>

<p>・・・と、ちょっと前置きが長くなってしまいましたが、テーマは「たのしいフォントえらび 〜 GoogleやDEAN &amp; DELUCA、SPEEDAの事例から 〜」に決定しました。</p>

<h3>目次</h3>

<p>・<a href="#section1">SPEEDAのロゴのルーツ</a><br>
・<a href="#section2">SPEEDAのお仲間さがし</a><br>
・<a href="#section3">有名ブランドのロゴは何のフォントを使ってる？</a><br>
・<a href="#section4">もしもユーザベースが第3の事業を始めたら...</a></p>

<h3><a name="section1"></a>SPEEDAのロゴのルーツ</h3>

<p>さて、本題のSPEEDAのロゴですが、残念ながらこのロゴの成り立ちを語れる人を見つけることはできませんでした。それで、ずっとモヤモヤした毎日を過ごしていたわけです。これに似たフォントはなんだろう、、、と。そうやってSPEEDAのロゴのフォントのことをずっと想っていたら、とうとう出会ってしまったんです。</p>

<p>それは、ある日、突然。まるで天から降ってきたかのように。久しぶりに見たフォント本の中にいました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531104840.jpg" alt="f:id:uzabase:20150531104840j:plain" title="f:id:uzabase:20150531104840j:plain" class="hatena-fotolife" itemprop="image"></span>
2013年発行の「<a href="http://www.graphicsha.co.jp/shosai.php?snumber3=1305">TYPOGRAPHY03</a>」（グラフィック社）</p>

<p>このムックのここに。ほら。SPEEDAのロゴにそっくりでしょ？
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531105845.jpg" alt="f:id:uzabase:20150531105845j:plain" title="f:id:uzabase:20150531105845j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>そう「BANK GOTHIC」というフォントです。
（ムックには「 BANNK GOTHIC」とありますが、これは誤植ですね。）</p>

<p>このフォントに出会った瞬間、もうね、なんとも言えない晴れ晴れした気持ちになったんですよ。出会うべくして出会った赤い糸＝運命の人？みたいな。それはおおげさですが。。。しかも、フォント名にBANK（銀行）とあるなんて。さまざまな企業の財務情報や業界の動向を提供するSPEEDAにぴったりのフォントですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531111126.png" alt="f:id:uzabase:20150531111126p:plain" title="f:id:uzabase:20150531111126p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>BANK GOTHICはサンセリフ、ウロコのない書体です。その中でも幾何学的図形のような骨格を持つジオメトリック・サンセリフです。
ほら、見てください。ほぼ正方形の形をしていますよね？（青枠に注目）</p>

<p>BANK GOTHICの特徴を他にも挙げると、GやO、Cに見られる正方形部分、この内側部分が直角になっているのに対して、外側が丸みを帯びている点ですね（赤の丸に注目）</p>

<p>参考までに、<a href="http://www.fonts.com/ja/browse/designers/morris-fuller-benton">fonts.com</a> から引用したBANK GOTHICの生みの親、Morris Fuller Bentonについて記しておきます。</p>

<blockquote><p>Morris Fuller Benton – born 1872 in Milwaukee, USA, died 1948 in Morristown, USA – engineer, type designer. After training as a mechanic and engineer, Benton jointed the ATF, where he became type designer and in-house designer with ATF.</p></blockquote>

<p>フォント名が明らかになったところで、SPEEDAのロゴの検証をしていきましょう。</p>

<p>まずは現在のロゴ。これが最終形です。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531112457.png" alt="f:id:uzabase:20150531112457p:plain" title="f:id:uzabase:20150531112457p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>そしてこれが一世代前のロゴ。いつまで使われていたのか、正確なところはわかりません。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531112712.png" alt="f:id:uzabase:20150531112712p:plain" title="f:id:uzabase:20150531112712p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>今のロゴと比較すると一世代前のロゴは少しスリムでしたね。今のロゴのほうが骨太です。その他にも、PとDに変化が見られますね。現在のロゴのほうが尖った印象になっているとと同時に、より堂々とした感じが伝わってきます。そして男性的。</p>

<p>ここからは想像ですが、こんな流れでSPEEDAのロゴができあがったのではないかと。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603195800.png" alt="f:id:uzabase:20150603195800p:plain" title="f:id:uzabase:20150603195800p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<ol>
<li>BANK GOTHICでSPEEDAを組む …（ A）</li>
<li>（A）をベースに文字の横幅を少しスリムにする（正方形から長方形に）...（B）</li>
<li>微調整（特にSやE）を繰り返して、一世代前のロゴが完成…（C）</li>
<li>さらに微調整を繰り返して、今のロゴが完成…（D）</li>
</ol>


<h3><a name="section2"></a>SPEEDAのお仲間さがし</h3>

<p>SPEEDAのロゴのルーツを知り、俄然、BANK GOTHICが身近になった私。そこで、BANK GOTHICを使ったロゴのお仲間を探してみました。</p>

<p>Googleで検索してみると、いろいろ見つかります。
いずれもロゴの形を見ての想像でしかありませんが、<a href="http://www.nintendo.co.jp/ds/">NINTENDO DS</a>のNINTENDOやER緊急救命室のER、浅草にあるホテル<a href="http://www.agoraplace-asakusa.com/">AGOLA PLACE</a>などはBANK GOTHICではないかと思います。</p>

<p>そして、私たちのオフィス近くにもBANK GOTHICを見つけました。
恵比寿駅からオフィスに向かう途中にある恵比寿ビジネスタワー。下の写真をご覧ください。この欧文ロゴがBANK GOTHICっぽいんです。
昨年12月、ユーザベースは外苑前からここ恵比寿に移転しましたが、もしかしたら引っ越し先はこのビルにすべきだったかもしれませんね、、、なんて思ったり。
<span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531115149.jpg" alt="f:id:uzabase:20150531115149j:plain" title="f:id:uzabase:20150531115149j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h3><a name="section3"></a>Google、VOGUE、Dean &amp; Delucaなどのブランドロゴはどのフォントを使ってる？</h3>

<p>ロゴとフォントのことをいろいろ調べていたら、有名ブランドのロゴのフォントも気になってきました。そこで、書籍やインターネットなどで調べてみました。</p>

<h4>LOUIS VUITTON</h4>

<p>多くの人の憧れのファッションブランド <a href="http://jp.louisvuitton.com/">LOUIS VUITTON</a>。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602000621.png" alt="f:id:uzabase:20150602000621p:plain" title="f:id:uzabase:20150602000621p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>これはMacにも標準で搭載されているFutura（フツラ、フーツラ）で組まれたフォントです。字と字の間を調整している以外は、ほぼ原型のまま使っているっぽいです。実は、ユーザベースのロゴもFuturaなんですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224304.png" alt="f:id:uzabase:20150602224304p:plain" title="f:id:uzabase:20150602224304p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>VOGUE</h4>

<p>続いて老舗の女性ファッション誌 <a href="http://www.vogue.co.jp/">VOGUE</a>。このロゴで使われているのは、Didot（ディド）です。こちらもMacをお使いの方は持っているんじゃないでしょうか？</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602002309.jpg" alt="f:id:uzabase:20150602002309j:plain" title="f:id:uzabase:20150602002309j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://(http://www.vogue.co.jp/">http://www.vogue.co.jp/</a></p>

<p>あらためて書店で平積みされている女性ファッション誌を見てみると、Didotのように、細いところと太いところの差がはっきりしているロゴが多いですね。特に大人の女性向けファッション誌に。まるで女性の理想的なプロポーション、華奢に見えるのに出ているところは出ている、、、みたいな。そんな印象を受けるフォントです。Didotはそれに加えて丸みもあるので、女性らしいしなやかさも感じます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224332.png" alt="f:id:uzabase:20150602224332p:plain" title="f:id:uzabase:20150602224332p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>DEAN &amp; DELUCA</h4>

<p>NY生まれのフード＆カフェのお店。見たことのないオシャレなパッケージの食材が並んでいて、本当に楽しいお店です。このロゴはCopperplate Gothicですね。いろんなところで目にする人気のフォントです。こちらも私のMacにはインストールされています。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602003156.jpg" alt="f:id:uzabase:20150602003156j:plain" title="f:id:uzabase:20150602003156j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://www.deandeluca.com/">http://www.deandeluca.com/</a></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602224348.png" alt="f:id:uzabase:20150602224348p:plain" title="f:id:uzabase:20150602224348p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>Google</h4>

<p>そして、いつもお世話になっているGoogle。このロゴで使われているのはCatull BQです。ほぼ手を加えず原型のまま使っているっぽいです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150602/20150602003639.jpg" alt="f:id:uzabase:20150602003639j:plain" title="f:id:uzabase:20150602003639j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="http://www.google.co.jp/">http://www.google.co.jp/</a></p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.myfonts.com%2Ffonts%2Fberthold%2Fcatull-bq%2F" title="Catull® BQ - Desktop font « MyFonts" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.myfonts.com/fonts/berthold/catull-bq/">Catull® BQ - Desktop font « MyFonts</a></iframe><cite class="hatena-citation"><a href="https://www.myfonts.com/fonts/berthold/catull-bq/">www.myfonts.com</a></cite></p>

<h3><a name="section4"></a>もしもユーザベースが第3の事業を始めたら...</h3>

<p>さて、ここからは私の妄想です。「もしもユーザベースが第3の事業を始めたら…」を妄想して、こんなときにはこんなフォントが合うんじゃ？という視点で、フォントを探してみました。</p>

<blockquote><p>ユーザベースは、法人向け業界分析情報データベース「SPEEDA」と、経済情報に特化したニュース共有サービス「NewsPicks」という2つのプロダクトの開発・運営を行っています。</p></blockquote>

<h4>もしもユーザベースが「ホラー映画」を作ったら...</h4>

<p>そこで、こわーいフォントを探してみました。</p>

<p>さて、どうでしょう？　これはAdobe Creative CloudのTypekitにもあるAdobeのIronwoodというフォントです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603232308.jpg" alt="f:id:uzabase:20150603232308j:plain" title="f:id:uzabase:20150603232308j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p><a href="https://www.fontshop.com/families/ironwood">https://www.fontshop.com/families/ironwood</a></p>

<p>こうやってみるとそんなに怖そうに見えませんが、少し色を工夫すると、イギリスあたりの誰も住んでいない古い館っぽっく見えてきませんか？　まるでドラキュラの棲家のような。また、不安定な 3本のラインがなかなか良い効果が出ているようで、「裏切り」や「壊れる」といったサスペンス映画の要素も見えてきます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604002217.jpg" alt="f:id:uzabase:20150604002217j:plain" title="f:id:uzabase:20150604002217j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>dafont.comを探せば、それはそれは怖いフォントも他にもたくさん見つかるんですが、お勧めしてもいいものとそうでないものの選別が難しいので、ここで紹介するのはやめました。</p>

<h4>もしもユーザベースが「自然派化粧品」を売り出したら...</h4>

<p>続いて、同じくAdobe Creative CloudのTypekitにもあるBlakely というフォントを使って、自然派化粧品のロゴを作ってみました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604225039.jpg" alt="f:id:uzabase:20150604225039j:plain" title="f:id:uzabase:20150604225039j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p><a href="https://www.fontshop.com/families/blakely">https://www.fontshop.com/families/blakely</a></p>

<p>上の図はBoldですが、一番細いLightを使うと印象がぐっと変わります。このLightを使って、今度はNewsPIcksでロゴを作ってみました。</p>

<p>ターゲットは20代女性くらい？　「いつまでもみずみずしいお肌をキープしたい女性へ」「敏感肌のあなたへ」といったところかな。とても涼しげな感じに仕上がったので、今のこの暑い季節に売り出したいところですね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604225617.png" alt="f:id:uzabase:20150604225617p:plain" title="f:id:uzabase:20150604225617p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h4>もしもユーザベースが「子ども服ブランド」を立ち上げたら…</h4>

<p>最後に、もしもユーザベースが「子ども服ブランド」を立ち上げたら…と題して、楽しくてやさしいフォントを探してみました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603221133.jpg" alt="f:id:uzabase:20150603221133j:plain" title="f:id:uzabase:20150603221133j:plain" class="hatena-fotolife" itemprop="image"></span>
<a href="https://www.fontshop.com/families/scruff">https://www.fontshop.com/families/scruff</a></p>

<p>どうでしょうか？ これは scruff というフォントです。
おもちゃ箱をひっくり返したように、とっても楽しそうですよね。</p>

<p>「S」なんて、おもちゃの電車を走らせる線路に見えてくるし、「f」が2つ並んでいるところは双子の兄弟がひげダンスしているように見えてくる。ほら、他の文字も全部楽しそうですよね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150603/20150603224352.jpg" alt="f:id:uzabase:20150603224352j:plain" title="f:id:uzabase:20150603224352j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>このフォントは、元気な子ども服ブランドや知育の玩具メーカーのロゴにきっと似合うはず。例えば、こんな感じでね。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150604/20150604220204.png" alt="f:id:uzabase:20150604220204p:plain" title="f:id:uzabase:20150604220204p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ちなみに、キャッチコピーで使用したフォントは「<a href="https://www.fontshop.com/families/blakely">やさしさゴシック</a>」というフリーのフォントです。日本語のフリーフォントでこれだけ文字の種類が揃っているのは珍しいのでとても貴重です。</p>

<p>長々とフォントについて書きましたが、最後に、敬愛する日本人フォントデザイナー、小林章さんの言葉を載せて、締めくくりたいと思います。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150531/20150531130901.png" alt="f:id:uzabase:20150531130901p:plain" title="f:id:uzabase:20150531130901p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ユーザベースではエンジニアを募集しています！</p>

<ul>
<li>大規模で多種多様なデータを扱うことに興味がある方</li>
<li>とにかく技術が好きな方</li>
<li>様々なバックグラウンドを持つ人材と働いてみたい方</li>
</ul>


<p>以上に一つでも当てはまる方は、一度オフィスに遊びに来てください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11497" title="巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11497">巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11497">www.wantedly.com</a></cite></p>

<p><b>【参考サイト・書籍】</b></p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmatome.naver.jp%2Fodai%2F2133151854135573901" title="有名企業やサイトのロゴに使用されているフォントまとめ - NAVER まとめ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://matome.naver.jp/odai/2133151854135573901">有名企業やサイトのロゴに使用されているフォントまとめ - NAVER まとめ</a></iframe><cite class="hatena-citation"><a href="http://matome.naver.jp/odai/2133151854135573901">matome.naver.jp</a></cite></p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fmatome.naver.jp%2Fodai%2F2135168573243723001" title="名作フォントと有名ロゴのおいしい関係 - NAVER まとめ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://matome.naver.jp/odai/2135168573243723001">名作フォントと有名ロゴのおいしい関係 - NAVER まとめ</a></iframe><cite class="hatena-citation"><a href="http://matome.naver.jp/odai/2135168573243723001">matome.naver.jp</a></cite></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4766124758/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51fM19fMW2L._SL160_.jpg" class="hatena-asin-detail-image" alt="TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350" title="TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4766124758/hatena-blog-22/">TYPOGRAPHY(タイポグラフィ)03  デザイナーなら覚えておくべき 厳選フォント350</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> グラフィック社編集部</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> グラフィック社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/05/07</li><li><span class="hatena-asin-detail-label">メディア:</span> 大型本</li><li><a href="http://d.hatena.ne.jp/asin/4766124758/hatena-blog-22" target="_blank">この商品を含むブログ (4件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4568504287/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51Dtxr9LBSL._SL160_.jpg" class="hatena-asin-detail-image" alt="フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？" title="フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4568504287/hatena-blog-22/">フォントのふしぎ  ブランドのロゴはなぜ高そうに見えるのか？</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 小林章</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 美術出版社</li><li><span class="hatena-asin-detail-label">発売日:</span> 2011/01/17</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本（ソフトカバー）</li><li><span class="hatena-asin-detail-label">購入</span>: 11人 <span class="hatena-asin-detail-label">クリック</span>: 235回</li><li><a href="http://d.hatena.ne.jp/asin/4568504287/hatena-blog-22" target="_blank">この商品を含むブログ (33件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4756245676/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/51CbPBYN4VL._SL160_.jpg" class="hatena-asin-detail-image" alt="新しい価値を生み出すためのブランディングプロセス" title="新しい価値を生み出すためのブランディングプロセス"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4756245676/hatena-blog-22/">新しい価値を生み出すためのブランディングプロセス</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> パイインターナショナル</li><li><span class="hatena-asin-detail-label">発売日:</span> 2015/01/20</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><a href="http://d.hatena.ne.jp/asin/4756245676/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

guid : hatenablog://entry/8454420450095961553
enclosure : 
title : ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編）
link : http://tech.uzabase.com/entry/2015/06/02/183335
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150526/20150526122646.jpg" alt="f:id:uzabase:20150526122646j:plain" title="f:id:uzabase:20150526122646j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>企業・業界情報データベース<a href="http://www.uzabase.com/speeda/">「SPEEDA」</a>の開発チームに所属している川口と申します。</p>

<p>ユーザベースで大事にしている価値観として、「<strong>自由主義で行こう</strong>」があります。きちんと仕事の結果を出せば、出社時間や服装は自由で、出社の義務もないというものです。</p>

<p>一方、自由に対する責任の一つとして、毎週一回の全社会議だけは全員出席する必要があります。この全社会議が「<strong>みんなの会（Town Hall Meeting）</strong>」です。ここでは各チームの進捗報告やリリースされた機能の発表、事務連絡や新メンバーの紹介などを行っています。（以前は「全体進捗会議」という名前でしたが、社内投票の結果、この名前になりました。）</p>

<p>私が入社した2011年当時、オフィスは東京だけで、全体会議の出席メンバーも20人ぐらいでしたので、会議室に全員入り切るぐらいでした。それからオフィスも2回移転して、上海、シンガポール、香港と海外にも拠点も広がり、全体で160人前後のメンバーになりました。今でも全員が出席するスタイルでの会議は続いているのですが、各海外拠点への生中継を毎回行うようになり、海外メンバーからの発表や質問なども可能にしています。</p>

<p>このシステムの構築やオペレーションには私もかかわっており、試行錯誤を続けながらバージョンアップしてきました。この記事では、そんな「みんなの会」を支えている現在のシステムについて少しご紹介したいと思います。</p>

<p>なお、「みんなの会」については、先日公開されたSELECKの記事や、本ブログの竹内（当社チーフテクノロジスト）の記事でもご紹介しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fseleck.cc%2Farticle%2F11" title="ベンチャーからグローバル企業へ　ユーザベースCTOが作った「ニコ動」式の全社会議 | SELECK" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://seleck.cc/article/11">ベンチャーからグローバル企業へ　ユーザベースCTOが作った「ニコ動」式の全社会議 | SELECK</a></iframe><cite class="hatena-citation"><a href="https://seleck.cc/article/11">seleck.cc</a></cite>
<iframe src="http://tech.uzabase.com/embed/2015/06/01/143202" title="ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">tech.uzabase.com</a></cite></p>

<h3>目次</h3>

<ul>
<li><a href="#1">Zoomを使って全世界と中継</a></li>
<li><a href="#2">スライドの配信もZoomの画面共有で</a></li>
<li><a href="#3">「参加者の顔が見えること」が何より重要</a></li>
<li><a href="#4">Wii Uのマイクも使って音声環境を改善</a></li>
<li><a href="#5">有志メンバーによる同時通訳</a></li>
<li><a href="#6">ニコニコメソッドプレゼンで一体感のあるコミュニケーション</a></li>
<li><a href="#7">まとめ</a></li>
</ul>


<h2><a name="1"></a>Zoomを使って全世界と中継</h2>

<p>「みんなの会」の中心となるWeb会議システムですが、<a href="http://zoom.us/">「Zoom」</a>という製品を使用しています。いろいろな製品がある中で、「Zoom」では最大100ユーザまで同時接続可能というところが大きな特長です。</p>

<p>ユーザベースで現在使用しているのは25ユーザまでのプランで、海外拠点の各メンバーが接続するだけでなく、在宅や出張先からのリモートでの参加も出来ています。</p>

<p>なお、Zoomの無料アカウントでは最大40分で会議が切れてしまうという制限があるため、長時間会議を行う場合はProアカウント（$9.99/Month）が必要になります。</p>

<p>会議への参加は、主催者からの招待メール中のリンクをクリックすることで行いますが、初めて参加する場合はアプリのインストールも自動的に行われます。</p>

<p>Windows、Macはもちろん、iPad・iPhoneやAndroid用のアプリも公開されていて、スマートフォンでも後述の画面共有やチャットを含めた一通りの機能が可能です。</p>

<p>「Zoom」はなかなか高機能でよく出来ていると思うのですが、「Skype」などに比べると若干取っつきにくいためか、日本ではあまり知られていなさそうです。これからの普及に期待しています。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fzoom.us%2F" title="Video Conferencing, Web Conferencing, Online Meetings, Screen Sharing" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://zoom.us/">Video Conferencing, Web Conferencing, Online Meetings, Screen Sharing</a></iframe><cite class="hatena-citation"><a href="http://zoom.us/">zoom.us</a></cite></p>

<h2><a name="2"></a>スライドの配信もZoomの画面共有で</h2>

<p>「みんなの会」では、東京オフィスのプロジェクター画面に、発表内容をまとめたプレゼンテーションファイルを映します。同時に、「Zoom」の画面共有機能によって、海外やリモートでの参加者にも同じ画面が表示できます。</p>

<p>リモート表示ではレスポンスが気になるところですが、スライド切り替え時の反映もスムーズですし、画質がオリジナルより大きく劣ることもありませんので、十分実用的だと思います。</p>

<p>「Zoom」の画面共有では、共有対象のウィンドウをアプリ単位もしくはデスクトップ全体で指定します。「みんなの会」のプレゼンテーションファイルはGoogle Driveのスライド形式（Googleスライド）で作成しており、ブラウザにてプレゼンテーションを行いますので、Google Chromeのウィンドウを共有しています。ケースバイケースですが、他の会議では、お手軽にデスクトップ全体を共有することも多いです。</p>

<p>ところで、スライドを開いて、メニューから「プレゼンテーションを開始」を実行すると、プレゼンテーションが全画面で表示されますが、Zoomでブラウザウィンドウを共有している場合は、全画面表示は共有対象外となるので、他のユーザにスライド画面が映らなくなってしまいます。</p>

<p>そこで、Google Chromeを使用する場合のみですが、「スピーカーノートを使って開始」のメニューを実行すると、ブラウザのタブ内にプレゼンテーション画面が表示されます。少しマニアックな話ですが、Zoomを使ってGoogleスライドの画面共有を行う場合はこの方法がおすめです。</p>

<p>ちなみにGoogleスライドですが、PowerPoint等と比較すると凝ったデザインや動きのものは作成しにくいですが、一つのファイルを複数人で同時に編集することが可能で、マージや差し替えの手間が省けるので、こういった会議の資料作成には非常に便利です。</p>

<p>なお、PowerPoint等のプレゼンテーションファイルからの変換も可能ですが、レイアウトが崩れることが多いので、注意が必要です。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.google.com%2Fintl%2Fja_jp%2Fdrive%2F" title="Google ドライブ - 写真やドキュメントなど、ファイルのクラウド ストレージとバックアップ" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.google.com/intl/ja_jp/drive/">Google ドライブ - 写真やドキュメントなど、ファイルのクラウド ストレージとバックアップ</a></iframe><cite class="hatena-citation"><a href="https://www.google.com/intl/ja_jp/drive/">www.google.com</a></cite></p>

<h2><a name="3"></a>「参加者の顔が見えること」が何より重要</h2>

<p>「Zoom」では、会議の参加者の映像を画面に映すことが可能です。参加者がカメラを持っている場合に限定されますが、やはり声だけ聞こえるよりも、顔の表情も一緒に見えるのは重要なポイントだと思います。</p>

<p>なお、東京オフィスの場合は会議室に何十人ものメンバーが集まるので、通常のWebカメラでは全員を1つの画面に映すことは困難です。そこでいろいろ試しているので、少し紹介します。</p>

<ul>
<li>BUFFALOの<a href="http://buffalo.jp/product/multimedia/web-camera/bsw180abk/">「BSW180ABK」</a>というWebカメラは、180°の広角レンズで会議室全体の様子を映すことが出来て便利です。
ただし、ズーム機能も無いため、細かい部分を映すのには向いていません。</li>
<li>発表者の表情が見えなかったり、質問者が誰か分からないという意見が挙がっていたので、私物のDVビデオカメラを持ち込んでみました。カメラマンが発表者や質問者にズームしたり、会議室全体を映したりと工夫出来るし、映りが良いと好評なようです。</li>
</ul>


<p>しばらくはDVビデオカメラを使用してみたいと思いますが、段々と設備が大がかりになってきました。</p>

<p>なお、MacへのDVビデオカメラの接続ですが、<a href="http://store.apple.com/jp/product/MD464ZM">「Thunderbolt - FireWireアダプタ」</a>と9pin-4pinのFireWireケーブルを使用しています。これで、MacからはWebカメラと同様のビデオデバイスとして認識されますので、Zoomの設定画面にて選択することが可能になります。</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00E0D1RWI/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/31kRCg1Rh-L._SL160_.jpg" class="hatena-asin-detail-image" alt="iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK" title="iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00E0D1RWI/hatena-blog-22/">iBUFFALO マイク内蔵60万画素WEBカメラ 180°広角モデル BSW180ABK</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> バッファロー</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/08/25</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B00E0D1RWI/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008RXYOKY/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/21sRgqMdUKL._SL160_.jpg" class="hatena-asin-detail-image" alt="アップル Thunderbolt - FireWireアダプタ MD464ZM/A" title="アップル Thunderbolt - FireWireアダプタ MD464ZM/A"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008RXYOKY/hatena-blog-22/">アップル Thunderbolt - FireWireアダプタ MD464ZM/A</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> アップル</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B008RXYOKY/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div></p>

<h2><a name="4"></a>Wii Uのマイクも使って音声環境を改善</h2>

<p>「みんなの会」では、海外を含めて、毎回20台ぐらいのPCがWeb会議に参加しています。</p>

<p>インターネットを使用しているので、一時的に音声が途切れたりする時もありますが、音声の品質や遅延はあまり気にならないため、その点でもZoomは高評価です。</p>

<p>ところで、会議室に複数の人が集まってWeb会議に参加する場合、通常ではマイクは一つだけ設置すると思いますが、マイクから離れた場所にいる人の声が聞き取りづらく、聞く側にとってストレスになることがしばしばあります。</p>

<p>そこで、マイクについてもいろいろ試しているので、少し紹介いたします。</p>

<ul>
<li>SANWA DIRECTの<a href="http://direct.sanwa.co.jp/ItemPage/400-MC001">「400-MC001」</a>というUSB接続のスタンドマイクは、高集音かつ全指向性の本格的な製品です。
声の大きさにもよりますが、10mぐらい離れた場所に座っている人の発言でもちゃんと拾ってくれるので、なかなか優秀です。</li>
<li><a href="http://www.nintendo.co.jp/wiiu/hardware/accessories/index.html">Nitendo Wii U</a>のワイヤレスマイク「WUP-019」ですが、実はWindowsやMacでも使用することが出来ます。マイクのレシーバーをUSB端子に差すだけで、Macから音声入力デバイスと認識されるので、とても簡単です。音声も非常にクリアに聞こえるので、大いに活用しています。</li>
<li>Wii Uでは2本同時に使用出来るそうなので、Macにワイヤレスマイク「WUP-019」を2台繋いでみましたが、残念ながら1つしか認識しないようです。</li>
</ul>


<p>ワイヤレスマイクとスタンドマイクを同時に使用することが出来れば最高なのですが、Zoomではマイク、スピーカーとも1つのデバイスしか設定出来ません。</p>

<p>そこで、何か手は無いかと探したところ、Macでは以下のソフトウェアを組み合わせることで可能ということが分かりました。</p>

<ul>
<li><a href="https://code.google.com/p/soundflower/">Soundflower</a>

<ul>
<li>「仮想サウンドデバイス」で、例えばMacでインターネット中継を行う時に、同じMacで再生した音楽ファイルを配信するような場合に使用出来ます。</li>
</ul>
</li>
<li><a href="http://blog.kawauso.com/ladiocast">LadioCast</a>

<ul>
<li>複数デバイスからの音声入力をミックスしたり、複数デバイスに出力することの出来るミキサーです。</li>
</ul>
</li>
</ul>


<p>LadioCastでワイヤレスマイクと集音マイクをミキシングしてSoundflowerに出力し、Zoomの音声入力デバイスとしてSoundflowerを指定することで、両方のマイクの音声がWeb会議の参加者に聞こえるという仕組みです。</p>

<p>これによって、発表者がワイヤレスマイクで話しながら、聴衆の拍手や笑い声を集音マイクで同時に拾うことが出来ています。さらに、LadioCastで発表者の声に合わせて音量を調整することで、より聞き取りやすくなっていると思います。</p>

<p>また、現在のオフィスでは、HDMI出力のプロジェクタにスピーカーが付いており、東京オフィス以外のメンバーの発言はこのプロジェクターから聞こえます。</p>

<p>ハウリングを避けるため、通常ではマイクの音はスピーカーから聞こえないのですが、LadioCastの設定を工夫して、ワイヤレスマイクの音声のみ、プロジェクターに出すようにしています。東京オフィスのように広い部屋では、発表者の声が聞こえにくいこともあるので、この簡易拡声器機能がとても便利です。</p>

<p>なお、「Zoom」に参加している各メンバーは、基本的にマイクはミュート状態で、発言時のみマイクをオンにするようにしています。そのままでは、キーボードの操作音や周囲の会話などを拾ってしまうためです。</p>

<p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008F1S3PU/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41GPhvAFODL._SL160_.jpg" class="hatena-asin-detail-image" alt="サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001" title="サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B008F1S3PU/hatena-blog-22/">サンワダイレクト WEB会議マイク USBマイク PCマイク 高集音 全指向性&単一指向性 400-MC001</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> サンワダイレクト</li><li><span class="hatena-asin-detail-label">メディア:</span> Personal Computers</li><li><a href="http://d.hatena.ne.jp/asin/B008F1S3PU/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00FKSWGVI/hatena-blog-22/"><img src="http://ecx.images-amazon.com/images/I/41DTcM%2BHU5L._SL160_.jpg" class="hatena-asin-detail-image" alt="Wii U ワイヤレスマイク" title="Wii U ワイヤレスマイク"></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00FKSWGVI/hatena-blog-22/">Wii U ワイヤレスマイク</a></p><ul><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> 任天堂</li><li><span class="hatena-asin-detail-label">発売日:</span> 2013/12/12</li><li><span class="hatena-asin-detail-label">メディア:</span> Video Game</li><li><a href="http://d.hatena.ne.jp/asin/B00FKSWGVI/hatena-blog-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
<a href="https://code.google.com/p/soundflower/">https://code.google.com/p/soundflower/</a><cite class="hatena-citation"><a href="https://code.google.com/p/soundflower/">code.google.com</a></cite>
<a href="http://blog.kawauso.com/ladiocast">http://blog.kawauso.com/ladiocast</a><cite class="hatena-citation"><a href="http://blog.kawauso.com/ladiocast">blog.kawauso.com</a></cite></p>

<h2><a name="5"></a>有志メンバーによる同時通訳</h2>

<p>海外のオフィスも繋いで会議を行う場合に避けられない問題として、言語の壁があります。これについても、様々なトライアルを行ってきました。</p>

<p>例えば、「みんなの会」を資料・発表とも英語で行っていた時期もありました。ユーザベースには英語の得意なメンバーも多いので、各チームとも流暢な英語にて発表が行われていましたが、もちろん全員そうではありません。私は英語が得意ではないので、事前に英訳した原稿を用意して臨んだのですが、ちゃんと伝わっていたのか怪しく、申し訳なかったです。</p>

<p>現在は、日本語版の資料と英語版の資料を用意して、2画面あるプロジェクターに片方ずつ映すようにしています。なお、Zoomで共有するのは英語版のみで、日本語版の画面はそれ専用のPCで映しています。ページ送りはそれぞれ手動で進めていますが、自動的に同期する仕組みも構想中です。</p>

<p>発表は当人の得意な言語で行われますが、Zoomのチャットで、有志メンバーによる同時翻訳が行われています。このため、プロジェクター画面に、プレゼンテーション資料とチャット画面を並べて映しています。翻訳を行うメンバーは、会議室に持ち込んだPCからZoomの会議に参加して、日本語の発表や質問は英語に、英語の発表や質問は日本語に訳して、リアルタイムにチャットに投稿しています。</p>

<p>また、チャットによる文字の通訳だけでは思いが伝わりにくいということで、さらに有志の方に立候補していただき、発表の同時通訳にもチャレンジしています。発表と通訳を交互に行う逐次通訳では倍の時間が必要なので、同時通訳で行うのが理想ですが、システム面での難易度も上がります。</p>

<p>そもそも、Web会議システムで二カ国語の音声に対応しているものはあまり無いようで、Zoomもサポートしていません。そこで、Zoomとは別の、通訳音声用の独立した会議システムにて配信しています。具体的には、各オフィスの専用PCをSkypeで繋いでおり、海外オフィス側でもSkype用のPCで通訳の音声を受信しています。通訳の音声はオフィス全体にスピーカーで流しており、各メンバーは必要に応じてZoomの音声と聞き分けています。</p>

<p>このような構成にしている理由は、当初は1台でZoomとSkypeを両方配信しようとしたのですが、配信側も受信側も準備にも時間がかかるし、PCの動作も不安定になってしまったためです。「みんなの会」は全社で行う会議ですので、トラブルが起きた場合でもすぐ復旧出来るように、なるべくシンプルな構成を心がけています。</p>

<p>なお、資料に沿った発表だけとは限らないし、専門用語が多く出てくる内容もあるので、翻訳を引き受けていただいている方々にはとても感謝しています。当社代表・新野による「白熱教室」という、その場でのディスカッションが主体となることもあるのですが、そういう会では翻訳がかなりハードだそうです。</p>

<h2><a name="6"></a>ニコニコメソッドプレゼンで一体感のあるコミュニケーション</h2>

<p>「みんなの会」に社員がもっと参加するための仕組みとして、当社オリジナルの“字幕コメントシステム”を取り入れました。これは、Google Chromeの機能拡張を使って、発表内容についての参加者からのコメントを、ニコニコ動画のようにプレゼンテーション画面上に字幕で流すものです。本記事の冒頭に示した画像が、スライドに字幕コメントがつけられている様子です。（ブログで紹介用に弾幕を貼ってもらいました。）</p>

<p>このシステムは、当社チーフテクノロジストの竹内が一晩で作成したそうです。これについては、当ブログにて竹内から技術背景についてご紹介しました。</p>

<p><iframe src="http://tech.uzabase.com/embed/2015/06/01/143202" title="ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/01/143202">tech.uzabase.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fchimerast%2Fniconico-speenya" title="chimerast/niconico-speenya" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://github.com/chimerast/niconico-speenya">chimerast/niconico-speenya</a></iframe><cite class="hatena-citation"><a href="https://github.com/chimerast/niconico-speenya">github.com</a></cite></p>

<p>全社会議というと真面目で少し堅いイメージがありますので、当初はこのようなコンテンツが受け入れられるのか不安でした。ところが、いざ始めて見ると予想以上に好評で、もはや「みんなの会」に無くてはならないツールになりました。</p>

<p>例えば、SPEEDAやNewsPicksの新機能のリリースについての報告では、「いいね！」のマークが画面を埋め尽くしたり、バックオフィスからの経費精算手順の説明では、いつも間違っていた人から「すみませんでした」というコメントがあったり…。今までよりもリアクションが遙かにしやすくなり、会議に参加しているという意識が強くなって、「みんなの会」の雰囲気もかなり変わったと思います。</p>

<h2><a name="7"></a>まとめ</h2>

<p>今回の記事では、「みんなの会」のシステムについて、一通りご紹介いたしました。まだまだ完成形とは言えず、課題も多いのですが、その一方でかなり複雑になってしまっているので、よりシンプルにしていきたいと思います。機会があれば、さらに細かい部分についても、詳しく説明してみたいと思います。</p>

<p>ユーザベースの「世界一の経済メディアをつくる」というミッション実現のため、今後さらに社員数も増え、新しいオフィスも開設されていくと思います。物理的な距離があっても、「みんなの会」には全てのメンバーが同じように参加出来るべきです。完全な実現は難しいかもしれませんが、メンバーのアイデアとテクノロジーの力で、少しでも理想に近付けられればと思います。</p>

<p>ユーザベースでは、SPEEDAやNewsPicksに携わっていただくエンジニアを募集中です。こういったシステム構築や、企業カルチャーをつくる「みんなの会」などの取り組みに興味のある方も、採用ページやWantedlyからお気軽にご連絡ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.uzabase.com%2Fcareer%2F%23career-sec1" title="CAREER | 株式会社ユーザベース | UZABASE, Inc." class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://www.uzabase.com/career/#career-sec1">CAREER | 株式会社ユーザベース | UZABASE, Inc.</a></iframe><cite class="hatena-citation"><a href="http://www.uzabase.com/career/#career-sec1">www.uzabase.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11448">www.wantedly.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11497" title="巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11497">巨大金融メディアに打ち勝つサービスをつくりたいエンジニアWanted! by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/11497">www.wantedly.com</a></cite>
<iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F19575" title="情報社会にイノベーションを起こせ！エンジニアインターン募集 by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/19575">情報社会にイノベーションを起こせ！エンジニアインターン募集 by 株式会社ユーザベース</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/projects/19575">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/8454420450087345655
enclosure : 
title : ニコニコメソッドプレゼンを全社会議に取り入れてみたら会議が面白くなった
link : http://tech.uzabase.com/entry/2015/06/01/143202
description : <p>技術チーム竹内(@<a class="twitter-user-screen-name" href="http://twitter.com/chimerast">chimerast</a>)です。</p>

<p>作ったものが知らない間に<a href="https://seleck.cc/article/11">記事</a>のネタにされていたので、どんな仕組みで動いているか技術的なところについて書いてみます。どう使われているかの細かい話は、後日ブログ内に別の記事が上がる予定です。</p>

<p><i>（6/2 追記：「みんなの会」の動画配信システムについて記事を投稿しました。</i>）
<iframe src="http://tech.uzabase.com/embed/2015/06/02/183335" title="ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編） - UZABASE Tech Blog" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;"><a href="http://tech.uzabase.com/entry/2015/06/02/183335">ユーザベースの自由な社風を支える「みんなの会」のつくり方（動画環境編） - UZABASE Tech Blog</a></iframe><cite class="hatena-citation"><a href="http://tech.uzabase.com/entry/2015/06/02/183335">tech.uzabase.com</a></cite></p>

<h3>全社会議で「ニコニコメソッドプレゼン」</h3>

<p>だいぶ昔にWeb業界界隈で話題になった(?)ニコニコメソッドプレゼンを、週一の全社会議で取り入れたところ、プレゼンのエンタメ性が増して以前よりだいぶ面白いものになりました。プレゼンを聞く側の一体感がでて面白くなったのに加え、プレゼンする側としても、今まで聞いてるんだか聞いていないんだかよくわからない状態だったのが、反応が目に見えるようになってやりやすくなりました。</p>

<p>ニコニコメソッドプレゼンとは、視聴者がスマホ等でコメントを入力して、そのコメントがニコニコ動画のようにプレゼン資料の上に流れる、視聴者参加型のプレゼンです。</p>

<p>やるとこんな感じになります(全社会議内でやっている社員の自己紹介タイム)↓</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/h0rErlGD0JM" frameborder="0" allowfullscreen></iframe>


<p>ニコニコメソッドを取り入れることになったきっかけは、全社会議への参加者のコミットメントをどうやったら上げることが出来るかどうかみたいな事を話し合った際に、</p>

<ul>
<li>発言しようにも人数が多くなって発言しづらい雰囲気ができあがってしまっている</li>
<li>海外拠点等のリモートからの参加時に、発言がしづらかったり、会議の盛り上がり具合が伝わりにくい</li>
</ul>


<p>という声があがり、その解決策として、</p>

<ul>
<li>ニコニコ動画みたいに横から匿名の突っ込みを入れるようにできたら発言の機会が増えるんじゃないか</li>
</ul>


<p>という意見が出たことによるものです。</p>

<p>ちょうど、視聴者参加型プレゼンツールを作ってみたいなと思っていたこともあり、一晩夜なべして作りました。</p>

<h3>作ったもの: Chrome機能拡張「NicoNico SPEENYA」</h3>

<p>(Chromeウェブストアでの公開はしてません)</p>

<p>全社会議では、色んなチームが進捗報告することもあり、全員で一つのプレゼン資料を編集出来るGoogle Slidesを使用して発表を行っています。</p>

<p>プレゼンのためのほかのツールを使ったり作ったりすることは、移行コストや作成コストの面で考えられなかったので、Google Slidesをそのまま使うことにして、Chrome機能拡張でその上にコメントを重ねるようなものを作りました。</p>

<p>コメントをするだけでは面白くないので、いいねボタンをつけて、押すと親指の画像が浮き上がって消えるような機能や、それを応用して任意の画像を送り込むような機能もつけてます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150531/20150531234517.gif" alt="f:id:chimerast:20150531234517g:plain" title="f:id:chimerast:20150531234517g:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>プログラムはGitHub上でひっそり公開しています。一般向けに機能拡張およびサーバを公開することも考えたのですが、チャンネル機能を作るモチベーションがわかないのと、セキュリティの事を考えると使う人ごとにサーバ立ててもらった方が良い気がするので、そのままにしています。</p>

<p>Forkして拡張していただいたり、面白い機能をつけてPull Requestを送っていただけるとうれしいです。</p>

<p><a href="https://github.com/chimerast/niconico-speenya">chimerast/niconico-speenya &middot; GitHub</a></p>

<h3>作るのに使ったもの</h3>

<ul>
<li><a href="http://socket.io/">Socket.IO</a></li>
<li><a href="https://developer.chrome.com/extensions/getstarted">Google Chrome機能拡張</a></li>
<li><a href="http://www.w3.org/TR/web-animations/">Web Animations API</a></li>
<li><a href="https://nodejs.org/">Node.js</a> + <a href="http://expressjs.com/">Express</a></li>
</ul>


<h4>Socket.IO</h4>

<p>ブラウザで双方向の何かをつくる場合は鉄板の選択ですね。</p>

<p>Chrome機能拡張側でSocket.IOのサーバへの接続を行い、サーバ側からの通知を待って、コメントやイメージ表示の通知があったらそれを表示するという事をやっています。</p>

<h4>Google Chrome機能拡張</h4>

<p>Chromeには、表示される全てのページへJavaScriptを挿入するような機能拡張を作るための拡張ポイントが用意されているのでそれを使いました。</p>

<p><a href="https://developer.chrome.com/extensions/content_scripts">Content Scripts - Google Chrome</a></p>

<p>これに加えて、ツールバーにボタンを置いて、コメント表示のON/OFFを切り替えられるようにしていたりします。</p>

<h4>Web Animations API</h4>

<p>あまり有名ではない機能だと思いますが、HTML5標準のアニメーションAPIです。jQuery.animate()と同じようなものだと思って良いと思います。</p>

<p>ブラウザネイティブなので、動作が軽かったりリソース消費が少なかったりするみたいです。ただし、まだドラフトなのでサポートしていないブラウザも多いです。</p>

<p>あまり依存ライブラリを増やしたくなかったのと、どんなもんなのか使ってみたかったのでアニメーションAPIとして採用しました。</p>

<h4>Node.js + Express</h4>

<p>こったことはせず、普通のAPIサーバとしての使い方をしています。Expressで待ち受けているURLにPOSTが送信されると、Socket.IOを呼び出して、Chrome機能拡張側に通知を行います。</p>

<h3>まとめ</h3>

<p>視聴者参加型のプレゼンは盛り上がります。また、プレゼンする側も面白いプレゼンを作ろうという気になります。</p>

<p>プログラムの総行数はクライアントサーバ合わせて200行ぐらいです。ありものの機能を使うとさくさくっと作れます。</p>

<h3>宣伝</h3>

<p>ユーザベースでは、2015年6月14日(日)に、<a href="http://e2d3.org/about-e2d3-2/?lang=ja">E2D3プロジェクト</a>と一緒にハッカソンを行います。</p>

<p>スマホでのデータビジュアライズ方法が、世の中で試行錯誤されている中、みんなで考えてみようというハッカソンです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fe2d3.connpass.com%2Fevent%2F14868%2F" title="NewsPicks &amp; SPEEDA スマートデータエクスペリエンス ハッカソン (2015/06/14 10:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://e2d3.connpass.com/event/14868/">NewsPicks &amp; SPEEDA スマートデータエクスペリエンス ハッカソン (2015/06/14 10:00〜)</a></iframe><cite class="hatena-citation"><a href="http://e2d3.connpass.com/event/14868/">e2d3.connpass.com</a></cite></p>

<p>ネタ的に面白いと思うので是非ご参加ください。</p>

<p>E2D3プロジェクトについてはまた別で記事を書こうと思います。</p>

guid : hatenablog://entry/8454420450095983310
enclosure : 
title : 恵比寿のスタートアップエンジニアが集まる「えびスタ！」#2 を開催しました（ユーザベース、クックパッド、VASILY、エウレカ、はてな）
link : http://tech.uzabase.com/entry/2015/05/15/170206
description : <p><a href="http://tech.uzabase.com/entry/2015/04/10/194732">既報</a>の通り、恵比寿近辺のスタートアップエンジニアが集まる勉強会「えびスタ！」#2 を開催しました。少し遅れましたが開催レポートをお届けします。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150513/20150513145913.jpg" alt="f:id:uzabase:20150513145913j:plain" title="f:id:uzabase:20150513145913j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h1>発表資料</h1>

<p>第2回となる今回は、「大規模データの料理法」と題してユーザベース、クックパッド、VASILY、エウレカ、はてなのエンジニアが集まり、各社の事例をご紹介しました。発表内容と資料を以下にまとめます。</p>

<h2>アドベリフィケーションサービス「BrandSafe はてな」の裏側（株式会社はてな 山家 雄介）</h2>

<blockquote><p>2014年8月に株式会社はてなの初のアドテクノロジープロダクトとしてリリースされた「BrandSafe はてな」について、システムを構成するアーキテクチャや、はてな特有のデータを活用して高精度にブランド毀損サイトを判定するための技術的アプローチ、DSP上で広告インプレッションがあった全URLをベースにした、膨大なアドベリフィケーションリクエストをさばくためのインフラ的な工夫などについてお話をする予定です。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fdocs.google.com%2Fpresentation%2Fd%2F1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0%2Fedit%3Fusp%3Dsharing" title="アドベリフィケーションサービス「BrandSafe はてな」の裏側" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://docs.google.com/presentation/d/1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0/edit?usp=sharing">アドベリフィケーションサービス「BrandSafe はてな」の裏側</a></iframe><cite class="hatena-citation"><a href="https://docs.google.com/presentation/d/1_m8XTOt4Rz--aVGN-qDtrmuaGLu9eWuBA-CRAJWBKt0/edit?usp=sharing">docs.google.com</a></cite></p>

<h2>企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘（株式会社ユーザベース 北内啓）</h2>

<blockquote><p>急激に増加し続けるSPEEDAの企業データを扱う上での課題や取り組み、今後の展望などについて紹介します。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/C8bvFGYNjwBTDy" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/tau3000/speeda-47444622" title="企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘" target="_blank">企業・業界データサービスSPEEDAの複雑怪奇なデータとの格闘</a> </strong> from <strong><a href="http://www.slideshare.net/tau3000" target="_blank">Akira Kitauchi</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/tau3000/speeda-47444622">www.slideshare.net</a></cite></p>

<h2>iQONのアプリ内のデータ分析基盤の紹介や分析手法について紹介します（今村雅幸 株式会社VASILY）</h2>

<blockquote><p>iQONのアプリ内のデータ分析基盤の紹介や分析手法について紹介します</p></blockquote>

<h3>発表資料</h3>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="596" id="talk_frame_296543" mozallowfullscreen="true" src="//speakerdeck.com/player/aa71354e8c1140278ba2ac59c4f359ae" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/kyuns/iqon-bigquery">speakerdeck.com</a></cite></p>

<h2>ベンチャーならではRedShiftの低コスト運用（株式会社エウレカ 鉄本環）</h2>

<blockquote><p>pairsではRedShiftを用いてマーケティングデータや、アルゴリズム解析をしていますが、 これを低価格で運用しているTIPSをお話いたします。</p></blockquote>

<h3>発表資料</h3>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="463" id="talk_frame_296950" mozallowfullscreen="true" src="//speakerdeck.com/player/864b12be51a445e28e5513e9d3dcf821" style="border:0; padding:0; margin:0; background:transparent;" webkitallowfullscreen="true" width="710"></iframe><cite class="hatena-citation"><a href="https://speakerdeck.com/tamaki0506/bentiyanaradehafalseredshiftdi-kosutoyun-yong">speakerdeck.com</a></cite></p>

<h2>リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ（クックパッド株式会社 井上寛之）</h2>

<blockquote><p>「たべみる」は、クックパッドの検索データをウェブから分析できる法人向けのウェブサービスです。 そのアーキテクチャの特徴としてサービスのバックエンドDBとバッチの両方でRedshiftを使っていることが挙げられます。 今回は、Redshiftの可用性を高めるためのクックパッド独自のアーキテクチャについて紹介します。</p></blockquote>

<h3>発表資料</h3>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/3HMWdJOMwi9CkJ" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/inohiro/ebi-sta" title="リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ" target="_blank">リアルタイム分析サービス『たべみる』を支える高可用性アーキテクチャ</a> </strong> from <strong><a href="//www.slideshare.net/inohiro" target="_blank">Hiroyuki Inoue</a></strong> </div></p>

<h1>懇親会はエビスビールとピザ＋LT！</h1>

<p>懇親会ではピザと、恵比寿スタートアップということで<b>エビスビール</b>をご用意しました。希望者によるLTもとても盛り上がりました。発表いただいた皆さまありがとうございました！</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150513/20150513151035.jpg" alt="f:id:uzabase:20150513151035j:plain" title="f:id:uzabase:20150513151035j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h2>LT：GoWorker調査（大貫）</h2>

<blockquote><p>データ処理を支えるGoWorkerあたりの紹介など</p></blockquote>

<h3>発表資料</h3>

<p>（確認中）</p>

<h2>LT：E2D3プロジェクトの紹介（株式会社ユーザベース CTO たけうちひでゆき）</h2>

<blockquote><p>Excelで様々なデータ可視化を行えるようになる予定の、E2D3というオープンソースで進めているプロジェクトを紹介します。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/n3gL3DWPlosXlz" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/chimerast/e2d3-47364632" title="E2D3プロジェクトのご紹介@えびスタ！" target="_blank">E2D3プロジェクトのご紹介@えびスタ！</a> </strong> from <strong><a href="http://www.slideshare.net/chimerast" target="_blank">Hideyuki Takeuchi</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/chimerast/e2d3-47364632">www.slideshare.net</a></cite></p>

<h2>LT：mecab-ipadic-NEologd の効果的な使い方（LINE株式会社 佐藤敏紀）</h2>

<blockquote><p>「mecab-ipadic-NEologd」は 形態素解析エンジン MeCab のシステム辞書である IPA 辞書を拡張するオープンソースな辞書です。大きな特徴は「大量の新語・固有表現を読み仮名付きで採録されていること」と「最低でも月二回(初旬と中旬)、辞書データが更新されること」です。またライセンスは Apache License 2.0 ですので、安心して製品開発や研究にご利用いただけます。今回は「mecab-ipadic-NEologd」を実務で使う際にどうするべきかをお伝えし、使用例のデモをご紹介いたします。</p></blockquote>

<h3>発表資料</h3>

<p><iframe src="https://www.slideshare.net/slideshow/embed_code/key/xfahOOsXcA159j" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/overlast/effective-mecabipadicneologdebisuta-1" title="mecab-ipadic-NEologd の効果的な使い方" target="_blank">mecab-ipadic-NEologd の効果的な使い方</a> </strong> from <strong><a href="http://www.slideshare.net/overlast" target="_blank">Toshinori Sato</a></strong> </div><cite class="hatena-citation"><a href="http://www.slideshare.net/overlast/effective-mecabipadicneologdebisuta-1">www.slideshare.net</a></cite></p>

<h1>恵比寿スタートアップを盛り上げていきます！</h1>

<p>スタートアップを追いかけている週アスPLUSによると、「スタートアップ集積地」として恵比寿が最近盛り上がってきているそうです。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fweekly.ascii.jp%2Felem%2F000%2F000%2F334%2F334134%2F" title="バイアウトが話題のエウレカほか注目企業多数！ 押さえておきたい恵比寿スタートアップ【2015年5月】" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://weekly.ascii.jp/elem/000/000/334/334134/">バイアウトが話題のエウレカほか注目企業多数！ 押さえておきたい恵比寿スタートアップ【2015年5月】</a></iframe><cite class="hatena-citation"><a href="http://weekly.ascii.jp/elem/000/000/334/334134/">weekly.ascii.jp</a></cite></p>

<p>えびスタ！では、恵比寿のスタートアップやエンジニアコミュニティを盛り上げるために今後もイベントを開催してまいります。運営する株式会社ユーザベース・株式会社ニューズピックスにご興味のある方は、以下のWantedlyなどからお気軽にご連絡ください！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fcompanies%2Fuzabase-inc" title="株式会社ユーザベースの最新情報 - Wantedly" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/companies/uzabase-inc">株式会社ユーザベースの最新情報 - Wantedly</a></iframe><cite class="hatena-citation"><a href="https://www.wantedly.com/companies/uzabase-inc">www.wantedly.com</a></cite></p>

guid : hatenablog://entry/8454420450094322238
enclosure : 
title : 「えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな」開催のお知らせ
link : http://tech.uzabase.com/entry/2015/04/10/194732
description : <p>SPEEDA/NewsPicksを提供する株式会社ユーザベースでは、エンジニアの技術力向上と交流を目的として「えびスタ！（恵比寿スタートアップ勉強会）」を開催しています。2015年4月23日（木）に「えびスタ #2」を開催しますのでお知らせいたします。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150410/20150410193802.png" alt="f:id:uzabase:20150410193802p:plain" title="f:id:uzabase:20150410193802p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>第2回となる今回は、クックパッド、VASILY、エウレカ、そして特別ゲストとして京都からはてなのエンジニアをお呼びして開催します。各社の事例をもとに、アドテクを支える技術やRedShiftの活用法などについてお話する予定です。</p>

<p>また後半では軽食（エビスビールとピザ！）を交えたLTや交流会も開催予定です。恵比寿のスタートアップと語り合いたい、他社エンジニアと交流したいという方はぜひお気軽にご参加いただければと思います。（LT参加者も募集しています。LTしていただける方は応募時に「LTしたい！」とコメントください。）</p>

<p>イベント詳細や申し込みについては以下の connpass ページをご覧ください。</p>

<p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Febista.connpass.com%2Fevent%2F13953%2F" title="えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな (2015/04/23 19:00〜)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="http://ebista.connpass.com/event/13953/">えびスタ！#2 ~大規模データの調理法~ ユーザベースxクックパッドxVASILYxエウレカxはてな (2015/04/23 19:00〜)</a></iframe><cite class="hatena-citation"><a href="http://ebista.connpass.com/event/13953/">ebista.connpass.com</a></cite></p>

guid : hatenablog://entry/8454420450091056412
enclosure : 
title : IntelliJ IDEA + JRebel セミナーを開催しました
link : http://tech.uzabase.com/entry/2015/03/30/175726
description : <p>NewsPicks 開発チームの文字です。</p>

<p>先週の金曜日、株式会社サムライズムの山本裕介さん（<a href="https://twitter.com/yusuke">@yusuke</a>）に弊社オフィスまで来て頂き、IntelliJ IDEA + JRebel のセミナーを開催して頂きました。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150329/20150329161416.jpg" alt="f:id:uzabase:20150329161416j:plain" title="f:id:uzabase:20150329161416j:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>弊社は SPEEDA / NewsPicks ともにサーバーサイドの実装に Java を利用しています。私自身や一部メンバーは IntelliJ IDEA を使っているのですが、使い慣れた Eclipse を利用しているメンバーも多いため、今回 Eclipse から IntelliJ IDEA への移行を検討するためにセミナーを開いて頂きました（ちなみに iOS 開発を行っているメンバーは App Code を利用しています）。加えて、SPEEDA 開発チームで導入を検討している JRebel のデモも行って頂きました。</p>

<p>私が Eclipse から IntelliJ IDEA に移行したのは半年ほど前ですが、既に Eclipse に戻れなくなりつつあります。要因は幾つかあるのですが、パッと思い付くところだと以下でしょうか。</p>

<ul>
<li>全体的に動作が軽い・速い</li>
<li>デバッグ時の変数内容表示が使いやすい</li>
<li>プラグインが無くてもデフォルトで様々な言語／フレームワークのサポートがある</li>
<li>Postfix Completion が使いやすい</li>
</ul>


<p>総じて何もセットアップしなくても「痒いところに手が届く」IDE になっているのが魅力だなと感じています。Eclipse 時代には何かとプラグインを自作していましたが、IntelliJ IDEA では大抵のものは標準でサポートされています。</p>

<p>@yusuke さんのデモを見て私自身も様々な機能を知らなかったことに今更ながら気付きましたが（恥ずかしながら Chronon Debug や Live Edit・BTS 連携などは全く知りませんでした）、社内の開発メンバーも Postfix Completion を始めとした IntelliJ IDEA の様々な機能に驚きの声を上げており、本格的にチームでの導入を検討しようかという声もありました。</p>

<p>非常に勉強になるセッションでした。@yusuke さん、本当にありがとうございました！</p>

guid : hatenablog://entry/8454420450089701904
enclosure : 
title : Preserving Code Quality and Save Everyone’s Time with SonarQube
link : http://tech.uzabase.com/entry/2015/03/20/174914
description : <p>Hello. I'm Jason from SPEEDA's development team</p>

<p>A developer's work (and even life) revolves around writing and testing codes. As a developer, I, like many others, take pride in my codes which are clean, elegant, and bug-free. And so we do our best to achieve this.</p>

<p>I must admit, though, that even as a seasoned developer, I do have some shortcomings. SonarQube classifies these shortcomings as the "Seven Deadly Sins" which are considered as capital sins committed by developers everyday.</p>

<ol>
<li>Bugs and potential bugs</li>
<li>Coding standards breach</li>
<li>Duplicates</li>
<li>Lack of unit tests</li>
<li>Bad distribution of complexity</li>
<li>Spaghetti design</li>
<li>Not enough / too many comments</li>
</ol>


<p>For more description you can visit the SonarQube: <a href="http://docs.sonarqube.org/display/SONAR/Developers%27+Seven+Deadly+Sins">Developers&#39; Seven Deadly Sins - SonarQube - Confluence</a></p>

<p>One way to avoid these pitfalls is through peer review. We should not be afraid to ask others to review our codes so we can be aware of our weaknesses. Similarly, we should also take the time to review other's work. This helps ensure that we deliver quality but this does not guarantee 100% error-proof codes (after all, reviewers are also humans who commit errors). They may improve 90% of the code but will still miss the remaining 10%.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013622.png" alt="f:id:uzabase:20150320013622p:plain" title="f:id:uzabase:20150320013622p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>Some people claim that the practice of peer review is a waste of precious human resource. They argue that more experienced developer can contribute more to a project through other means other than reviewing their colleagues' codes. While they may have a point, in my experience, review improves everybody's coding skills because of the reviewers give correct solutions and tips. Meanwhile, the reviewee (or the developer receiving the feedback) learns from the more-experienced colleague. This exercise becomes an avenue for knowledge sharing in the company.</p>

<p>From the project management perspective, one would like to measure or quantify the developers' improvements in the peer review practice. But since we don't really count how many feedbacks a developer has for his code, we can't really give a number to the project managers.</p>

<p>But I believe that these problems can be managed through a platform to manage code quality called <b>SonarQube</b>.</p>

<h3>What is SonarQube?</h3>

<p><i>"SonarQube is the central place to manage code quality, offering visual reporting on and across projects and enabling to replay the past to follow metrics evolution."</i></p>

<p>It is open source, extensible with custom plugins (and we can even create one ourselves), we can integrate this with other systems (such as Jenkins), and supports 20+ programming language (In our case we will just use Java).</p>

<p>I've actually implemented this with our current codebase and there were, indeed, some simple misses in the codes (it might have been overlooked by the reviewers). But due to confidentiality, I chose to hide the numbers and the source codes here in this entry.</p>

<p>This is a screenshot of the dashboard of SonarQube's demo: <a href="http://nemo.sonarqube.org">SonarQube</a></p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013733.png" alt="f:id:uzabase:20150320013733p:plain" title="f:id:uzabase:20150320013733p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>We can see the technical debt (what the developers have to "pay" to fix the issues) is set to 82,176 days. Assuming that 1 person will work in 8 hours a day, it will take that developer to fix everything in 82,176 days. (And also assuming that it won't increase anymore). There are 14,937,000 lines of codes there, and 2,714,682 issues. Issues are categorized as Blocker, Critical, Major, Minor, Info. Depending on your company, you will need to determine how they should be dealt with.</p>

<p>In the code below, you can see SonarQube gives suggestions as to the best approach for this case. Of course, SonarQube will not always be correct since we may be following the company's coding standard. We can actually adjust the rules of SonarQube to fit our company's coding standard.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320013957.png" alt="f:id:uzabase:20150320013957p:plain" title="f:id:uzabase:20150320013957p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>This is another example of a code that doesn't follow JavaBean's Naming convention and the complexity of this code is quite high based from SonarQube's  calculation.</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014035.png" alt="f:id:uzabase:20150320014035p:plain" title="f:id:uzabase:20150320014035p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>You can also assign the technical debt tasks to your teammates (You can integrate this to your JIRA or Redmine so it creates tickets which the Project Leader could also manage)</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014054.png" alt="f:id:uzabase:20150320014054p:plain" title="f:id:uzabase:20150320014054p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>Here we can customized the rules SonarQube is following</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014111.png" alt="f:id:uzabase:20150320014111p:plain" title="f:id:uzabase:20150320014111p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>We can also see which codes got duplicated (or copy paste instead of refactoring and reusing the same code)</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014135.png" alt="f:id:uzabase:20150320014135p:plain" title="f:id:uzabase:20150320014135p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>And here is from another file with the same codes</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150320/20150320014147.png" alt="f:id:uzabase:20150320014147p:plain" title="f:id:uzabase:20150320014147p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>There are still tons of functionalities which SonarQube has but I haven't explored yet.</p>

<p>Regarding installation, setup is a breeze so I highly recommend you try it on your codebase.</p>

<h4>To sum up,</h4>

<p>SonarQube is not just for developers, but for everyone involved in the project:</p>

<ul>
<li>For developers, it helps them check if their code is correct and follows the correct coding standard.</li>
<li>For QA, it helps them check the test coverage of unit test (they make sure that every code is tested on unit level)</li>
<li>For Architects, it helps them check if the architecture of the system is correct, and that no codes are having a spaghetti code design.</li>
<li>For Managers, it helps them see if developers are actually improving (they can monitor if technical debt actually decreases) and can
use this for future decisions (i.e. they can delay the release of a functionality because it's technical debt is too high).</li>
</ul>


<h4>"Quality is everyone's responsibility" - Deming, W. Edwards</h4>

<hr />

<p>If you are the type of developer who takes pride in your skills and values code quality, or if you are interested in learning new and interesting technologies, then we want you!</p>

<p>You can try checking this link <a href="https://www.wantedly.com/companies/uzabase-inc">&#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x6700;&#x65B0;&#x60C5;&#x5831; - Wantedly</a> and give us a contact!</p>

guid : hatenablog://entry/8454420450088648834
enclosure : 
title : NewsPicks を支えるインフラのこれから― Autoscaling を導入してみよう―
link : http://tech.uzabase.com/entry/2015/03/12/190251
description : <p>NewsPicksインフラ・運用を担当しているカツです。</p>

<p>NewsPicksのインフラについて、今まで他の人も紹介していましたが(<a href="http://tech.uzabase.com/entry/2015/03/06/180232">『AWS CloudWatch Logs を NewsPicks で試してみた話』</a>)、
今回は、現在のNewsPicksのインフラを紹介するのではなく、今後、NewsPicksのインフラに関してやろうと思っていることをいくつか紹介しようと思います。</p>

<h2>Autoscaling の導入</h2>

<p>NewsPicksはインフラを AWS 上で運用していますが、現在はまだ完全にクラウドの強みを発揮できていません。一定数のインスタンスを運用して、時間帯によって起動するインスタンスを手動で決定しているためです。これではスマートではありません。
今後はリソース負荷状況によって自動的にインスタンスを立ち上げられるように、Autoscalingを導入しようと考えています。</p>

<p>Autoscalingの導入はすごく簡単です。launch-configurationとauto-scaling-groupを設定すれば終わりです。コンソール画面から設定してもいいですし、コマンドでもすぐできます。</p>

<p>launch-configurationの作成：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling create-launch-configuration 
--launch-configuration-name &#34;newspicks_production_lc&#34;
--image-id &#34;awi-xxxxxxx&#34;
--security-groups &#34;ApplicationServers&#34;
--instance-type &#34;c3.xlarge&#34;
--instance-monitoring true
--no-associate-public-ip-address</pre>


<p>auto-scaling-groupの作成：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling create-auto-scaling-group
--auto-scaling-group-name &#34;newspicks_production_sg&#34;
--launch-configuration-name &#34;newspicks_production_lc&#34;
--min-size 5
--max-size 30
--desired-capacity 5
--default-cooldown 600
--availability-zones &#34;ap-northeast-1a&#34;
--load-balancer-names &#34;production&#34;
--health-check-type &#34;ELB&#34;
--health-check-grace-period &#34;120&#34;
--vpc-zone-identifier “subnet-xxxxxx”</pre>


<p>次はScaling Plansを設定します。今NewsPicksで考えているPlansは下記の通りです。
Dynamic Scaling：CloudWatch Alarms（cpu、メモリ、アクセス数など）
Scheduled Scaling ：毎日の 07:30、18:30 に実行する（例）
コマンド：</p>

<pre class="code" data-lang="" data-unlink>aws autoscaling put-scheduled-update-group-action --scheduled-action-name scaleup-schedule-year --auto-scaling-group-name newspicks_production_sg --recurrence &#34;30 7,18 0 0 0&#34; --desired-capacity 10</pre>


<p>ただ、Autoscalingは導入が簡単ですが、今までのデプロイ方式と監視の仕組みを変えなければなりません。</p>

<h2>デプロイについて</h2>

<p>AMIが指定されているため、デプロイ都度でAMIを作り直すのは現実的ではない</p>

<h3>解決案</h3>

<ul>
<li>Warファイルなどを踏み台サーバかS3に置く</li>
<li>Autoscalingが発生時、userdataを利用し、ファイルを持ってくる</li>
<li>CodeDeployの採用</li>
</ul>


<h2>監視について</h2>

<p>Autoscallingが発生時、起動されたインスタンスが監視対象に入れるのは間に合わない
※Newspicksはcloudwatchで監視しているため（zabbixは一部監視のみ）</p>

<h3>解決案</h3>

<ul>
<li>HyClops for Zabbixプラグインを導入</li>
<li>zabbixを廃止し、完全にCloudWatchに移行</li>
</ul>


<p>また、これからさらにNewsPicksのインフラ基盤の自動化を進めるため、ansibleの構築コード化の採用、chatopsによって、リリース作業の簡潔化などなど常に進めています。</p>

<p>NewsPicksではエンジニアを募集しています！
各種AWSサービスを利用しながら、安定したサービス提供のための開発・運用を日々おこなっています。
興味のある方はぜひご応募待っています！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe></p>

<p><a href="https://www.wantedly.com/projects/11448">100&#x5E74;&#x306B;&#x4E00;&#x5EA6;&#x306E;&#x30E1;&#x30C7;&#x30A3;&#x30A2;&#x5909;&#x9769;&#x671F;&#xFF01;&#x4E16;&#x754C;&#x4E00;&#x306E;&#x30CB;&#x30E5;&#x30FC;&#x30B9;&#x30D7;&#x30E9;&#x30C3;&#x30C8;&#x30D5;&#x30A9;&#x30FC;&#x30E0;&#x3092;&#x5275;&#x308D;&#x3046; - &#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x6C42;&#x4EBA; - Wantedly</a></p>

guid : hatenablog://entry/8454420450087505981
enclosure : 
title : AWS Cloudwatch LogsをNewsPicksで試してみた話
link : http://tech.uzabase.com/entry/2015/03/06/180232
description : <p>こんにちは、NewsPicks開発・運用を担当している木下です。<br/>
今回はAWS CloudWatch Logsを利用した運用周りの改善について社内LTした内容をベースにブログにまとめました！</p>

<p>NewsPicksはインフラを完全にAWS上で運用しています。</p>

<p><a href="http://aws.amazon.com/jp/solutions/case-studies/newspicks/">AWS &#x5C0E;&#x5165;&#x4E8B;&#x4F8B;: &#x682A;&#x5F0F;&#x4F1A;&#x793E;&#x30E6;&#x30FC;&#x30B6;&#x30D9;&#x30FC;&#x30B9; | &#x30A2;&#x30DE;&#x30BE;&#x30F3; &#x30A6;&#x30A7;&#x30D6; &#x30B5;&#x30FC;&#x30D3;&#x30B9;&#xFF08;AWS &#x65E5;&#x672C;&#x8A9E;&#xFF09;</a></p>

<p>監視については、APIから発生したエラーはAmazon SESを使用してメールにて通知、リソース監視はCloudWatchを利用しています。<br/>
CloudWatchは任意のメトリクス（計測値）をアップロードし、それに対して閾値を設定し、AmazonSNSを利用してエラー通知をしたり、AutoScalingを利用してインスタンスを立ち上げたりといったアクションが取れます。<br/>
AWSを利用すると、標準でEC2インスタンスのCPU使用率やネットワークトラフィック、SQSのキューサイズ、などなど必要最低限のメトリクスが自動でアップロードされます。
CloudWatchはデフォルトで提供されているメトリクスの監視だけでなく、スクリプトを作成してカスタムメトリクスをアップロードすることもできます。<br/>
NewsPicksでは、ディスク使用率、メモリ使用率、サーバーサイドがJavaを使用しているためVMの情報などをCloudWatchにアップロードし、適宜アラームを設定して監視を行っています。</p>

<p>CloudWatchはAWSから標準で提供されているメトリクスのようなリソース監視には向いています。<br/>
ただし、システム監視は定期的に発生するリソース監視だけでは不十分です。<br/>
例えば不定期に発生するイベントの監視をするにはCloudWatchだけで提供される機能では難しく、別のログ監視のシステムを利用するのが一般的かと思います。<br/>
CloudWatchが提供しているアラーム機能は便利なため、カスタムメトリクスのアップロードスクリプトを工夫していたりもするかもしれません。</p>

<p>そこで、昨年サービスインし、12月からは東京リージョンでも利用可能となったAWS CloudWatch Logsを試してみました。</p>

<h5>インストール</h5>

<p>既存サーバーへのインストールは、下記のpythonスクリプト実行で一発完了でした。</p>

<pre class="code" data-lang="" data-unlink>wget https://s3.amazonaws.com/aws-cloudwatch/downloads/latest/awslogs-agent-setup.py
sudo python ./awslogs-agent-setup.py --region north-east-1</pre>


<p>このスクリプトで、インストール、デーモン化、対話式でログアップロードの設定までできます。<br/>
chkconfigで起動時設定に入れれば、インスタンスの起動時からログがアップロードされる設定が動きます。</p>

<h5>設定ファイル情報</h5>

<p>対話式で設定した内容は/var/awslogs/etc/awslogs.confに格納されます。</p>

<pre class="code" data-lang="" data-unlink>[/var/log/nginx/access.log]
datetime_format = %Y-%m-%d %H:%M:%S
file = /var/log/nginx/access.log
buffer_duration = 5000
log_stream_name = {hostname}
initial_position = start_of_file
log_group_name = access_log</pre>


<p>直接設定ファイルを変更して追記することもできます。<br/>
同一のLogGroup名で異なるEC2インスタンス（異なるLogStream）から情報をアップすると、LogGroup単位でフィルタリングしたりの操作ができます（後述）</p>

<p>対話式or設定ファイルに記載すると、しばらくするとAWS Console上でログが確認できるようになります。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303013326.png" alt="f:id:uzabase:20150303013326p:plain" title="f:id:uzabase:20150303013326p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h5>ログの保持期間</h5>

<p>CloudWatchのメトリクスは保持期間が2週間でしたが、CloudWatch LogsではLog Groupsの保持期間として1日〜10年、または有効期限なしが設定可能になりました。<br/>
やはりログをアップロードするとなると、長く保持できるのは助かります。<br/>
（ただし、後述するFilterによってアップロードされるメトリクスの保持期間は選べません）</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303013441.png" alt="f:id:uzabase:20150303013441p:plain" title="f:id:uzabase:20150303013441p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<h5>Filterの設定</h5>

<p>このアップロードされたログからFilterを作成すると、CloudWatchにメトリクスとしてアップロードされます。</p>

<p>設定例1) ログからERRORを抜き出す<br/>
ログから単純に文言をgrepするようなFilterです。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303014218.png" alt="f:id:uzabase:20150303014218p:plain" title="f:id:uzabase:20150303014218p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>設定例2) HTTPステータスが200で、応答時間が1秒以上のログを抜き出す<br/>
スペース区切りのログについては、パターン指定して値を抜き出すこともできます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150303/20150303014457.png" alt="f:id:uzabase:20150303014457p:plain" title="f:id:uzabase:20150303014457p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>上記のようなFilterを作成し、右下のTest Patternボタンを押すとどのログがヒットするかも事前にテストできるので、操作はとても簡単でした。<br/>
このFilterの結果をCloudWatchメトリクスとしてアップロードすることができます。<br/>
単純なgrepの場合は、事象が発生すると1とカウントされますが、パターン指定した場合はマッチしたパターンをメトリクスとすることもできるようです。<br/>
（◯◯秒以上かかった処理時間のみをメトリクスとして記録、のような）<br/>
メトリクスからアラームを作成する部分は、通常のCloudWatchと同様です。</p>

<h5>まとめ</h5>

<p>ログから事象を発生ベースでメトリクスとして記録する部分がかなり簡易化されました。<br/>
今まで定常的なリソース監視に使用していたCloudWatchを、不定期に発生するイベントの監視としても使いやすくなりました。<br/>
設定、操作もかなり簡単なので、今まで手作りのスクリプトで監視していた部分を一部移行できそうです。<br/>
今後の改善要望としては、ログを時間でしか検索できない部分や、Filterがスペース区切りにしか対応していない部分（正規表現で後方参照したい・・・）などが改善されるとさらに使いやすくなると思います。</p>

<p>NewsPicksではエンジニアを募集しています！<br/>
各種AWSサービスを利用しながら、安定したサービス提供のための開発・運用を日々おこなっています。<br/>
興味のある方はぜひご応募待っています！</p>

<p><iframe src="//hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.wantedly.com%2Fprojects%2F11448" title="100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"><a href="https://www.wantedly.com/projects/11448">100年に一度のメディア変革期！世界一のニュースプラットフォームを創ろう by 株式会社ユーザベース</a></iframe></p>

guid : hatenablog://entry/8454420450085870433
enclosure : 
title : 情報技術との向き合い方：SPEEDA/NewsPicksを支える価値を生み出す技術の選定手法
link : http://tech.uzabase.com/entry/2015/03/02/180612
description : <p>UZABASE技術チーム竹内(@chimerast)です。</p>

<p>ちょっと時間がたってしましましたが、2月7日に<a href="http://eventdots.jp/event/309318">dots. Summit 2015</a> にて、ポエム「<a href="http://www.slideshare.net/chimerast/speedanewspicks">SPEEDA/NewsPicksを支える価値を生み出す技術の選定手法</a>」を発表してきたのでその内容をもう少し突っ込んで書いてみたいと思います。</p>

<p>今回は、特定の技術や知見のことは全く話さず、何のために技術があるのかという、それ以前の話をしてきました。エンジニアとして、技術を追い求めることはとても大切なことですが、目的を見誤ってしまうと独りよがりになる可能性もありますし、変な方向に技術が伸びてしまいます。</p>

<p>僕は、多くの人に使われたり影響を与える、末永い良い製品・技術を生み出すには、目的はなんなのか見極めることが重要だと思っています。製品であればその価値が生み出す世界を想像し、技術であれば問題の本質とは何なのかを探求することです。</p>

<p>発表の後、社外の人何人かからフィードバックをもらい、とても心に響いたという人や、是非資料を社内で展開させてもらいたいという話ももらいましたが、そんなの当たり前だよという人や、そんなことどうでもよいという人も多いんじゃないかと考えながら発表資料を作っていました。ただ、僕自身そしてユーザベースがとても大切にしていることなので話をさせてもらいました。</p>

<p>ブログにも全内容を書きたかったのですが、前半の価値の話はブログ向きではない気がしたので後半の技術の話について書こうと思います。前半の話は、興味があれば<a href="http://www.slideshare.net/chimerast/speedanewspicks">スライド</a>を見てください。</p>

<h2>対象読者</h2>

<ul>
<li>プログラミングを学び始めたばかりの人</li>
<li>情報科学をあまり勉強したことがない人</li>
<li>新しい技術スゲーって言ってる人</li>
</ul>


<h2>tl;dr</h2>

<ul>
<li>製品を考えるのも技術を勉強するのもその目的を見極めるのがとても大事だよ

<ul>
<li>その技術が解決しようとする問題を先に考えることで技術の理解が早くなるよ</li>
<li>複数の技術を組み合わせると具合がとても良いよ</li>
<li>色んな分野の技術を沢山見ると新しい技術の理解が早くなるよ</li>
</ul>
</li>
</ul>


<h2>よりよい価値を早く届けるために正しく技術を使う</h2>

<p>技術とはなにかについて考えるとき、「よりよい価値を早く届けるために正しく技術を使う」と考えることが僕にとってはしっくりきます。特に「正しく技術を使う」というところはいつも気にしています。</p>

<p>技術は正しい使い方をしなかったり、的外れな技術を新たに生み出しても、なにかしらモノが出来てしまうことがあります。ただ、その状態で「よりよい価値を早く届ける」という点を達成していることはまれだと思っています。</p>

<p>また、手段が目的になってしまっているのを見ると非常に残念に思います。正しい価値を早く届けるためにアジャイル手法を使うのは賛成ですが、その手法に固執しすぎてその目的がないがしろにされている例をたまに見ます。必要であればウォーターフォール気味にやるくらいの気持ちでゆるくやった方が良いと考えています。正直、サービスの基盤の設計からアジャイルでやるのはなんかおかしいと思っていて、経験上、基盤を始めにかっちり設計して作っておいたほうが、上でアジャイルやらスクラムっぽいものがくるくる綺麗にまわる気がしています。</p>

<p>正しい技術の話をするにあたって、先に新しい技術の事に少し触れます。</p>

<h3>技術パラダイム「アタラシイギジュツ」に惑わされない</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150227/20150227200112.png" alt="f:id:chimerast:20150227200112p:plain" title="f:id:chimerast:20150227200112p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>ネットを見ていたり勉強会に出て話を聞いていたりすると、常に新しい技術の話が出てきます。どこそこのサービスはこの新しい技術を使っていてすごい、みたいな話がわさわさ出てきます。</p>

<p>ただ、ここで気をつける必要があるのは、「新しい技術」だからそのサービスが多くの人に使われている(売れている)のとは違うということをちゃんと認識するべきです。「新しい技術」が「新しい価値」を生み出した結果、ユーザが増えます。「新しい価値」が間に挟まらなければユーザは増えません。</p>

<p>新しい技術だからという理由だけですぐ飛びついて使い始めてしまうのは、一番やってはダメなことです。新しい技術なんて次々と出てきます。</p>

<h3>「アタラシイギジュツ」と正しく向き合うために</h3>

<p>新しい技術と正しく向き合うためには、それがなんなのかということを考えるのが一番良いです。</p>

<p>よく言われることですが、情報技術はパラダイムを行ったり来たりしながら発展してきた歴史があります。パラダイムとまでは言わないまでも小さな流行についても行ったり来たりしながら発展していきます。</p>

<p>例えば、コンピュータの歴史は、分散と集約の歴史です。トランジスタ(真空管?)に始まり、現在のクラウドによる集約まで、分散と集約を何度も繰り返しています。</p>

<p>ここで重要なのは、それぞれの分散フェーズ、集約フェーズでは同じような考え方に基づいた技術が使われたり生まれてたりしていることです。分散フェーズだったら前の分散フェーズのことが、集約フェーズだったら前の集約フェーズの考え方がある程度通用します。</p>

<h3>情報技術の世界では歴史がよく繰り返す</h3>

<p>情報技術の世界では、よく歴史が繰り返されます(自分もまだ30代のペーペーなので歴史を話すのもなんですが)。歴史を繰り返しながら、前の歴史よりは少しずつ良くなっていきます。</p>

<p>新しい言語が生まれると別の言語での考え方が持ち込まれて同じようなものが構築されたり、新しいOSが生まれると別の似たOSの考え方が持ち込まれたりします。新しいプラットフォームが生まれると似たような周辺技術が周りに次々立ちます。</p>

<p>最近のiOSやAndroidで話題になる技術や手法を見ていると、なんか十数年前にWindowsで見たなというモノがあったり、最近話題のJavascriptのフロントエンド技術も数年前にJavaやRubyで見たことあったりよくします。IoTの話なんかも一昔前にユビキタスの人たちが言っていたことが多かったり、Dockerなんかもその基礎のコンテナ技術は元をたどれば、1980年代のchroot jailで、何度かVPSやなんやらを経た結果だったりします。Deep Learningも...。挙げればきりが無いです。</p>

<p>とにかくこの情報技術の世界は、再発見がとても多いです。ある技術が他の技術の流行・発展によって再発見が起きたり、ハードウェア性能の向上によって再発見が起きたりします。アカデミックの世界のモノが、周回遅れで現場に降りてきて流行が起きるという事もあります。</p>

<h3>技術スパイラルに向き合う</h3>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/c/chimerast/20150228/20150228233759.png" alt="f:id:chimerast:20150228233759p:plain" title="f:id:chimerast:20150228233759p:plain" class="hatena-fotolife" itemprop="image"></span></p>

<p>技術はスパイラル状に発展していくととらえることが出来ます。スパイラルといっても、進行方向の技術の飛びは大きいけど、隣り合う線の飛び幅は小さいスパイラルです。かつ、重要なのは、ある分野のスパイラルに出てくるパラダイム(流行)系統の数はそんなに多くないことです。</p>

<p>技術スパイラルの進み方は、隣り合う線(同系統のパラダイム)から最も影響を受け、時間軸で直近の別系統のパラダイムからも影響を受けます。</p>

<p>歴史をよく知らない新しく情報技術に触れ始めた人が、パラダイムの移動を経験すると、なんか全然違う新しい概念が出てきたように見えてしまうことがあるのですが、進行方向の飛びが大きいだけで、過去を見ると大体その基となる技術があります。そして、その基となる技術からの差分はそんなに大きく無いです。</p>

<p>また、誰も見たり聞いたことも無いような技術がスパイラル上にいきなり出てくることはないです。必ず何かの考え方をベースにしており、全然別の学問で確立されている技術や事実が元になっていることも多いです(情報科学の分野のアルゴリズムには自然科学から入ってきたものもちらほらありますね。将棋ソフトのBonanzaなんかも面白い例だと思います)。</p>

<p>誰も見たことも聞いたこともない新しい技術は、基本詐欺かダメな技術です。</p>

<h3>技術を正しく使う・作る</h3>

<p>新しい技術というものの正体についてみたところで、技術を正しく使うとはどういうことなのか考えてみます。</p>

<p>技術は、世の中になにかしらの問題がありそれを解決する為に生まれます。逆に技術が解決しようとしている問題を知ることが出来れば、その技術が何をするものためのものなのかすんなり理解することが出来ます。</p>

<p>この関係を認識することで、自分自身が問題に直面したときに、どの技術を選択すれば良いかの基準ができます。</p>

<p>新しい技術も何か特定の問題があって生まれてくるもので、新しい技術が過去の全ての問題を解決してくれると考えるのは、一番間違った考え方です。</p>

<h3>技術に無理させない</h3>

<p>技術は基本的に特定の問題に対する解決策として生まれます。逆にその問題以外を解くのには適していない事が多いです。</p>

<p>技術は特化されたものであるほど、対象がはまれば、より良く早く問題を解決することが出来ます。そのかわりに、他の問題に適用しづらくなります。ここを勘違いして、この問題がとても早く解けたのだから、他の問題も早く解けるだろうと考えてしまうのは間違いです。</p>

<p>例えば、世の中には汎用言語と半特化型言語(DSLまではいかないやつ)があります。</p>

<p>Javaは汎用言語で、どんな問題も無難に解決し、それなりに高速に動作しますが、対象によっては他の言語で書く方が簡潔に書けたり、速度が速かったりします。</p>

<p>PHP(Hypertext Preprocessor)は汎用言語の皮を被った半特化型言語です。HTML(Hypertext Markup Language)を出力することを主目的とする言語です。ちょっとした動的なHTMLを吐き出すことなら、PHPはとても正しい選択肢です。正直、実際にNewsPicksのWeb版を始めに作るときにRESTful APIを叩くだけのフロントとしてPHPを使うことを僕は提案していました（外部に協力を依頼しやすいとか、デザイナと連携しやすいとかといった理由もあります）。他のエンジニアに全力で拒否されましたが。</p>

<p>ただ、多くの人がご存じの通り、PHPで大きなシステムを作ったりするのは大変です。HTMLと全然関係無いバッチを書いたりするのは狂気の沙汰だと思っています。これはPHPがHTMLに対する半特化型言語であることを考えれば当たり前のことです。</p>

<h3>技術を組み合わせることを覚える</h3>

<p>作るシステムを複数の問題に正しく分割し、それぞれの問題に対して得意な技術を割り当ると、非常に高速に開発することが出来ます。作らなければならない部分も減るので、生み出すバグも少なくなります。</p>

<p>例えば、プログラムを書いて作るものが難しいものでも、インフラの技術で簡単に解決ができるものが多々あります。RDBMSが無い、データ管理を自分で書かなければならない世界を考えてください。RDBMSは一番わかりやすい技術を組み合わせる例です。</p>

<p>また、機械学習系のライブラリはPythonがとても充実しています。それだったら、機械学習の部分はPythonで書いてJavaなりRubyから呼び出す形にすれば良いと思います。全部一つの言語でやる必要は無いです。</p>

<p>複数の技術を使うことでその学習コストはどうするんだという話を良く聞かれますが、正しく切り出された問題に正しい技術を割り当てれば、それを解決するために必要な学習コストは非常に低いです。技術のチュートリアルを読んでこれはすごいと思うことが良くあると思いますが、その感覚です。</p>

<p>逆に、適していない問題を解決する方法を学習しようとするとコストが跳ね上がります。そもそもその技術が想定していない問題を解こうとした場合です。例えば、トランザクションが必要な問題をNoSQLと呼ばれるデータベースで考えようとするととたんに難しくなります。</p>

<h3>たくさんの違う分野の技術を知ろう</h3>

<p>技術を組み合わせるためには、複数の技術のことを知り、それぞれの得意な問題を理解する必要があります。</p>

<p>一から自分の知らない技術を知ることは非常に大変に見えるかもしれませんが、先ほどの技術スパイラルの話の通り、それぞれの技術は何らかの関係があります。基礎の部分をちゃんと押さえておけば、差分を意識すると実はそんなに学習するのは大変ではありません。ある一つの言語をそれなりに極めていれば、他の言語に移るときは低いコストで移れますよね。</p>

<p>重要なのは基礎の部分をちゃんと押さえることです。それについては先ほどの通り、解決しようとしている問題を認識することが近道です。</p>

<p>また、同じような問題を解決しようとしている技術をたくさん知ってもあまり意味はありません。たいてい同じような解決法が返ってきます。もし、手続き型言語を勉強したなら、その後は関数型言語、論理型言語、もしくはDSLの作り方等、全然違う系統の言語を学ぶべきです。言語から離れてインフラの知識を身につけるのも良いかもしれません。分散処理向けの言語の考え方が身につくかもしれません。なんにせよそこで得た知識や考え方は元の手続き型言語に戻ったときにも無駄になることなく生きてきます。</p>

<p>上でも少し触れましたが、一つの分野のスパイラルに出てくる押さえておくべき技術パラダイム系統の本数は少ないです。10もあれば多い方だと思います。効率よく学ぶとそんなに苦もなくそれっぽく身につく気がします。くどいようですが、同じ系統の技術を学んでも知識の幅は広がりません。また、ざっと俯瞰する場合は深く調べ始めると泥沼にはまるので、解決しようとしている問題とその解決方法の組み合わせがわかったら次に行った方が良いかもしれません。細かい所については、基礎さえ押さえておけば類推出来ます。実際に使うときに深く調べたのでも遅くないです。</p>

<h3>技術を多く知るということ</h3>

<p>技術は多くの種類を知れば知るほど、新しいものを学習するコストがどんどん下がっていきます。スパイラルの話で書いたとおり、基本的に情報技術は組み合わせとほんの少しの差分で生まれます。ある程度知ると、この技術はあれと、これと、それから影響を受けているんだなとわかるようになります。新しい技術が出てきてもあまりビックリしなくなります。</p>

<p>また、逆を考えると、多くの種類を知れば知るほど新しい技術も生み出しやすくなります。何か問題にぶち当たったときに、技術を組み合わせて新しい解決方法を生み出すというのは良くあることです。</p>

<h2>まとめ</h2>

<p>ユーザベースでは、「ユーザの理想から始める」というルールがあります。これは、ユーザに届ける価値を考えるのが先、ただ、それを考えることで良い技術が育つ、という思いも込められています。目的を考えることで、それにふさわしい広く使われる正しい技術が生まれると考えています。</p>

<p>技術チームでは、新しいものを作るときには使ったことのない技術を使うことを推奨しています。新しい考え方に触れることで、視野が広がります。</p>

<p>ただし、<strong>使う技術が問題を解くのにふさわしいか</strong>必ず考えるという条件をつけています。新しい技術でなんか流行っているからという理由だけで、的外れな対象に対して技術を適用すると全力で叩きます。マサカリ投げます。</p>

<p>ユーザベースでは、正しく「技術」を使い、創り、「価値」を高速に創造し届けることを心がけています。</p>

guid : hatenablog://entry/8454420450085253438
enclosure : 
title : Apache Wicketのイベントシステム徹底活用（実用サンプルもあるよ）
link : http://tech.uzabase.com/entry/2015/02/18/180705
description : <p>SPEEDAの開発してます矢野です。社外から参画してます。SPEEDAを書いてないときは、最近はClojureを書いています。</p>

<p>SPEEDAではApache Wicketを使っています。バージョンも順調に挙げられているので、Wicket 5から導入されたイベントシステムも、最近はかなり活用しています。イベントシステムについてはドキュメントも少なく活用方法がよくわからない、という話もあるようなので、活用方法を紹介します。</p>

<h1>まずは手始めに</h1>

<p>Wicketのあらゆるコンポーネント（つまり、Componentのサブクラス）は、イベントの送信者と受信者になることができます。
イベントの送信には、Component#send を使います。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">public</span> <span class="synType">final</span> &lt;T&gt; <span class="synType">void</span> send(IEventSink sink,
                           Broadcast type,
                           T payload)
</pre>


<p>どのコンポーネントに対してsend()を呼び出すかは、実は重要ではありません。重要なのは、引数のsinkです。イベントは、このsinkに対して送信されます。
そしてpayloadが、送信されるオブジェクトです。「イベント」と呼んで良いかと思いますが、実際にはなんでも、どんなオブジェクトでも送信できます。</p>

<p>そして、イベントを受け取ったsinkを起点にして、typeで指定した方法で、イベントがコンポーネントツリーに伝播します。</p>

<ul>
<li>Broadcast.BREADTH  幅優先</li>
<li>Broadcast.DEPTH 深さ優先</li>
<li>Broadcast.BUBBLE  遡り</li>
<li>Broadcast.EXACT 特定sink限定</li>
</ul>


<p>詳しい解説はBroadcastクラスのJavadocに書かれているのですが、英語が苦手でも、ちゃんと数値でどの順序にイベントが伝播するか書かれているので、わかりやすいと思います。</p>

<p><a href="http://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/event/Broadcast.html#BREADTH">Broadcast</a></p>

<p>一番多く使うのは、コンポーネントをsinkとしてイベントを送ると、自分自身と、そのすべての子コンポーネントに、幅優先でイベントを伝播させるBREADTHでしょう。というか、ほとんどこれしか使わないように思います。特別に深さ優先が必要だったり(DEPTH)、そもそも伝播して欲しくなかったり(EXACT)するシーンだけ変えるくらい。</p>

<p>さて、イベントが伝播する途中にいるコンポーネントはすべて、伝播していくイベントを補足できます。そのためには、Componentの <code>onEvent</code> をオーバーライドします。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">public</span> <span class="synType">void</span> onEvent(IEvent&lt;?&gt; event)
</pre>


<p><code>IEvent#getPayload()</code>を使って、sendに渡したpayloadオブジェクトを取得できます。あとは、このpayloadが、処理したいオブジェクトかどうかチェックして、そうであれば処理すればいいし、そうでなければ単に捨てればいいのです。いずれにせよ、イベントは次のコンポーネントに伝播します。</p>

<h2>問題</h2>

<p>ところが、この<code>onEvent</code>が実にダサい。payloadオブジェクトの種類によって地道にチェックするしかないので、結局、次のようなコードになってしまいます。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">@Override</span>
<span class="synType">public</span> <span class="synType">void</span> onEvent(IEvent&lt;?&gt; event) {
    Object payload = event.getPayload();
    <span class="synStatement">if</span> (payload <span class="synStatement">instanceof</span> MyEvent) {
        MyEvent myEvent = ((MyEvent) payload);
        <span class="synComment">// なにかmyEventを使ったすごいCoolな処理</span>
    }
}
</pre>


<p>instanceOfでクラスチェックして、キャストして…ダサさのオンパレードで大変です。でもWicketのデフォルトのイベント補足システムは、この<code>onEvent</code>しかありません！</p>

<p>ところで、イベントの送信側も受信側も自分で書いたプログラムであれば、他からイベントが来ることもないし、どのイベントpayloadかも把握できているわけですから、チェックせずにすぐにキャストしても良さそうに思えます。この戦術はうまくいきません。WicketのイベントシステムはWicketフレームワーク内部でも使われていて、各コンポーネントは、フレームワークが送信するイベントを受け取っています。それらと区別するためにも、必ずpayloadの種類をチェックする必要があります。</p>

<h2>ならば書けばよいのだ</h2>

<p>さすがにいろんなところに、こんなinstanceofとか書いてられません。
幸い、Wicketにはイベント補足システムを拡張する仕組みがあります。<code>IEventDispatcher</code>というインタフェースがその役目を担います。このインタフェースには、次のようなメソッドが一つだけ定義されています。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synType">void</span> dispatchEvent(Object sink,
                   IEvent&lt;?&gt; event,
                   Component component)
</pre>


<p>次のように、IEventDispatcherを実装したインスタンスをApplicationのFrameworkSettingsに追加することで、イベントがコンポーネントに届いた時に、どのようにして、どんなメソッドを呼び出すのかを細く制御できます。</p>

<pre class="code lang-java" data-lang="java" data-unlink>getFrameworkSettings().add(<span class="synStatement">new</span> MyGreatEventDispatcher());
</pre>


<p>SPEEDAでは、この機能を利用して、次のようなイベント補足メソッドをサポートしています。</p>

<ul>
<li>アノテーションを指定することで、どんな名前のメソッドであれイベント補足メソッドになれる</li>
<li>イベント補足メソッドは一つのクラスにいくつでも書くことができる</li>
<li>イベント補足メソッドはprivateメソッドでも良い</li>
<li>イベントディスパッチャは、イベント補足メソッドの引数の型を見て、送信されたpayloadの型が引数と合致するときに、そのメソッドを呼び出す</li>
<li>イベントディスパッチャは、どのクラスがどのようなイベント補足メソッドを持っているか、記憶する</li>
</ul>


<p>この独自のIEventDispatcher実装によって、SPEEDAでは、次のようにイベント補足メソッドを気軽に設定できています。</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">@EventHandler</span>
<span class="synType">public</span> <span class="synType">void</span> onConditionChanged(CriteriaChanged event) {
    AjaxRequestTarget target = event.getTarget();
    target.appendJavaScript(<span class="synConstant">&quot;showOverlay()&quot;</span>);
}
</pre>


<p><code>@EventHandler</code>アノテーションをつけることで、イベント補足メソッドを作ることができます。上記のメソッドは、イベントpayloadがCriteriaChangedだったときに呼び出されます。もう、ダサいinstanceofやキャストとはおさらばです。そのようなチェックはイベントディスパッチャが肩代わりして、すでに解決済みキャスト済みのオブジェクトが引数に渡されるのです。</p>

<h2>配布してます</h2>

<p>このイベントディスパッチャは、私が個人で作って使って公開していたものを、少々改造して使い回しているもので、Apache Licenseでもともと公開されていました。今回、新たにgistに公開したので、欲しい方はご自由に活用ください。ファイルは二つだけです。</p>

<ul>
<li><a href="https://gist.github.com/tyano/d953c2e27bb97b0c9d97">AnnotationEventDispatcher.java</a></li>
<li><a href="https://gist.github.com/tyano/7c2f5a216b23224fff1a">EventHandler.java</a></li>
</ul>


<h2>コンポーネントの疎結合とクラス定義のコツ</h2>

<p>Wicketはもともと、HTTPの上でありながら、仮想的なオブジェクト指向環境を作り出すことで、デスクトップアプリケーションのようにウェブアプリケーションを開発できるのがウリです。独特のコンポーネントのパッケージ技術により、コンポーネントはCSSやJavaScriptとともに「ひとまとまりとして」配布できました。</p>

<p>ただ、コンポーネントに発生する事象（イベント）をコンポーネントユーザに伝える手段にかけていて、習慣的には、<code>onSelected</code> といった、頭にonをつけたabstractメソッドを定義し、ユーザにオーバーライドしてもらうことで、ユーザに制御を移していました。いわば、ここだけは他のクラスと密結合しているのです。</p>

<p>Wicket 5によってイベントシステムが導入されて以降、実は、コンポーネントは「クラス」「HTML」「CSS」「Javascript」に加え「イベントクラス」とパッケージ化して配布することができるようになりました！例えばダイアログを閉じた時、ユーザが項目を選んだ時などなど、そのための（オーバーライド可能）メソッドを書く代わりに、専用のpayloadを送信すればいいのです。何をしたらどのようなpayloadが送信されるかをクラスの冒頭のJavadocコメント部に書いておけば、コンポーネントは外部と独立して存在することができます。つまり、疎結合です。コンポーネント利用側は、イベントハンドラを書くことで、コンポーネントの更新を受け取ることができます。</p>

<p>このような関係を実現するためには、ちょっとしたコツがあります。ノウハウあるいは定石のようなものです。</p>

<h4>コンポーネントは外部からsinkを指定できるべき</h4>

<p>コンポーネント内部で何か起こりイベントpayloadを送信するとき、どのsinkに送信するかが問題になります。これは、コンポーネント利用側が指定できるのが理想的です。コンストラクタ引数としてsinkを受け取れるのがよいと思いますが、setterメソッドでもよいでしょう。</p>

<h4>sinkが指定されてない場合はページをsinkとする</h4>

<p>sinkを指定しないのもユーザの自由です。しかしsend()の呼び出しを行うにはsinkが必要です。この場合、コンポーネントの所属するページ（getPage()で取得できます）に対して、Broadcast.BREADTHでpayloadを送信するのが良いでしょう。こうすれば、ページ上の全コンポーネントに対してpayloadが伝播します。
もちろん、sinkを指定すれば伝播の範囲が狭まるので、ページ全体に伝播させるよりパフォーマンス的に有利です。どちらを選ぶかはユーザに選ばせるべきです。</p>

<h4>コンポーネントがどのようなpayloadをいつ送信するかはドキュメント化すべき</h4>

<p>payloadの種類と送信タイミングは、各メソッドに書くより、クラスのJavadocコメント部にまとめておく方が、見やすいですし更新も楽です。</p>

<p>これらのプラクティスに沿えば、コンポーネントを疎結合にすることができます。onClickのようなメソッドを定義するのではなく、イベントpayloadの送信を行うことの利点は、受け取る側は「どこでも受け取れる」ということです。たとえばページ上の、４段くらい重なったところにあるパネルにあるボタンを押すと、ページのすぐ上に乗っているコンポーネントが合わせて変化する、という場合、onXXXXといったabstractメソッドでは、どうやってページのすぐ上にあるコンポーネントまで伝えるかわかりません。イベントなら簡単です。ページにイベントハンドラとなるメソッドを書けば済むのですから。</p>

<p>ただし、このようにイベントハンドラを多用すると、ある操作をした時にどこのメソッドが呼び出されるのかわかりにくくなる欠点があります。その面でも、この記事で紹介したAnnotationEventDispatcherを使うのが有利です。引数となるクラスは各イベント独自のものですから、あとは、IDEでそのイベントを使っているメソッドを探せばいいのです。</p>

<p>Wicketのイベントシステムは日本語の情報がほぼないので、もしかしたら活用してない人が多いかもしれません。しかし、Wicket 5以上を使っているならば、この仕組みを使わない手はありません。活用してください。</p>

guid : hatenablog://entry/8454420450084174029
enclosure : 
title : Dockerコンテナを管理するならKubernetes
link : http://tech.uzabase.com/entry/2015/02/13/180743
description : <p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150212/20150212193607.png" alt="f:id:uzabase:20150212193607p:plain" title="f:id:uzabase:20150212193607p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>SPEEDA開発チームの山岸です。</p>

<p>最近注目を集めているDockerですが、ユーザベースでも一部のチームで開発に役立てています。そのDockerのコンテナを管理するための「<a href="http://kubernetes.io/">Kubernetes</a>」というオープンソースのフレームワークがあります。<br/>
今回は社内のLTの内容を基に、Kubernetesについて簡単にご紹介したいと思います。</p>

<h3>Kubernetes とはなにか？</h3>

<p>KubernetesとはGoogleがオープンソースで公開した、Dockerコンテナのオーケストレーション及び管理するためのフレームワークです。 <br/>
Googleがこれまでサービスをコンテナで運用してきた経験を元に作られており、様々なベンダーが支持を表明しています。<br/>
Google Compute Engine、Microsoft Azure、Vagrant、CoreOSなどの様々な環境で使うことができます。</p>

<h3>なぜ Kubernetes か？</h3>

<p>Dockerによって、以下のメリットがもたらされるようになりました。</p>

<p>・信頼性の高いデプロイ<br/>
・ポータビリティ<br/>
・より簡単な構築と管理</p>

<p>これにより、1つのアプリケーションコンポーネントの再配置が容易に行えるようになりました。</p>

<p>しかし、実際の運用では複数のアプリケーションコンポーネントを連携させて、一つのサービスとして提供する必要性が出てきます。特にマイクロサービス的なサービスの構築にはこのようなアプローチが重要となります。</p>

<p>コンテナ同士の連携を行うためには、以下のような解決しなければならない問題が出てきます。</p>

<p>・コンテナ間の通信をどのように行うのか？ <br/>
・ホストが異なる場合のコンテナ間の通信をどのように行うのか？<br/>
・通信先のコンテナが障害により落ちた場合にどう対応するのか？<br/>
・各コンテナへのアクセスをどう分配するのか？</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150212/20150212195621.png" alt="f:id:uzabase:20150212195621p:plain" title="f:id:uzabase:20150212195621p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>こういった問題は、コンテナをクラスタとして統合し、管理することでうまく解決できます。<br/>
それを行ってくれるのが、Kubernetesです。</p>

<h3>Kubernetes でできること</h3>

<p>Kubernetesでできることは大きく分けて3つあります。<br/>
それぞれ簡単にご紹介します。</p>

<h6>①コンテナを簡単に展開できる</h6>

<p>まずはじめに、Kubernetesは<strong>Kubernetes Master</strong>という全体を管理するためのサービスをまとめたノードと、
それによって管理されるコンテナをまとめた<strong>minion</strong>というノードがあります。</p>

<p>Kubernetesでは、minion上にグループ化したコンテナを<strong>Pod</strong>という単位で構築、管理します。<br/>
このPodにより、密結合したコンテナの集合を扱いやすくなります。<br/>
重要な点として、そのコンテナの集合は必ず同一ホスト上に存在しています。そして、同じマシンリソースを共有しています。</p>

<p>YAMLまたはJSONフォーマットでPodの定義を設定ファイルで保存し、Kubernetes Master上のAPIに対してコマンドを実行することでPodを作成、構築することができます。</p>

<p>また、<strong>Label</strong>をコンテナに付けて管理することができます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150210/20150210032530.png" alt="f:id:uzabase:20150210032530p:plain" title="f:id:uzabase:20150210032530p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>このLabelにより、コンテナを種類ごとに分類することでコンテナのグループを抽象化して、デプロイするコンテナを管理しやすくできます。</p>

<h6>②コンテナの状態をチェックできる</h6>

<p><strong>Replication Controller</strong>により指定された数だけPodのReplicaを作成できます。<br/>
また、Replication Controllerはコンテナを死活監視し、障害により落ちた場合に自動起動します。<br/>
この仕組みにより常に指定した数のコンテナが保たれるようになり、Podの並列数を管理することができます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150210/20150210033023.png" alt="f:id:uzabase:20150210033023p:plain" title="f:id:uzabase:20150210033023p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<h6>③コンテナへのアクセスを分配できる</h6>

<p><strong>Services</strong>により、設定したPodにアクセスをラウンドロビンで分配することができます。<br/>
これは複数のコンテナで構成されるロードバランサのようなものです。<br/>
これによりサービスを使う側は特定のIPやポートのみ知っていればよく、コンテナの存在を意識させないようにできます。</p>

<h6>どのように実現しているか</h6>

<p>上記のようなことをどのように実現しているかKubernetesの全体像を示しつつご説明します。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150211/20150211091900.png" alt="f:id:uzabase:20150211091900p:plain" title="f:id:uzabase:20150211091900p:plain" class="hatena-fotolife" itemprop="image"></span></p>


<p>Kubernetesの中心にはetcdという分散Key-Valueストアがおり、各ノード上のサービスがetcdの設定を常に監視しています。<br/>
何か変更が生じた場合には、etcdに対してその内容を書き込みます。そうすると協調して処理を行わなければならない別のノードのサービスがその内容を元に処理を行うといった具合です。<br/>
例えば、Replication Controllerにおけるコンテナの並列数の管理も、この仕組みの上に成り立っています。</p>

<p>詳しい内容は、KubernetesのGithubの<a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/DESIGN.md">Kubernetes Design Overview</a>にまとまっております。</p>

<h3>まとめ</h3>

<p>Googleが長年社内で培ってきたコンテナ運用の経験が活かされていると感じます。<br/>
似たようなことを行えるフレームワークも存在しますが、まだどれも若いステージにいる状況だと思います。<br/>
しかし、今後はDockerなどのコンテナ技術を中心としたサービスの構築が伸びていくと思うので、こういったフレームワークには将来性を感じます。</p>

<p>ユーザベースでは、新しい技術に興味を持ち、共により良いシステムを作っていける仲間を募集しています。
興味を持った方は是非、<a href="https://www.wantedly.com/companies/uzabase-inc">Wantedly</a>をご覧ください。</p>

guid : hatenablog://entry/8454420450083017582
enclosure : 
title : Quick prototyping data visualization in SPEEDA
link : http://tech.uzabase.com/entry/2015/02/09/113059
description : <p>Nice to meet you, my name is Jorge Granado from SPEEDA Tech Team.</p>

<p>At UZABASE we are always trying to find new ways of surprising our clients, and provide them with new analysis tools as well as better data.</p>

<p>Since early 2013 we have been using Machine Learning algorithms for gathering world business news and information (both in English and Japanese), and connecting it to our company database. That way our clients can easily find all related media information whenever they lookup a company profile. Also, since October 2014, we have added M&amp;A information to our existing data and, of course, linked the information with the mentioned database so all our information stays connected.</p>

<p>Currently listed corporation market prices are stored with a date key, and this also goes the same for news as well as M&amp;A deals. Why not create a tool where one can see all events located in a stock market price timeline to study its influence? This time we will implement a quick prototype so the analyst team can evaluate the solution and decide on it.</p>

<p><b>1. Choosing a library for client data display</b></p>

<p>One of my personal mottos for quickly developing prototypes is the famous "<a href="https://en.wikipedia.org/wiki/Reinventing_the_wheel">do not reinvent the wheel</a>" approach. So this time, we will try to find a third party library that:</p>

<ul>
<li>complies with maximum number of the requirements.</li>
<li>can be extended to fulfil all the remaining necessities.</li>
<li>has an affordable cost/performance value.</li>
</ul>


<p>Those requirements are:</p>

<ul>
<li>being able to represent two or more time-related textual (but independent) events over a time-based data series.</li>
<li>being able to display the textual data over the numerical series in a readable manner.</li>
<li>being able to enlarge/reduce the period shown to the user in an intuitive way.</li>
<li>compatible with most of the current browsers as well as old ones.</li>
</ul>


<p>As for the last requirement, when your clients are not responsible for the software they can have in their computers and they are tied to corporate rules, you want to support them as much as possible. Remember, clients first. Yes, unfortunately that means that our website should appear 90% or better even for the old IE6 whenever possible.</p>

<p>Although there are several useful framework/libraries available for combining data and time-organized information, seems like there are not so many options to accomplish most of our requirements in an out-of-the-box manner. Best candidates are:</p>

<p><a href="http://www.highcharts.com/stock/demo/flags-general">Highcharts</a>: really interesting commercial library, with support for old browsers. The annotated timeline present some problems for our project, especially regarding UI such as:</p>

<ul>
<li>event data can only be accessed over the graph, cannot be shown separately.</li>
<li>event flags appear really close to the graph, and that makes them difficult to click and read.</li>
</ul>


<center><p><span itemscope itemtype="http://schema.org/Photograph"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/u/uzabase/20150204/20150204205730.png" alt="f:id:uzabase:20150204205730p:plain" title="f:id:uzabase:20150204205730p:plain" class="hatena-fotolife" itemprop="image"></span></p></center>


<p><a href="https://developers.google.com/chart/interactive/docs/gallery/annotationchart">Google Annotation Chart</a>: part of the Google Charts library.</p>

<ul>
<li>can show only one event stream per data graph, although more than one graph can be added to the visualization.</li>
<li>events are shown in a separated table, although only one column can be shown.</li>
<li>events are not html links by default, this has to be extended.</li>
</ul>


<p>Some other interesting libraries are:</p>

<ul>
<li><a href="http://code.shutterstock.com/rickshaw/">Rickshaw</a>: no default annotation support, development is needed. Old browser support not available.</li>
<li><a href="http://c3js.org/samples/grid_x_lines.html">C3</a>: impressive library, but fails same as previous.</li>
<li><a href="http://www.simile-widgets.org/timeplot/">SIMILE widgets</a></li>
<li><a href="http://dygraphs.com/gallery/#g/annotations">Dygraphs</a> although supports annotated timelines, some development would be needed to create an intuitive and friendly visualization.</li>
</ul>


<p>So finally, Google chart has been chosen, at least for this prototype phase.</p>

<p><b>2. Creating a basic data service for first test</b></p>

<p>For the first interaction test we have created a simple JSON format which will be received in the browser to show the data. At this point, we will try to show only news headlines and we will expand the model later.</p>

<p>The JSON format is as follows:</p>

<pre class="code" data-lang="" data-unlink>  {&#34;article_list&#34;: 
    [
      {
        &#34;date&#34;: &#34;YYYY-MM-dd&#34;, 
        &#34;value&#34;: 1234, 
        &#34;headline&#34;: &#34;String with the news headline&#34;
      }, 
      ...
    ]
  }</pre>


<p>This will allow us to quickly interact with the graphic library, check the complexity for using the data and inspect the final results.</p>

<p><b>Note:</b> "value" can be empty or not, depending on that day stock price. "headline" can be empty is there is a stock price for that day, but no news.</p>

<p>At SPEEDA we use <a href="https://wicket.apache.org/">Apache Wicket</a> for the platform development. So in order to create a REST service, we will code a simple <a href="http://wicket.apache.org/guide/guide/resources.html">JSON Resource entity</a> extending AbstractResource. To be able to access the service, the final class that extends from our JSONResource will be mounted in our main application class.</p>

<p><b>Note:</b> resources do not check for user authorization by default, this will have to be implemented in our final resource class in the "getData" method.</p>

<pre class="code lang-java" data-lang="java" data-unlink><span class="synPreProc">package</span> com.uzabase.speeda.web.resource;

<span class="synPreProc">import</span> javax.servlet.http.HttpServletResponse;

<span class="synPreProc">import</span> org.apache.wicket.request.Response;
<span class="synPreProc">import</span> org.apache.wicket.request.resource.AbstractResource;
<span class="synPreProc">import</span> org.apache.wicket.request.resource.ContentDisposition;

<span class="synType">public</span> <span class="synType">abstract</span> <span class="synType">class</span> JSONResource <span class="synType">extends</span> AbstractResource {

    <span class="synType">private</span> <span class="synType">static</span> <span class="synType">final</span> <span class="synType">long</span> serialVersionUID = <span class="synConstant">1L</span>;
    <span class="synType">private</span> <span class="synType">final</span> String contentType = <span class="synConstant">&quot;application/json&quot;</span>;

    <span class="synPreProc">@Override</span>
    <span class="synType">protected</span> ResourceResponse newResourceResponse(<span class="synType">final</span> Attributes attributes) {
        <span class="synType">final</span> ResourceResponse response = <span class="synStatement">new</span> ResourceResponse();
        response.setContentType(<span class="synType">this</span>.contentType);
        response.setTextEncoding(<span class="synConstant">&quot;UTF-8&quot;</span>);

        <span class="synType">final</span> String data = getData(attributes);
        <span class="synStatement">if</span> (data == <span class="synConstant">null</span>) {
            response.setError(HttpServletResponse.SC_NOT_FOUND);
        } <span class="synStatement">else</span> {
            Long length = getLength(data);
            <span class="synStatement">if</span> (length != <span class="synConstant">null</span>) {
                response.setContentLength(length);
            }
            <span class="synStatement">if</span> (response.dataNeedsToBeWritten(attributes)) {
                response.setContentDisposition(ContentDisposition.INLINE);
                response.setWriteCallback(<span class="synStatement">new</span> WriteCallback() {
                    <span class="synPreProc">@Override</span>
                    <span class="synType">public</span> <span class="synType">void</span> writeData(<span class="synType">final</span> Attributes attributes) {
                        JSONResource.<span class="synType">this</span>.writeData(attributes.getResponse(), data);
                    }
                });
            }
        }

        <span class="synStatement">return</span> response;
    }

    <span class="synType">protected</span> <span class="synType">abstract</span> String getData(Attributes attributes);

    <span class="synType">protected</span> <span class="synType">void</span> writeData(Response response, String data) {
        response.write(data);
    }

    <span class="synType">protected</span> Long getLength(String data) {
        <span class="synStatement">return</span> (<span class="synType">long</span>) data.length();
    }
}
</pre>


<p><b>3. Data adjustements</b></p>

<p>Ok, let's add some Javascript code to the <a href="https://developers.google.com/chart/interactive/docs/gallery/annotationchart#Example">template at Google site</a> to process our JSON data:</p>

<pre class="code lang-javascript" data-lang="javascript" data-unlink>google.load(<span class="synConstant">'visualization'</span>, <span class="synConstant">'1'</span>, <span class="synIdentifier">{</span><span class="synConstant">'packages'</span>:<span class="synIdentifier">[</span><span class="synConstant">'annotationchart'</span><span class="synIdentifier">]}</span>);
google.setOnLoadCallback(drawChart);
<span class="synIdentifier">var</span> chart = <span class="synStatement">null</span>;
<span class="synIdentifier">function</span> drawChart() <span class="synIdentifier">{</span>
  <span class="synIdentifier">var</span> data = <span class="synStatement">new</span> google.visualization.DataTable();
  data.addColumn(<span class="synConstant">'date'</span>, <span class="synConstant">'Date'</span>);
  data.addColumn(<span class="syn